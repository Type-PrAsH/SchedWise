(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function rv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kc={exports:{}},nr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function lS(){if(Gm)return nr;Gm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:d,ref:l!==void 0?l:null,props:u}}return nr.Fragment=e,nr.jsx=o,nr.jsxs=o,nr}var Vm;function aS(){return Vm||(Vm=1,kc.exports=lS()),kc.exports}var E=aS(),Lc={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function uS(){if(Bm)return he;Bm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function A(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function B(w,G,$){this.props=w,this.context=G,this.refs=U,this.updater=$||R}B.prototype.isReactComponent={},B.prototype.setState=function(w,G){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,G,"setState")},B.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function K(){}K.prototype=B.prototype;function z(w,G,$){this.props=w,this.context=G,this.refs=U,this.updater=$||R}var q=z.prototype=new K;q.constructor=z,L(q,B.prototype),q.isPureReactComponent=!0;var oe=Array.isArray;function ne(){}var Y={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function j(w,G,$){var W=$.ref;return{$$typeof:n,type:w,key:G,ref:W!==void 0?W:null,props:$}}function de(w,G){return j(w.type,G,w.props)}function be(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function Ce(w){var G={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return G[$]})}var xe=/\/+/g;function Fe(w,G){return typeof w=="object"&&w!==null&&w.key!=null?Ce(""+w.key):G.toString(36)}function st(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ne,ne):(w.status="pending",w.then(function(G){w.status==="pending"&&(w.status="fulfilled",w.value=G)},function(G){w.status==="pending"&&(w.status="rejected",w.reason=G)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function P(w,G,$,W,ce){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var ve=!1;if(w===null)ve=!0;else switch(ye){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(w.$$typeof){case n:case e:ve=!0;break;case v:return ve=w._init,P(ve(w._payload),G,$,W,ce)}}if(ve)return ce=ce(w),ve=W===""?"."+Fe(w,0):W,oe(ce)?($="",ve!=null&&($=ve.replace(xe,"$&/")+"/"),P(ce,G,$,"",function(wi){return wi})):ce!=null&&(be(ce)&&(ce=de(ce,$+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(xe,"$&/")+"/")+ve)),G.push(ce)),1;ve=0;var ut=W===""?".":W+":";if(oe(w))for(var Be=0;Be<w.length;Be++)W=w[Be],ye=ut+Fe(W,Be),ve+=P(W,G,$,ye,ce);else if(Be=A(w),typeof Be=="function")for(w=Be.call(w),Be=0;!(W=w.next()).done;)W=W.value,ye=ut+Fe(W,Be++),ve+=P(W,G,$,ye,ce);else if(ye==="object"){if(typeof w.then=="function")return P(st(w),G,$,W,ce);throw G=String(w),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ve}function J(w,G,$){if(w==null)return w;var W=[],ce=0;return P(w,W,"","",function(ye){return G.call($,ye,ce++)}),W}function ie(w){if(w._status===-1){var G=w._result;G=G(),G.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=G)}if(w._status===1)return w._result.default;throw w._result}var Ne=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},we={map:J,forEach:function(w,G,$){J(w,function(){G.apply(this,arguments)},$)},count:function(w){var G=0;return J(w,function(){G++}),G},toArray:function(w){return J(w,function(G){return G})||[]},only:function(w){if(!be(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return he.Activity=T,he.Children=we,he.Component=B,he.Fragment=o,he.Profiler=l,he.PureComponent=z,he.StrictMode=s,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,he.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Y.H.useMemoCache(w)}},he.cache=function(w){return function(){return w.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(w,G,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var W=L({},w.props),ce=w.key;if(G!=null)for(ye in G.key!==void 0&&(ce=""+G.key),G)!ue.call(G,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&G.ref===void 0||(W[ye]=G[ye]);var ye=arguments.length-2;if(ye===1)W.children=$;else if(1<ye){for(var ve=Array(ye),ut=0;ut<ye;ut++)ve[ut]=arguments[ut+2];W.children=ve}return j(w.type,ce,W)},he.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},he.createElement=function(w,G,$){var W,ce={},ye=null;if(G!=null)for(W in G.key!==void 0&&(ye=""+G.key),G)ue.call(G,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ce[W]=G[W]);var ve=arguments.length-2;if(ve===1)ce.children=$;else if(1<ve){for(var ut=Array(ve),Be=0;Be<ve;Be++)ut[Be]=arguments[Be+2];ce.children=ut}if(w&&w.defaultProps)for(W in ve=w.defaultProps,ve)ce[W]===void 0&&(ce[W]=ve[W]);return j(w,ye,ce)},he.createRef=function(){return{current:null}},he.forwardRef=function(w){return{$$typeof:m,render:w}},he.isValidElement=be,he.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:ie}},he.memo=function(w,G){return{$$typeof:g,type:w,compare:G===void 0?null:G}},he.startTransition=function(w){var G=Y.T,$={};Y.T=$;try{var W=w(),ce=Y.S;ce!==null&&ce($,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ne,Ne)}catch(ye){Ne(ye)}finally{G!==null&&$.types!==null&&(G.types=$.types),Y.T=G}},he.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},he.use=function(w){return Y.H.use(w)},he.useActionState=function(w,G,$){return Y.H.useActionState(w,G,$)},he.useCallback=function(w,G){return Y.H.useCallback(w,G)},he.useContext=function(w){return Y.H.useContext(w)},he.useDebugValue=function(){},he.useDeferredValue=function(w,G){return Y.H.useDeferredValue(w,G)},he.useEffect=function(w,G){return Y.H.useEffect(w,G)},he.useEffectEvent=function(w){return Y.H.useEffectEvent(w)},he.useId=function(){return Y.H.useId()},he.useImperativeHandle=function(w,G,$){return Y.H.useImperativeHandle(w,G,$)},he.useInsertionEffect=function(w,G){return Y.H.useInsertionEffect(w,G)},he.useLayoutEffect=function(w,G){return Y.H.useLayoutEffect(w,G)},he.useMemo=function(w,G){return Y.H.useMemo(w,G)},he.useOptimistic=function(w,G){return Y.H.useOptimistic(w,G)},he.useReducer=function(w,G,$){return Y.H.useReducer(w,G,$)},he.useRef=function(w){return Y.H.useRef(w)},he.useState=function(w){return Y.H.useState(w)},he.useSyncExternalStore=function(w,G,$){return Y.H.useSyncExternalStore(w,G,$)},he.useTransition=function(){return Y.H.useTransition()},he.version="19.2.3",he}var zm;function Ef(){return zm||(zm=1,Lc.exports=uS()),Lc.exports}var ge=Ef();const cS=rv(ge);var Pc={exports:{}},ir={},Oc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function fS(){return qm||(qm=1,(function(n){function e(P,J){var ie=P.length;P.push(J);e:for(;0<ie;){var Ne=ie-1>>>1,we=P[Ne];if(0<l(we,J))P[Ne]=J,P[ie]=we,ie=Ne;else break e}}function o(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var J=P[0],ie=P.pop();if(ie!==J){P[0]=ie;e:for(var Ne=0,we=P.length,w=we>>>1;Ne<w;){var G=2*(Ne+1)-1,$=P[G],W=G+1,ce=P[W];if(0>l($,ie))W<we&&0>l(ce,$)?(P[Ne]=ce,P[W]=ie,Ne=W):(P[Ne]=$,P[G]=ie,Ne=G);else if(W<we&&0>l(ce,ie))P[Ne]=ce,P[W]=ie,Ne=W;else break e}}return J}function l(P,J){var ie=P.sortIndex-J.sortIndex;return ie!==0?ie:P.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var y=[],g=[],v=1,T=null,S=3,A=!1,R=!1,L=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function q(P){for(var J=o(g);J!==null;){if(J.callback===null)s(g);else if(J.startTime<=P)s(g),J.sortIndex=J.expirationTime,e(y,J);else break;J=o(g)}}function oe(P){if(L=!1,q(P),!R)if(o(y)!==null)R=!0,ne||(ne=!0,Ce());else{var J=o(g);J!==null&&st(oe,J.startTime-P)}}var ne=!1,Y=-1,ue=5,j=-1;function de(){return U?!0:!(n.unstable_now()-j<ue)}function be(){if(U=!1,ne){var P=n.unstable_now();j=P;var J=!0;try{e:{R=!1,L&&(L=!1,K(Y),Y=-1),A=!0;var ie=S;try{t:{for(q(P),T=o(y);T!==null&&!(T.expirationTime>P&&de());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,S=T.priorityLevel;var we=Ne(T.expirationTime<=P);if(P=n.unstable_now(),typeof we=="function"){T.callback=we,q(P),J=!0;break t}T===o(y)&&s(y),q(P)}else s(y);T=o(y)}if(T!==null)J=!0;else{var w=o(g);w!==null&&st(oe,w.startTime-P),J=!1}}break e}finally{T=null,S=ie,A=!1}J=void 0}}finally{J?Ce():ne=!1}}}var Ce;if(typeof z=="function")Ce=function(){z(be)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Fe=xe.port2;xe.port1.onmessage=be,Ce=function(){Fe.postMessage(null)}}else Ce=function(){B(be,0)};function st(P,J){Y=B(function(){P(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(P){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var ie=S;S=J;try{return P()}finally{S=ie}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(P,J){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ie=S;S=P;try{return J()}finally{S=ie}},n.unstable_scheduleCallback=function(P,J,ie){var Ne=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ne+ie:Ne):ie=Ne,P){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ie+we,P={id:v++,callback:J,priorityLevel:P,startTime:ie,expirationTime:we,sortIndex:-1},ie>Ne?(P.sortIndex=ie,e(g,P),o(y)===null&&P===o(g)&&(L?(K(Y),Y=-1):L=!0,st(oe,ie-Ne))):(P.sortIndex=we,e(y,P),R||A||(R=!0,ne||(ne=!0,Ce()))),P},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(P){var J=S;return function(){var ie=S;S=J;try{return P.apply(this,arguments)}finally{S=ie}}}})(Hc)),Hc}var Fm;function dS(){return Fm||(Fm=1,Oc.exports=fS()),Oc.exports}var Gc={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function hS(){if(Jm)return vt;Jm=1;var n=Ef();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:y,containerInfo:g,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,v)},vt.flushSync=function(y){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=g,s.p=v,s.d.f()}},vt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},vt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},vt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:A}):v==="script"&&s.d.X(y,{crossOrigin:T,integrity:S,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},vt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},vt.requestFormReset=function(y){s.d.r(y)},vt.unstable_batchedUpdates=function(y,g){return y(g)},vt.useFormState=function(y,g,v){return d.H.useFormState(y,g,v)},vt.useFormStatus=function(){return d.H.useHostTransitionStatus()},vt.version="19.2.3",vt}var Ym;function pS(){if(Ym)return Gc.exports;Ym=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gc.exports=hS(),Gc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function mS(){if(Km)return ir;Km=1;var n=dS(),e=Ef(),o=pS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,a=i;;){var h=r.return;if(h===null)break;var p=h.alternate;if(p===null){if(a=h.return,a!==null){r=a;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===r)return y(h),t;if(p===a)return y(h),i;p=p.sibling}throw Error(s(188))}if(r.return!==a.return)r=h,a=p;else{for(var _=!1,C=h.child;C;){if(C===r){_=!0,r=h,a=p;break}if(C===a){_=!0,a=h,r=p;break}C=C.sibling}if(!_){for(C=p.child;C;){if(C===r){_=!0,r=p,a=h;break}if(C===a){_=!0,a=p,r=h;break}C=C.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),z=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function Ce(t){return t===null||typeof t!="object"?null:(t=be&&t[be]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Symbol.for("react.client.reference");function Fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===xe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case ne:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case z:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case q:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:Fe(t.type)||"Memo";case ue:i=t._payload,t=t._init;try{return Fe(t(i))}catch{}}return null}var st=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ne=[],we=-1;function w(t){return{current:t}}function G(t){0>we||(t.current=Ne[we],Ne[we]=null,we--)}function $(t,i){we++,Ne[we]=t.current,t.current=i}var W=w(null),ce=w(null),ye=w(null),ve=w(null);function ut(t,i){switch($(ye,i),$(ce,t),$(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?am(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=am(i),t=um(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(W),$(W,t)}function Be(){G(W),G(ce),G(ye)}function wi(t){t.memoizedState!==null&&$(ve,t);var i=W.current,r=um(i,t.type);i!==r&&($(ce,t),$(W,r))}function Ni(t){ce.current===t&&(G(W),G(ce)),ve.current===t&&(G(ve),Zs._currentValue=ie)}var to,rs;function cn(t){if(to===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);to=i&&i[1]||"",rs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+t+rs}var no=!1;function Ut(t,i){if(!t||no)return"";no=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(k){var D=k}Reflect.construct(t,[],V)}else{try{V.call()}catch(k){D=k}t.call(V.prototype)}}else{try{throw Error()}catch(k){D=k}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(k){if(k&&D&&typeof k.stack=="string")return[k.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),_=p[0],C=p[1];if(_&&C){var x=_.split(`
`),M=C.split(`
`);for(h=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(a===x.length||h===M.length)for(a=x.length-1,h=M.length-1;1<=a&&0<=h&&x[a]!==M[h];)h--;for(;1<=a&&0<=h;a--,h--)if(x[a]!==M[h]){if(a!==1||h!==1)do if(a--,h--,0>h||x[a]!==M[h]){var O=`
`+x[a].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=a&&0<=h);break}}}finally{no=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?cn(r):""}function fn(t,i){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==i&&i!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return Ut(t.type,!1);case 11:return Ut(t.type.render,!1);case 1:return Ut(t.type,!0);case 31:return cn("Activity");default:return""}}function Kn(t){try{var i="",r=null;do i+=fn(t,r),r=t,t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ls=Object.prototype.hasOwnProperty,as=n.unstable_scheduleCallback,us=n.unstable_cancelCallback,ya=n.unstable_shouldYield,va=n.unstable_requestPaint,Tt=n.unstable_now,_a=n.unstable_getCurrentPriorityLevel,cs=n.unstable_ImmediatePriority,fs=n.unstable_UserBlockingPriority,io=n.unstable_NormalPriority,Ta=n.unstable_LowPriority,yr=n.unstable_IdlePriority,vr=n.log,Sa=n.unstable_setDisableYieldValue,_n=null,X=null;function ee(t){if(typeof vr=="function"&&Sa(t),X&&typeof X.setStrictMode=="function")try{X.setStrictMode(_n,t)}catch{}}var le=Math.clz32?Math.clz32:yt,Je=Math.log,ct=Math.LN2;function yt(t){return t>>>=0,t===0?32:31-(Je(t)/ct|0)|0}var F=256,Ue=262144,Qe=4194304;function We(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ri(t,i,r){var a=t.pendingLanes;if(a===0)return 0;var h=0,p=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var C=a&134217727;return C!==0?(a=C&~p,a!==0?h=We(a):(_&=C,_!==0?h=We(_):r||(r=C&~t,r!==0&&(h=We(r))))):(C=a&~p,C!==0?h=We(C):_!==0?h=We(_):r||(r=a&~t,r!==0&&(h=We(r)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,r=i&-i,p>=r||p===32&&(r&4194048)!==0)?i:h}function Xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ea(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(){var t=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),t}function ds(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Ii(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ca(t,i,r,a,h,p){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var C=t.entanglements,x=t.expirationTimes,M=t.hiddenUpdates;for(r=_&~r;0<r;){var O=31-le(r),V=1<<O;C[O]=0,x[O]=-1;var D=M[O];if(D!==null)for(M[O]=null,O=0;O<D.length;O++){var k=D[O];k!==null&&(k.lane&=-536870913)}r&=~V}a!==0&&Tr(t,a,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(_&~i))}function Tr(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var a=31-le(i);t.entangledLanes|=i,t.entanglements[a]=t.entanglements[a]|1073741824|r&261930}function Sr(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var a=31-le(r),h=1<<a;h&i|t[a]&i&&(t[a]|=i),r&=~h}}function Ye(t,i){var r=i&-i;return r=(r&42)!==0?1:kt(r),(r&(t.suspendedLanes|i))!==0?0:r}function kt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kf(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Dm(t.type))}function Xf(t,i){var r=J.p;try{return J.p=t,i()}finally{J.p=r}}var $n=Math.random().toString(36).slice(2),ft="__reactFiber$"+$n,xt="__reactProps$"+$n,oo="__reactContainer$"+$n,xa="__reactEvents$"+$n,Q0="__reactListeners$"+$n,W0="__reactHandles$"+$n,$f="__reactResources$"+$n,hs="__reactMarker$"+$n;function ba(t){delete t[ft],delete t[xt],delete t[xa],delete t[Q0],delete t[W0]}function so(t){var i=t[ft];if(i)return i;for(var r=t.parentNode;r;){if(i=r[oo]||r[ft]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=gm(t);t!==null;){if(r=t[ft])return r;t=gm(t)}return i}t=r,r=t.parentNode}return null}function ro(t){if(t=t[ft]||t[oo]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function ps(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function lo(t){var i=t[$f];return i||(i=t[$f]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(t){t[hs]=!0}var Qf=new Set,Wf={};function Mi(t,i){ao(t,i),ao(t+"Capture",i)}function ao(t,i){for(Wf[t]=i,t=0;t<i.length;t++)Qf.add(i[t])}var Z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zf={},jf={};function j0(t){return ls.call(jf,t)?!0:ls.call(Zf,t)?!1:Z0.test(t)?jf[t]=!0:(Zf[t]=!0,!1)}function Er(t,i,r){if(j0(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Cr(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Tn(t,i,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+a)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ed(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function e_(t,i,r){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,p.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function wa(t){if(!t._valueTracker){var i=ed(t)?"checked":"value";t._valueTracker=e_(t,i,""+t[i])}}function td(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),a="";return t&&(a=ed(t)?t.checked?"true":"false":t.value),t=a,t!==r?(i.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var t_=/[\n"\\]/g;function qt(t){return t.replace(t_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Na(t,i,r,a,h,p,_,C){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ra(t,_,zt(i)):r!=null?Ra(t,_,zt(r)):a!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+zt(C):t.removeAttribute("name")}function nd(t,i,r,a,h,p,_,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){wa(t);return}r=r!=null?""+zt(r):"",i=i!=null?""+zt(i):r,C||i===t.value||(t.value=i),t.defaultValue=i}a=a??h,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=C?t.checked:!!a,t.defaultChecked=!!a,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),wa(t)}function Ra(t,i,r){i==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function uo(t,i,r,a){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&a&&(t[r].defaultSelected=!0)}else{for(r=""+zt(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,a&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function id(t,i,r){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+zt(r):""}function od(t,i,r,a){if(i==null){if(a!=null){if(r!=null)throw Error(s(92));if(st(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),i=r}r=zt(i),t.defaultValue=r,a=t.textContent,a===r&&a!==""&&a!==null&&(t.value=a),wa(t)}function co(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var n_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sd(t,i,r){var a=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":a?t.setProperty(i,r):typeof r!="number"||r===0||n_.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function rd(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var h in i)a=i[h],i.hasOwnProperty(h)&&r[h]!==a&&sd(t,h,a)}else for(var p in i)i.hasOwnProperty(p)&&sd(t,p,i[p])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(t){return o_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sn(){}var Ma=null;function Da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fo=null,ho=null;function ld(t){var i=ro(t);if(i&&(t=i.stateNode)){var r=t[xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Na(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+qt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var a=r[i];if(a!==t&&a.form===t.form){var h=a[xt]||null;if(!h)throw Error(s(90));Na(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)a=r[i],a.form===t.form&&td(a)}break e;case"textarea":id(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&uo(t,!!r.multiple,i,!1)}}}var Ua=!1;function ad(t,i,r){if(Ua)return t(i,r);Ua=!0;try{var a=t(i);return a}finally{if(Ua=!1,(fo!==null||ho!==null)&&(dl(),fo&&(i=fo,t=ho,ho=fo=null,ld(i),t)))for(i=0;i<t.length;i++)ld(t[i])}}function ms(t,i){var r=t.stateNode;if(r===null)return null;var a=r[xt]||null;if(a===null)return null;r=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(En)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){ka=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{ka=!1}var Qn=null,La=null,br=null;function ud(){if(br)return br;var t,i=La,r=i.length,a,h="value"in Qn?Qn.value:Qn.textContent,p=h.length;for(t=0;t<r&&i[t]===h[t];t++);var _=r-t;for(a=1;a<=_&&i[r-a]===h[p-a];a++);return br=h.slice(t,1<a?1-a:void 0)}function wr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Nr(){return!0}function cd(){return!1}function bt(t){function i(r,a,h,p,_){this._reactName=r,this._targetInst=h,this.type=a,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(r=t[C],this[C]=r?r(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Nr:cd,this.isPropagationStopped=cd,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),i}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=bt(Di),ys=T({},Di,{view:0,detail:0}),s_=bt(ys),Pa,Oa,vs,Ir=T({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vs&&(vs&&t.type==="mousemove"?(Pa=t.screenX-vs.screenX,Oa=t.screenY-vs.screenY):Oa=Pa=0,vs=t),Pa)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),fd=bt(Ir),r_=T({},Ir,{dataTransfer:0}),l_=bt(r_),a_=T({},ys,{relatedTarget:0}),Ha=bt(a_),u_=T({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),c_=bt(u_),f_=T({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d_=bt(f_),h_=T({},Di,{data:0}),dd=bt(h_),p_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=g_[t])?!!i[t]:!1}function Ga(){return y_}var v_=T({},ys,{key:function(t){if(t.key){var i=p_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),__=bt(v_),T_=T({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=bt(T_),S_=T({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),E_=bt(S_),C_=T({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),A_=bt(C_),x_=T({},Ir,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b_=bt(x_),w_=T({},Di,{newState:0,oldState:0}),N_=bt(w_),R_=[9,13,27,32],Va=En&&"CompositionEvent"in window,_s=null;En&&"documentMode"in document&&(_s=document.documentMode);var I_=En&&"TextEvent"in window&&!_s,pd=En&&(!Va||_s&&8<_s&&11>=_s),md=" ",gd=!1;function yd(t,i){switch(t){case"keyup":return R_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function M_(t,i){switch(t){case"compositionend":return vd(i);case"keypress":return i.which!==32?null:(gd=!0,md);case"textInput":return t=i.data,t===md&&gd?null:t;default:return null}}function D_(t,i){if(po)return t==="compositionend"||!Va&&yd(t,i)?(t=ud(),br=La=Qn=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pd&&i.locale!=="ko"?null:i.data;default:return null}}var U_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!U_[t.type]:i==="textarea"}function Td(t,i,r,a){fo?ho?ho.push(a):ho=[a]:fo=a,i=_l(i,"onChange"),0<i.length&&(r=new Rr("onChange","change",null,r,a),t.push({event:r,listeners:i}))}var Ts=null,Ss=null;function k_(t){nm(t,0)}function Mr(t){var i=ps(t);if(td(i))return t}function Sd(t,i){if(t==="change")return i}var Ed=!1;if(En){var Ba;if(En){var za="oninput"in document;if(!za){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),za=typeof Cd.oninput=="function"}Ba=za}else Ba=!1;Ed=Ba&&(!document.documentMode||9<document.documentMode)}function Ad(){Ts&&(Ts.detachEvent("onpropertychange",xd),Ss=Ts=null)}function xd(t){if(t.propertyName==="value"&&Mr(Ss)){var i=[];Td(i,Ss,t,Da(t)),ad(k_,i)}}function L_(t,i,r){t==="focusin"?(Ad(),Ts=i,Ss=r,Ts.attachEvent("onpropertychange",xd)):t==="focusout"&&Ad()}function P_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mr(Ss)}function O_(t,i){if(t==="click")return Mr(i)}function H_(t,i){if(t==="input"||t==="change")return Mr(i)}function G_(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Lt=typeof Object.is=="function"?Object.is:G_;function Es(t,i){if(Lt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),a=Object.keys(i);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var h=r[a];if(!ls.call(i,h)||!Lt(t[h],i[h]))return!1}return!0}function bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wd(t,i){var r=bd(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=i&&a>=i)return{node:r,offset:i-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bd(r)}}function Nd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Nd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Rd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ar(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ar(t.document)}return i}function qa(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var V_=En&&"documentMode"in document&&11>=document.documentMode,mo=null,Fa=null,Cs=null,Ja=!1;function Id(t,i,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ja||mo==null||mo!==Ar(a)||(a=mo,"selectionStart"in a&&qa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Cs&&Es(Cs,a)||(Cs=a,a=_l(Fa,"onSelect"),0<a.length&&(i=new Rr("onSelect","select",null,i,r),t.push({event:i,listeners:a}),i.target=mo)))}function Ui(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var go={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},Ya={},Md={};En&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function ki(t){if(Ya[t])return Ya[t];if(!go[t])return t;var i=go[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Md)return Ya[t]=i[r];return t}var Dd=ki("animationend"),Ud=ki("animationiteration"),kd=ki("animationstart"),B_=ki("transitionrun"),z_=ki("transitionstart"),q_=ki("transitioncancel"),Ld=ki("transitionend"),Pd=new Map,Ka="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ka.push("scrollEnd");function en(t,i){Pd.set(t,i),Mi(i,[t])}var Dr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ft=[],yo=0,Xa=0;function Ur(){for(var t=yo,i=Xa=yo=0;i<t;){var r=Ft[i];Ft[i++]=null;var a=Ft[i];Ft[i++]=null;var h=Ft[i];Ft[i++]=null;var p=Ft[i];if(Ft[i++]=null,a!==null&&h!==null){var _=a.pending;_===null?h.next=h:(h.next=_.next,_.next=h),a.pending=h}p!==0&&Od(r,h,p)}}function kr(t,i,r,a){Ft[yo++]=t,Ft[yo++]=i,Ft[yo++]=r,Ft[yo++]=a,Xa|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function $a(t,i,r,a){return kr(t,i,r,a),Lr(t)}function Li(t,i){return kr(t,null,null,i),Lr(t)}function Od(t,i,r){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r);for(var h=!1,p=t.return;p!==null;)p.childLanes|=r,a=p.alternate,a!==null&&(a.childLanes|=r),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&i!==null&&(h=31-le(r),t=p.hiddenUpdates,a=t[h],a===null?t[h]=[i]:a.push(i),i.lane=r|536870912),p):null}function Lr(t){if(50<Js)throw Js=0,oc=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var vo={};function F_(t,i,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,i,r,a){return new F_(t,i,r,a)}function Qa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cn(t,i){var r=t.alternate;return r===null?(r=Pt(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Hd(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pr(t,i,r,a,h,p){var _=0;if(a=t,typeof t=="function")Qa(t)&&(_=1);else if(typeof t=="string")_=$T(t,r,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=Pt(31,r,i,h),t.elementType=j,t.lanes=p,t;case L:return Pi(r.children,h,p,i);case U:_=8,h|=24;break;case B:return t=Pt(12,r,i,h|2),t.elementType=B,t.lanes=p,t;case oe:return t=Pt(13,r,i,h),t.elementType=oe,t.lanes=p,t;case ne:return t=Pt(19,r,i,h),t.elementType=ne,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:_=10;break e;case K:_=9;break e;case q:_=11;break e;case Y:_=14;break e;case ue:_=16,a=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),a=null}return i=Pt(_,r,i,h),i.elementType=t,i.type=a,i.lanes=p,i}function Pi(t,i,r,a){return t=Pt(7,t,a,i),t.lanes=r,t}function Wa(t,i,r){return t=Pt(6,t,null,i),t.lanes=r,t}function Gd(t){var i=Pt(18,null,null,0);return i.stateNode=t,i}function Za(t,i,r){return i=Pt(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vd=new WeakMap;function Jt(t,i){if(typeof t=="object"&&t!==null){var r=Vd.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Kn(i)},Vd.set(t,i),i)}return{value:t,source:i,stack:Kn(i)}}var _o=[],To=0,Or=null,As=0,Yt=[],Kt=0,Wn=null,dn=1,hn="";function An(t,i){_o[To++]=As,_o[To++]=Or,Or=t,As=i}function Bd(t,i,r){Yt[Kt++]=dn,Yt[Kt++]=hn,Yt[Kt++]=Wn,Wn=t;var a=dn;t=hn;var h=32-le(a)-1;a&=~(1<<h),r+=1;var p=32-le(i)+h;if(30<p){var _=h-h%5;p=(a&(1<<_)-1).toString(32),a>>=_,h-=_,dn=1<<32-le(i)+h|r<<h|a,hn=p+t}else dn=1<<p|r<<h|a,hn=t}function ja(t){t.return!==null&&(An(t,1),Bd(t,1,0))}function eu(t){for(;t===Or;)Or=_o[--To],_o[To]=null,As=_o[--To],_o[To]=null;for(;t===Wn;)Wn=Yt[--Kt],Yt[Kt]=null,hn=Yt[--Kt],Yt[Kt]=null,dn=Yt[--Kt],Yt[Kt]=null}function zd(t,i){Yt[Kt++]=dn,Yt[Kt++]=hn,Yt[Kt++]=Wn,dn=i.id,hn=i.overflow,Wn=t}var dt=null,ze=null,Ae=!1,Zn=null,Xt=!1,tu=Error(s(519));function jn(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xs(Jt(i,t)),tu}function qd(t){var i=t.stateNode,r=t.type,a=t.memoizedProps;switch(i[ft]=t,i[xt]=a,r){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(r=0;r<Ks.length;r++)Te(Ks[r],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),nd(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),od(i,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||a.suppressHydrationWarning===!0||rm(i.textContent,r)?(a.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),a.onScroll!=null&&Te("scroll",i),a.onScrollEnd!=null&&Te("scrollend",i),a.onClick!=null&&(i.onclick=Sn),i=!0):i=!1,i||jn(t,!0)}function Fd(t){for(dt=t.return;dt;)switch(dt.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:dt=dt.return}}function So(t){if(t!==dt)return!1;if(!Ae)return Fd(t),Ae=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_c(t.type,t.memoizedProps)),r=!r),r&&ze&&jn(t),Fd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ze=mm(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ze=mm(t)}else i===27?(i=ze,hi(t.type)?(t=Ac,Ac=null,ze=t):ze=i):ze=dt?Qt(t.stateNode.nextSibling):null;return!0}function Oi(){ze=dt=null,Ae=!1}function nu(){var t=Zn;return t!==null&&(It===null?It=t:It.push.apply(It,t),Zn=null),t}function xs(t){Zn===null?Zn=[t]:Zn.push(t)}var iu=w(null),Hi=null,xn=null;function ei(t,i,r){$(iu,i._currentValue),i._currentValue=r}function bn(t){t._currentValue=iu.current,G(iu)}function ou(t,i,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===r)break;t=t.return}}function su(t,i,r,a){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var _=h.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=h;for(var x=0;x<i.length;x++)if(C.context===i[x]){p.lanes|=r,C=p.alternate,C!==null&&(C.lanes|=r),ou(p.return,r,t),a||(_=null);break e}p=C.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,p=_.alternate,p!==null&&(p.lanes|=r),ou(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Eo(t,i,r,a){t=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var C=h.type;Lt(h.pendingProps.value,_.value)||(t!==null?t.push(C):t=[C])}}else if(h===ve.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zs):t=[Zs])}h=h.return}t!==null&&su(i,t,r,a),i.flags|=262144}function Hr(t){for(t=t.firstContext;t!==null;){if(!Lt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gi(t){Hi=t,xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return Jd(Hi,t)}function Gr(t,i){return Hi===null&&Gi(t),Jd(t,i)}function Jd(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},xn===null){if(t===null)throw Error(s(308));xn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else xn=xn.next=i;return r}var J_=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,a){t.push(a)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Y_=n.unstable_scheduleCallback,K_=n.unstable_NormalPriority,et={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new J_,data:new Map,refCount:0}}function bs(t){t.refCount--,t.refCount===0&&Y_(K_,function(){t.controller.abort()})}var ws=null,lu=0,Co=0,Ao=null;function X_(t,i){if(ws===null){var r=ws=[];lu=0,Co=cc(),Ao={status:"pending",value:void 0,then:function(a){r.push(a)}}}return lu++,i.then(Yd,Yd),i}function Yd(){if(--lu===0&&ws!==null){Ao!==null&&(Ao.status="fulfilled");var t=ws;ws=null,Co=0,Ao=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $_(t,i){var r=[],a={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){a.status="fulfilled",a.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(a.status="rejected",a.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),a}var Kd=P.S;P.S=function(t,i){Ip=Tt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&X_(t,i),Kd!==null&&Kd(t,i)};var Vi=w(null);function au(){var t=Vi.current;return t!==null?t:Ge.pooledCache}function Vr(t,i){i===null?$(Vi,Vi.current):$(Vi,i.pool)}function Xd(){var t=au();return t===null?null:{parent:et._currentValue,pool:t}}var xo=Error(s(460)),uu=Error(s(474)),Br=Error(s(542)),zr={then:function(){}};function $d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qd(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(Sn,Sn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zd(t),t;default:if(typeof i.status=="string")i.then(Sn,Sn);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(a){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=a}},function(a){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zd(t),t}throw zi=i,xo}}function Bi(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(zi=r,xo):r}}var zi=null;function Wd(){if(zi===null)throw Error(s(459));var t=zi;return zi=null,t}function Zd(t){if(t===xo||t===Br)throw Error(s(483))}var bo=null,Ns=0;function qr(t){var i=Ns;return Ns+=1,bo===null&&(bo=[]),Qd(bo,t,i)}function Rs(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Fr(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function jd(t){function i(N,b){if(t){var I=N.deletions;I===null?(N.deletions=[b],N.flags|=16):I.push(b)}}function r(N,b){if(!t)return null;for(;b!==null;)i(N,b),b=b.sibling;return null}function a(N){for(var b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function h(N,b){return N=Cn(N,b),N.index=0,N.sibling=null,N}function p(N,b,I){return N.index=I,t?(I=N.alternate,I!==null?(I=I.index,I<b?(N.flags|=67108866,b):I):(N.flags|=67108866,b)):(N.flags|=1048576,b)}function _(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function C(N,b,I,H){return b===null||b.tag!==6?(b=Wa(I,N.mode,H),b.return=N,b):(b=h(b,I),b.return=N,b)}function x(N,b,I,H){var se=I.type;return se===L?O(N,b,I.props.children,H,I.key):b!==null&&(b.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ue&&Bi(se)===b.type)?(b=h(b,I.props),Rs(b,I),b.return=N,b):(b=Pr(I.type,I.key,I.props,null,N.mode,H),Rs(b,I),b.return=N,b)}function M(N,b,I,H){return b===null||b.tag!==4||b.stateNode.containerInfo!==I.containerInfo||b.stateNode.implementation!==I.implementation?(b=Za(I,N.mode,H),b.return=N,b):(b=h(b,I.children||[]),b.return=N,b)}function O(N,b,I,H,se){return b===null||b.tag!==7?(b=Pi(I,N.mode,H,se),b.return=N,b):(b=h(b,I),b.return=N,b)}function V(N,b,I){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Wa(""+b,N.mode,I),b.return=N,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case A:return I=Pr(b.type,b.key,b.props,null,N.mode,I),Rs(I,b),I.return=N,I;case R:return b=Za(b,N.mode,I),b.return=N,b;case ue:return b=Bi(b),V(N,b,I)}if(st(b)||Ce(b))return b=Pi(b,N.mode,I,null),b.return=N,b;if(typeof b.then=="function")return V(N,qr(b),I);if(b.$$typeof===z)return V(N,Gr(N,b),I);Fr(N,b)}return null}function D(N,b,I,H){var se=b!==null?b.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return se!==null?null:C(N,b,""+I,H);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return I.key===se?x(N,b,I,H):null;case R:return I.key===se?M(N,b,I,H):null;case ue:return I=Bi(I),D(N,b,I,H)}if(st(I)||Ce(I))return se!==null?null:O(N,b,I,H,null);if(typeof I.then=="function")return D(N,b,qr(I),H);if(I.$$typeof===z)return D(N,b,Gr(N,I),H);Fr(N,I)}return null}function k(N,b,I,H,se){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return N=N.get(I)||null,C(b,N,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return N=N.get(H.key===null?I:H.key)||null,x(b,N,H,se);case R:return N=N.get(H.key===null?I:H.key)||null,M(b,N,H,se);case ue:return H=Bi(H),k(N,b,I,H,se)}if(st(H)||Ce(H))return N=N.get(I)||null,O(b,N,H,se,null);if(typeof H.then=="function")return k(N,b,I,qr(H),se);if(H.$$typeof===z)return k(N,b,I,Gr(b,H),se);Fr(b,H)}return null}function Z(N,b,I,H){for(var se=null,Re=null,te=b,me=b=0,Ee=null;te!==null&&me<I.length;me++){te.index>me?(Ee=te,te=null):Ee=te.sibling;var Ie=D(N,te,I[me],H);if(Ie===null){te===null&&(te=Ee);break}t&&te&&Ie.alternate===null&&i(N,te),b=p(Ie,b,me),Re===null?se=Ie:Re.sibling=Ie,Re=Ie,te=Ee}if(me===I.length)return r(N,te),Ae&&An(N,me),se;if(te===null){for(;me<I.length;me++)te=V(N,I[me],H),te!==null&&(b=p(te,b,me),Re===null?se=te:Re.sibling=te,Re=te);return Ae&&An(N,me),se}for(te=a(te);me<I.length;me++)Ee=k(te,N,me,I[me],H),Ee!==null&&(t&&Ee.alternate!==null&&te.delete(Ee.key===null?me:Ee.key),b=p(Ee,b,me),Re===null?se=Ee:Re.sibling=Ee,Re=Ee);return t&&te.forEach(function(vi){return i(N,vi)}),Ae&&An(N,me),se}function re(N,b,I,H){if(I==null)throw Error(s(151));for(var se=null,Re=null,te=b,me=b=0,Ee=null,Ie=I.next();te!==null&&!Ie.done;me++,Ie=I.next()){te.index>me?(Ee=te,te=null):Ee=te.sibling;var vi=D(N,te,Ie.value,H);if(vi===null){te===null&&(te=Ee);break}t&&te&&vi.alternate===null&&i(N,te),b=p(vi,b,me),Re===null?se=vi:Re.sibling=vi,Re=vi,te=Ee}if(Ie.done)return r(N,te),Ae&&An(N,me),se;if(te===null){for(;!Ie.done;me++,Ie=I.next())Ie=V(N,Ie.value,H),Ie!==null&&(b=p(Ie,b,me),Re===null?se=Ie:Re.sibling=Ie,Re=Ie);return Ae&&An(N,me),se}for(te=a(te);!Ie.done;me++,Ie=I.next())Ie=k(te,N,me,Ie.value,H),Ie!==null&&(t&&Ie.alternate!==null&&te.delete(Ie.key===null?me:Ie.key),b=p(Ie,b,me),Re===null?se=Ie:Re.sibling=Ie,Re=Ie);return t&&te.forEach(function(rS){return i(N,rS)}),Ae&&An(N,me),se}function He(N,b,I,H){if(typeof I=="object"&&I!==null&&I.type===L&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case A:e:{for(var se=I.key;b!==null;){if(b.key===se){if(se=I.type,se===L){if(b.tag===7){r(N,b.sibling),H=h(b,I.props.children),H.return=N,N=H;break e}}else if(b.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ue&&Bi(se)===b.type){r(N,b.sibling),H=h(b,I.props),Rs(H,I),H.return=N,N=H;break e}r(N,b);break}else i(N,b);b=b.sibling}I.type===L?(H=Pi(I.props.children,N.mode,H,I.key),H.return=N,N=H):(H=Pr(I.type,I.key,I.props,null,N.mode,H),Rs(H,I),H.return=N,N=H)}return _(N);case R:e:{for(se=I.key;b!==null;){if(b.key===se)if(b.tag===4&&b.stateNode.containerInfo===I.containerInfo&&b.stateNode.implementation===I.implementation){r(N,b.sibling),H=h(b,I.children||[]),H.return=N,N=H;break e}else{r(N,b);break}else i(N,b);b=b.sibling}H=Za(I,N.mode,H),H.return=N,N=H}return _(N);case ue:return I=Bi(I),He(N,b,I,H)}if(st(I))return Z(N,b,I,H);if(Ce(I)){if(se=Ce(I),typeof se!="function")throw Error(s(150));return I=se.call(I),re(N,b,I,H)}if(typeof I.then=="function")return He(N,b,qr(I),H);if(I.$$typeof===z)return He(N,b,Gr(N,I),H);Fr(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,b!==null&&b.tag===6?(r(N,b.sibling),H=h(b,I),H.return=N,N=H):(r(N,b),H=Wa(I,N.mode,H),H.return=N,N=H),_(N)):r(N,b)}return function(N,b,I,H){try{Ns=0;var se=He(N,b,I,H);return bo=null,se}catch(te){if(te===xo||te===Br)throw te;var Re=Pt(29,te,null,N.mode);return Re.lanes=H,Re.return=N,Re}finally{}}}var qi=jd(!0),eh=jd(!1),ti=!1;function cu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ni(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ii(t,i,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(De&2)!==0){var h=a.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),a.pending=i,i=Lr(t),Od(t,null,r),i}return kr(t,a,i,r),Lr(t)}function Is(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,Sr(t,r)}}function du(t,i){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var h=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?h=p=_:p=p.next=_,r=r.next}while(r!==null);p===null?h=p=i:p=p.next=i}else h=p=i;r={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var hu=!1;function Ms(){if(hu){var t=Ao;if(t!==null)throw t}}function Ds(t,i,r,a){hu=!1;var h=t.updateQueue;ti=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var x=C,M=x.next;x.next=null,_===null?p=M:_.next=M,_=x;var O=t.alternate;O!==null&&(O=O.updateQueue,C=O.lastBaseUpdate,C!==_&&(C===null?O.firstBaseUpdate=M:C.next=M,O.lastBaseUpdate=x))}if(p!==null){var V=h.baseState;_=0,O=M=x=null,C=p;do{var D=C.lane&-536870913,k=D!==C.lane;if(k?(Se&D)===D:(a&D)===D){D!==0&&D===Co&&(hu=!0),O!==null&&(O=O.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Z=t,re=C;D=i;var He=r;switch(re.tag){case 1:if(Z=re.payload,typeof Z=="function"){V=Z.call(He,V,D);break e}V=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=re.payload,D=typeof Z=="function"?Z.call(He,V,D):Z,D==null)break e;V=T({},V,D);break e;case 2:ti=!0}}D=C.callback,D!==null&&(t.flags|=64,k&&(t.flags|=8192),k=h.callbacks,k===null?h.callbacks=[D]:k.push(D))}else k={lane:D,tag:C.tag,payload:C.payload,callback:C.callback,next:null},O===null?(M=O=k,x=V):O=O.next=k,_|=D;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;k=C,C=k.next,k.next=null,h.lastBaseUpdate=k,h.shared.pending=null}}while(!0);O===null&&(x=V),h.baseState=x,h.firstBaseUpdate=M,h.lastBaseUpdate=O,p===null&&(h.shared.lanes=0),ai|=_,t.lanes=_,t.memoizedState=V}}function th(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function nh(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)th(r[t],i)}var wo=w(null),Jr=w(0);function ih(t,i){t=Ln,$(Jr,t),$(wo,i),Ln=t|i.baseLanes}function pu(){$(Jr,Ln),$(wo,wo.current)}function mu(){Ln=Jr.current,G(wo),G(Jr)}var Ot=w(null),$t=null;function oi(t){var i=t.alternate;$(Ze,Ze.current&1),$(Ot,t),$t===null&&(i===null||wo.current!==null||i.memoizedState!==null)&&($t=t)}function gu(t){$(Ze,Ze.current),$(Ot,t),$t===null&&($t=t)}function oh(t){t.tag===22?($(Ze,Ze.current),$(Ot,t),$t===null&&($t=t)):si()}function si(){$(Ze,Ze.current),$(Ot,Ot.current)}function Ht(t){G(Ot),$t===t&&($t=null),G(Ze)}var Ze=w(0);function Yr(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ec(r)||Cc(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wn=0,pe=null,Pe=null,tt=null,Kr=!1,No=!1,Fi=!1,Xr=0,Us=0,Ro=null,Q_=0;function Xe(){throw Error(s(321))}function yu(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!Lt(t[r],i[r]))return!1;return!0}function vu(t,i,r,a,h,p){return wn=p,pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Bh:Uu,Fi=!1,p=r(a,h),Fi=!1,No&&(p=rh(i,r,a,h)),sh(t),p}function sh(t){P.H=Ps;var i=Pe!==null&&Pe.next!==null;if(wn=0,tt=Pe=pe=null,Kr=!1,Us=0,Ro=null,i)throw Error(s(300));t===null||nt||(t=t.dependencies,t!==null&&Hr(t)&&(nt=!0))}function rh(t,i,r,a){pe=t;var h=0;do{if(No&&(Ro=null),Us=0,No=!1,25<=h)throw Error(s(301));if(h+=1,tt=Pe=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}P.H=zh,p=i(r,a)}while(No);return p}function W_(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?ks(i):i,t=t.useState()[0],(Pe!==null?Pe.memoizedState:null)!==t&&(pe.flags|=1024),i}function _u(){var t=Xr!==0;return Xr=0,t}function Tu(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Su(t){if(Kr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Kr=!1}wn=0,tt=Pe=pe=null,No=!1,Us=Xr=0,Ro=null}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?pe.memoizedState=tt=t:tt=tt.next=t,tt}function je(){if(Pe===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var i=tt===null?pe.memoizedState:tt.next;if(i!==null)tt=i,Pe=t;else{if(t===null)throw pe.alternate===null?Error(s(467)):Error(s(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},tt===null?pe.memoizedState=tt=t:tt=tt.next=t}return tt}function $r(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ks(t){var i=Us;return Us+=1,Ro===null&&(Ro=[]),t=Qd(Ro,t,i),i=pe,(tt===null?i.memoizedState:tt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Bh:Uu),t}function Qr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ks(t);if(t.$$typeof===z)return ht(t)}throw Error(s(438,String(t)))}function Eu(t){var i=null,r=pe.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var a=pe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=$r(),pe.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),a=0;a<t;a++)r[a]=de;return i.index++,r}function Nn(t,i){return typeof i=="function"?i(t):i}function Wr(t){var i=je();return Cu(i,Pe,t)}function Cu(t,i,r){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var h=t.baseQueue,p=a.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}i.baseQueue=h=p,a.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{i=h.next;var C=_=null,x=null,M=i,O=!1;do{var V=M.lane&-536870913;if(V!==M.lane?(Se&V)===V:(wn&V)===V){var D=M.revertLane;if(D===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),V===Co&&(O=!0);else if((wn&D)===D){M=M.next,D===Co&&(O=!0);continue}else V={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(C=x=V,_=p):x=x.next=V,pe.lanes|=D,ai|=D;V=M.action,Fi&&r(p,V),p=M.hasEagerState?M.eagerState:r(p,V)}else D={lane:V,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(C=x=D,_=p):x=x.next=D,pe.lanes|=V,ai|=V;M=M.next}while(M!==null&&M!==i);if(x===null?_=p:x.next=C,!Lt(p,t.memoizedState)&&(nt=!0,O&&(r=Ao,r!==null)))throw r;t.memoizedState=p,t.baseState=_,t.baseQueue=x,a.lastRenderedState=p}return h===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Au(t){var i=je(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=r.dispatch,h=r.pending,p=i.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Lt(p,i.memoizedState)||(nt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),r.lastRenderedState=p}return[p,a]}function lh(t,i,r){var a=pe,h=je(),p=Ae;if(p){if(r===void 0)throw Error(s(407));r=r()}else r=i();var _=!Lt((Pe||h).memoizedState,r);if(_&&(h.memoizedState=r,nt=!0),h=h.queue,wu(ch.bind(null,a,h,t),[t]),h.getSnapshot!==i||_||tt!==null&&tt.memoizedState.tag&1){if(a.flags|=2048,Io(9,{destroy:void 0},uh.bind(null,a,h,r,i),null),Ge===null)throw Error(s(349));p||(wn&127)!==0||ah(a,i,r)}return r}function ah(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=pe.updateQueue,i===null?(i=$r(),pe.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function uh(t,i,r,a){i.value=r,i.getSnapshot=a,fh(i)&&dh(t)}function ch(t,i,r){return r(function(){fh(i)&&dh(t)})}function fh(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!Lt(t,r)}catch{return!0}}function dh(t){var i=Li(t,2);i!==null&&Mt(i,t,2)}function xu(t){var i=St();if(typeof t=="function"){var r=t;if(t=r(),Fi){ee(!0);try{r()}finally{ee(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:t},i}function hh(t,i,r,a){return t.baseState=r,Cu(t,Pe,typeof a=="function"?a:Nn)}function Z_(t,i,r,a,h){if(el(t))throw Error(s(485));if(t=i.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};P.T!==null?r(!0):p.isTransition=!1,a(p),r=i.pending,r===null?(p.next=i.pending=p,ph(i,p)):(p.next=r.next,i.pending=r.next=p)}}function ph(t,i){var r=i.action,a=i.payload,h=t.state;if(i.isTransition){var p=P.T,_={};P.T=_;try{var C=r(h,a),x=P.S;x!==null&&x(_,C),mh(t,i,C)}catch(M){bu(t,i,M)}finally{p!==null&&_.types!==null&&(p.types=_.types),P.T=p}}else try{p=r(h,a),mh(t,i,p)}catch(M){bu(t,i,M)}}function mh(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){gh(t,i,a)},function(a){return bu(t,i,a)}):gh(t,i,r)}function gh(t,i,r){i.status="fulfilled",i.value=r,yh(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,ph(t,r)))}function bu(t,i,r){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=r,yh(i),i=i.next;while(i!==a)}t.action=null}function yh(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function vh(t,i){return i}function _h(t,i){if(Ae){var r=Ge.formState;if(r!==null){e:{var a=pe;if(Ae){if(ze){t:{for(var h=ze,p=Xt;h.nodeType!==8;){if(!p){h=null;break t}if(h=Qt(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){ze=Qt(h.nextSibling),a=h.data==="F!";break e}}jn(a)}a=!1}a&&(i=r[0])}}return r=St(),r.memoizedState=r.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:i},r.queue=a,r=Hh.bind(null,pe,a),a.dispatch=r,a=xu(!1),p=Du.bind(null,pe,!1,a.queue),a=St(),h={state:i,dispatch:null,action:t,pending:null},a.queue=h,r=Z_.bind(null,pe,h,p,r),h.dispatch=r,a.memoizedState=t,[i,r,!1]}function Th(t){var i=je();return Sh(i,Pe,t)}function Sh(t,i,r){if(i=Cu(t,i,vh)[0],t=Wr(Nn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=ks(i)}catch(_){throw _===xo?Br:_}else a=i;i=je();var h=i.queue,p=h.dispatch;return r!==i.memoizedState&&(pe.flags|=2048,Io(9,{destroy:void 0},j_.bind(null,h,r),null)),[a,p,t]}function j_(t,i){t.action=i}function Eh(t){var i=je(),r=Pe;if(r!==null)return Sh(i,r,t);je(),i=i.memoizedState,r=je();var a=r.queue.dispatch;return r.memoizedState=t,[i,a,!1]}function Io(t,i,r,a){return t={tag:t,create:r,deps:a,inst:i,next:null},i=pe.updateQueue,i===null&&(i=$r(),pe.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,i.lastEffect=t),t}function Ch(){return je().memoizedState}function Zr(t,i,r,a){var h=St();pe.flags|=t,h.memoizedState=Io(1|i,{destroy:void 0},r,a===void 0?null:a)}function jr(t,i,r,a){var h=je();a=a===void 0?null:a;var p=h.memoizedState.inst;Pe!==null&&a!==null&&yu(a,Pe.memoizedState.deps)?h.memoizedState=Io(i,p,r,a):(pe.flags|=t,h.memoizedState=Io(1|i,p,r,a))}function Ah(t,i){Zr(8390656,8,t,i)}function wu(t,i){jr(2048,8,t,i)}function eT(t){pe.flags|=4;var i=pe.updateQueue;if(i===null)i=$r(),pe.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function xh(t){var i=je().memoizedState;return eT({ref:i,nextImpl:t}),function(){if((De&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function bh(t,i){return jr(4,2,t,i)}function wh(t,i){return jr(4,4,t,i)}function Nh(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Rh(t,i,r){r=r!=null?r.concat([t]):null,jr(4,4,Nh.bind(null,i,t),r)}function Nu(){}function Ih(t,i){var r=je();i=i===void 0?null:i;var a=r.memoizedState;return i!==null&&yu(i,a[1])?a[0]:(r.memoizedState=[t,i],t)}function Mh(t,i){var r=je();i=i===void 0?null:i;var a=r.memoizedState;if(i!==null&&yu(i,a[1]))return a[0];if(a=t(),Fi){ee(!0);try{t()}finally{ee(!1)}}return r.memoizedState=[a,i],a}function Ru(t,i,r){return r===void 0||(wn&1073741824)!==0&&(Se&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Dp(),pe.lanes|=t,ai|=t,r)}function Dh(t,i,r,a){return Lt(r,i)?r:wo.current!==null?(t=Ru(t,r,a),Lt(t,i)||(nt=!0),t):(wn&42)===0||(wn&1073741824)!==0&&(Se&261930)===0?(nt=!0,t.memoizedState=r):(t=Dp(),pe.lanes|=t,ai|=t,i)}function Uh(t,i,r,a,h){var p=J.p;J.p=p!==0&&8>p?p:8;var _=P.T,C={};P.T=C,Du(t,!1,i,r);try{var x=h(),M=P.S;if(M!==null&&M(C,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=$_(x,a);Ls(t,i,O,Bt(t))}else Ls(t,i,a,Bt(t))}catch(V){Ls(t,i,{then:function(){},status:"rejected",reason:V},Bt())}finally{J.p=p,_!==null&&C.types!==null&&(_.types=C.types),P.T=_}}function tT(){}function Iu(t,i,r,a){if(t.tag!==5)throw Error(s(476));var h=kh(t).queue;Uh(t,h,i,ie,r===null?tT:function(){return Lh(t),r(a)})}function kh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:ie},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Lh(t){var i=kh(t);i.next===null&&(i=t.alternate.memoizedState),Ls(t,i.next.queue,{},Bt())}function Mu(){return ht(Zs)}function Ph(){return je().memoizedState}function Oh(){return je().memoizedState}function nT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Bt();t=ni(r);var a=ii(i,t,r);a!==null&&(Mt(a,i,r),Is(a,i,r)),i={cache:ru()},t.payload=i;return}i=i.return}}function iT(t,i,r){var a=Bt();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},el(t)?Gh(i,r):(r=$a(t,i,r,a),r!==null&&(Mt(r,t,a),Vh(r,i,a)))}function Hh(t,i,r){var a=Bt();Ls(t,i,r,a)}function Ls(t,i,r,a){var h={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(el(t))Gh(i,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,C=p(_,r);if(h.hasEagerState=!0,h.eagerState=C,Lt(C,_))return kr(t,i,h,0),Ge===null&&Ur(),!1}catch{}finally{}if(r=$a(t,i,h,a),r!==null)return Mt(r,t,a),Vh(r,i,a),!0}return!1}function Du(t,i,r,a){if(a={lane:2,revertLane:cc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},el(t)){if(i)throw Error(s(479))}else i=$a(t,r,a,2),i!==null&&Mt(i,t,2)}function el(t){var i=t.alternate;return t===pe||i!==null&&i===pe}function Gh(t,i){No=Kr=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Vh(t,i,r){if((r&4194048)!==0){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,Sr(t,r)}}var Ps={readContext:ht,use:Qr,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Ps.useEffectEvent=Xe;var Bh={readContext:ht,use:Qr,useCallback:function(t,i){return St().memoizedState=[t,i===void 0?null:i],t},useContext:ht,useEffect:Ah,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Zr(4194308,4,Nh.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Zr(4194308,4,t,i)},useInsertionEffect:function(t,i){Zr(4,2,t,i)},useMemo:function(t,i){var r=St();i=i===void 0?null:i;var a=t();if(Fi){ee(!0);try{t()}finally{ee(!1)}}return r.memoizedState=[a,i],a},useReducer:function(t,i,r){var a=St();if(r!==void 0){var h=r(i);if(Fi){ee(!0);try{r(i)}finally{ee(!1)}}}else h=i;return a.memoizedState=a.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},a.queue=t,t=t.dispatch=iT.bind(null,pe,t),[a.memoizedState,t]},useRef:function(t){var i=St();return t={current:t},i.memoizedState=t},useState:function(t){t=xu(t);var i=t.queue,r=Hh.bind(null,pe,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Nu,useDeferredValue:function(t,i){var r=St();return Ru(r,t,i)},useTransition:function(){var t=xu(!1);return t=Uh.bind(null,pe,t.queue,!0,!1),St().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var a=pe,h=St();if(Ae){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Ge===null)throw Error(s(349));(Se&127)!==0||ah(a,i,r)}h.memoizedState=r;var p={value:r,getSnapshot:i};return h.queue=p,Ah(ch.bind(null,a,p,t),[t]),a.flags|=2048,Io(9,{destroy:void 0},uh.bind(null,a,p,r,i),null),r},useId:function(){var t=St(),i=Ge.identifierPrefix;if(Ae){var r=hn,a=dn;r=(a&~(1<<32-le(a)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Xr++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=Q_++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Mu,useFormState:_h,useActionState:_h,useOptimistic:function(t){var i=St();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Du.bind(null,pe,!0,r),r.dispatch=i,[t,i]},useMemoCache:Eu,useCacheRefresh:function(){return St().memoizedState=nT.bind(null,pe)},useEffectEvent:function(t){var i=St(),r={impl:t};return i.memoizedState=r,function(){if((De&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Uu={readContext:ht,use:Qr,useCallback:Ih,useContext:ht,useEffect:wu,useImperativeHandle:Rh,useInsertionEffect:bh,useLayoutEffect:wh,useMemo:Mh,useReducer:Wr,useRef:Ch,useState:function(){return Wr(Nn)},useDebugValue:Nu,useDeferredValue:function(t,i){var r=je();return Dh(r,Pe.memoizedState,t,i)},useTransition:function(){var t=Wr(Nn)[0],i=je().memoizedState;return[typeof t=="boolean"?t:ks(t),i]},useSyncExternalStore:lh,useId:Ph,useHostTransitionStatus:Mu,useFormState:Th,useActionState:Th,useOptimistic:function(t,i){var r=je();return hh(r,Pe,t,i)},useMemoCache:Eu,useCacheRefresh:Oh};Uu.useEffectEvent=xh;var zh={readContext:ht,use:Qr,useCallback:Ih,useContext:ht,useEffect:wu,useImperativeHandle:Rh,useInsertionEffect:bh,useLayoutEffect:wh,useMemo:Mh,useReducer:Au,useRef:Ch,useState:function(){return Au(Nn)},useDebugValue:Nu,useDeferredValue:function(t,i){var r=je();return Pe===null?Ru(r,t,i):Dh(r,Pe.memoizedState,t,i)},useTransition:function(){var t=Au(Nn)[0],i=je().memoizedState;return[typeof t=="boolean"?t:ks(t),i]},useSyncExternalStore:lh,useId:Ph,useHostTransitionStatus:Mu,useFormState:Eh,useActionState:Eh,useOptimistic:function(t,i){var r=je();return Pe!==null?hh(r,Pe,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Eu,useCacheRefresh:Oh};zh.useEffectEvent=xh;function ku(t,i,r,a){i=t.memoizedState,r=r(a,i),r=r==null?i:T({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lu={enqueueSetState:function(t,i,r){t=t._reactInternals;var a=Bt(),h=ni(a);h.payload=i,r!=null&&(h.callback=r),i=ii(t,h,a),i!==null&&(Mt(i,t,a),Is(i,t,a))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var a=Bt(),h=ni(a);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=ii(t,h,a),i!==null&&(Mt(i,t,a),Is(i,t,a))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Bt(),a=ni(r);a.tag=2,i!=null&&(a.callback=i),i=ii(t,a,r),i!==null&&(Mt(i,t,r),Is(i,t,r))}};function qh(t,i,r,a,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,p,_):i.prototype&&i.prototype.isPureReactComponent?!Es(r,a)||!Es(h,p):!0}function Fh(t,i,r,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,a),i.state!==t&&Lu.enqueueReplaceState(i,i.state,null)}function Ji(t,i){var r=i;if("ref"in i){r={};for(var a in i)a!=="ref"&&(r[a]=i[a])}if(t=t.defaultProps){r===i&&(r=T({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Jh(t){Dr(t)}function Yh(t){console.error(t)}function Kh(t){Dr(t)}function tl(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function Xh(t,i,r){try{var a=t.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pu(t,i,r){return r=ni(r),r.tag=3,r.payload={element:null},r.callback=function(){tl(t,i)},r}function $h(t){return t=ni(t),t.tag=3,t}function Qh(t,i,r,a){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=a.value;t.payload=function(){return h(p)},t.callback=function(){Xh(i,r,a)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Xh(i,r,a),typeof h!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})})}function oT(t,i,r,a,h){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=r.alternate,i!==null&&Eo(i,r,h,!0),r=Ot.current,r!==null){switch(r.tag){case 31:case 13:return $t===null?hl():r.alternate===null&&$e===0&&($e=3),r.flags&=-257,r.flags|=65536,r.lanes=h,a===zr?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([a]):i.add(a),lc(t,a,h)),!1;case 22:return r.flags|=65536,a===zr?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([a]):r.add(a)),lc(t,a,h)),!1}throw Error(s(435,r.tag))}return lc(t,a,h),hl(),!1}if(Ae)return i=Ot.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,a!==tu&&(t=Error(s(422),{cause:a}),xs(Jt(t,r)))):(a!==tu&&(i=Error(s(423),{cause:a}),xs(Jt(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,a=Jt(a,r),h=Pu(t.stateNode,a,h),du(t,h),$e!==4&&($e=2)),!1;var p=Error(s(520),{cause:a});if(p=Jt(p,r),Fs===null?Fs=[p]:Fs.push(p),$e!==4&&($e=2),i===null)return!0;a=Jt(a,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Pu(r.stateNode,a,t),du(r,t),!1;case 1:if(i=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ui===null||!ui.has(p))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$h(h),Qh(h,t,r,a),du(r,h),!1}r=r.return}while(r!==null);return!1}var Ou=Error(s(461)),nt=!1;function pt(t,i,r,a){i.child=t===null?eh(i,null,r,a):qi(i,t.child,r,a)}function Wh(t,i,r,a,h){r=r.render;var p=i.ref;if("ref"in a){var _={};for(var C in a)C!=="ref"&&(_[C]=a[C])}else _=a;return Gi(i),a=vu(t,i,r,_,p,h),C=_u(),t!==null&&!nt?(Tu(t,i,h),Rn(t,i,h)):(Ae&&C&&ja(i),i.flags|=1,pt(t,i,a,h),i.child)}function Zh(t,i,r,a,h){if(t===null){var p=r.type;return typeof p=="function"&&!Qa(p)&&p.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=p,jh(t,i,p,a,h)):(t=Pr(r.type,null,a,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Ju(t,h)){var _=p.memoizedProps;if(r=r.compare,r=r!==null?r:Es,r(_,a)&&t.ref===i.ref)return Rn(t,i,h)}return i.flags|=1,t=Cn(p,a),t.ref=i.ref,t.return=i,i.child=t}function jh(t,i,r,a,h){if(t!==null){var p=t.memoizedProps;if(Es(p,a)&&t.ref===i.ref)if(nt=!1,i.pendingProps=a=p,Ju(t,h))(t.flags&131072)!==0&&(nt=!0);else return i.lanes=t.lanes,Rn(t,i,h)}return Hu(t,i,r,a,h)}function ep(t,i,r,a){var h=a.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|r:r,t!==null){for(a=i.child=t.child,h=0;a!==null;)h=h|a.lanes|a.childLanes,a=a.sibling;a=h&~p}else a=0,i.child=null;return tp(t,i,p,r,a)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vr(i,p!==null?p.cachePool:null),p!==null?ih(i,p):pu(),oh(i);else return a=i.lanes=536870912,tp(t,i,p!==null?p.baseLanes|r:r,r,a)}else p!==null?(Vr(i,p.cachePool),ih(i,p),si(),i.memoizedState=null):(t!==null&&Vr(i,null),pu(),si());return pt(t,i,h,r),i.child}function Os(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function tp(t,i,r,a,h){var p=au();return p=p===null?null:{parent:et._currentValue,pool:p},i.memoizedState={baseLanes:r,cachePool:p},t!==null&&Vr(i,null),pu(),oh(i),t!==null&&Eo(t,i,a,!0),i.childLanes=h,null}function nl(t,i){return i=ol({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function np(t,i,r){return qi(i,t.child,null,r),t=nl(i,i.pendingProps),t.flags|=2,Ht(i),i.memoizedState=null,t}function sT(t,i,r){var a=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ae){if(a.mode==="hidden")return t=nl(i,a),i.lanes=536870912,Os(null,t);if(gu(i),(t=ze)?(t=pm(t,Xt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Wn!==null?{id:dn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},r=Gd(t),r.return=i,i.child=r,dt=i,ze=null)):t=null,t===null)throw jn(i);return i.lanes=536870912,null}return nl(i,a)}var p=t.memoizedState;if(p!==null){var _=p.dehydrated;if(gu(i),h)if(i.flags&256)i.flags&=-257,i=np(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(nt||Eo(t,i,r,!1),h=(r&t.childLanes)!==0,nt||h){if(a=Ge,a!==null&&(_=Ye(a,r),_!==0&&_!==p.retryLane))throw p.retryLane=_,Li(t,_),Mt(a,t,_),Ou;hl(),i=np(t,i,r)}else t=p.treeContext,ze=Qt(_.nextSibling),dt=i,Ae=!0,Zn=null,Xt=!1,t!==null&&zd(i,t),i=nl(i,a),i.flags|=4096;return i}return t=Cn(t.child,{mode:a.mode,children:a.children}),t.ref=i.ref,i.child=t,t.return=i,t}function il(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Hu(t,i,r,a,h){return Gi(i),r=vu(t,i,r,a,void 0,h),a=_u(),t!==null&&!nt?(Tu(t,i,h),Rn(t,i,h)):(Ae&&a&&ja(i),i.flags|=1,pt(t,i,r,h),i.child)}function ip(t,i,r,a,h,p){return Gi(i),i.updateQueue=null,r=rh(i,a,r,h),sh(t),a=_u(),t!==null&&!nt?(Tu(t,i,p),Rn(t,i,p)):(Ae&&a&&ja(i),i.flags|=1,pt(t,i,r,p),i.child)}function op(t,i,r,a,h){if(Gi(i),i.stateNode===null){var p=vo,_=r.contextType;typeof _=="object"&&_!==null&&(p=ht(_)),p=new r(a,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Lu,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=a,p.state=i.memoizedState,p.refs={},cu(i),_=r.contextType,p.context=typeof _=="object"&&_!==null?ht(_):vo,p.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(ku(i,r,_,a),p.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Lu.enqueueReplaceState(p,p.state,null),Ds(i,a,p,h),Ms(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(t===null){p=i.stateNode;var C=i.memoizedProps,x=Ji(r,C);p.props=x;var M=p.context,O=r.contextType;_=vo,typeof O=="object"&&O!==null&&(_=ht(O));var V=r.getDerivedStateFromProps;O=typeof V=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||M!==_)&&Fh(i,p,a,_),ti=!1;var D=i.memoizedState;p.state=D,Ds(i,a,p,h),Ms(),M=i.memoizedState,C||D!==M||ti?(typeof V=="function"&&(ku(i,r,V,a),M=i.memoizedState),(x=ti||qh(i,r,x,a,D,M,_))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=M),p.props=a,p.state=M,p.context=_,a=x):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{p=i.stateNode,fu(t,i),_=i.memoizedProps,O=Ji(r,_),p.props=O,V=i.pendingProps,D=p.context,M=r.contextType,x=vo,typeof M=="object"&&M!==null&&(x=ht(M)),C=r.getDerivedStateFromProps,(M=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==V||D!==x)&&Fh(i,p,a,x),ti=!1,D=i.memoizedState,p.state=D,Ds(i,a,p,h),Ms();var k=i.memoizedState;_!==V||D!==k||ti||t!==null&&t.dependencies!==null&&Hr(t.dependencies)?(typeof C=="function"&&(ku(i,r,C,a),k=i.memoizedState),(O=ti||qh(i,r,O,a,D,k,x)||t!==null&&t.dependencies!==null&&Hr(t.dependencies))?(M||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,k,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,k,x)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=k),p.props=a,p.state=k,p.context=x,a=O):(typeof p.componentDidUpdate!="function"||_===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),a=!1)}return p=a,il(t,i),a=(i.flags&128)!==0,p||a?(p=i.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&a?(i.child=qi(i,t.child,null,h),i.child=qi(i,null,r,h)):pt(t,i,r,h),i.memoizedState=p.state,t=i.child):t=Rn(t,i,h),t}function sp(t,i,r,a){return Oi(),i.flags|=256,pt(t,i,r,a),i.child}var Gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vu(t){return{baseLanes:t,cachePool:Xd()}}function Bu(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Vt),t}function rp(t,i,r){var a=i.pendingProps,h=!1,p=(i.flags&128)!==0,_;if((_=p)||(_=t!==null&&t.memoizedState===null?!1:(Ze.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ae){if(h?oi(i):si(),(t=ze)?(t=pm(t,Xt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Wn!==null?{id:dn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},r=Gd(t),r.return=i,i.child=r,dt=i,ze=null)):t=null,t===null)throw jn(i);return Cc(t)?i.lanes=32:i.lanes=536870912,null}var C=a.children;return a=a.fallback,h?(si(),h=i.mode,C=ol({mode:"hidden",children:C},h),a=Pi(a,h,r,null),C.return=i,a.return=i,C.sibling=a,i.child=C,a=i.child,a.memoizedState=Vu(r),a.childLanes=Bu(t,_,r),i.memoizedState=Gu,Os(null,a)):(oi(i),zu(i,C))}var x=t.memoizedState;if(x!==null&&(C=x.dehydrated,C!==null)){if(p)i.flags&256?(oi(i),i.flags&=-257,i=qu(t,i,r)):i.memoizedState!==null?(si(),i.child=t.child,i.flags|=128,i=null):(si(),C=a.fallback,h=i.mode,a=ol({mode:"visible",children:a.children},h),C=Pi(C,h,r,null),C.flags|=2,a.return=i,C.return=i,a.sibling=C,i.child=a,qi(i,t.child,null,r),a=i.child,a.memoizedState=Vu(r),a.childLanes=Bu(t,_,r),i.memoizedState=Gu,i=Os(null,a));else if(oi(i),Cc(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var M=_.dgst;_=M,a=Error(s(419)),a.stack="",a.digest=_,xs({value:a,source:null,stack:null}),i=qu(t,i,r)}else if(nt||Eo(t,i,r,!1),_=(r&t.childLanes)!==0,nt||_){if(_=Ge,_!==null&&(a=Ye(_,r),a!==0&&a!==x.retryLane))throw x.retryLane=a,Li(t,a),Mt(_,t,a),Ou;Ec(C)||hl(),i=qu(t,i,r)}else Ec(C)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,ze=Qt(C.nextSibling),dt=i,Ae=!0,Zn=null,Xt=!1,t!==null&&zd(i,t),i=zu(i,a.children),i.flags|=4096);return i}return h?(si(),C=a.fallback,h=i.mode,x=t.child,M=x.sibling,a=Cn(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,M!==null?C=Cn(M,C):(C=Pi(C,h,r,null),C.flags|=2),C.return=i,a.return=i,a.sibling=C,i.child=a,Os(null,a),a=i.child,C=t.child.memoizedState,C===null?C=Vu(r):(h=C.cachePool,h!==null?(x=et._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Xd(),C={baseLanes:C.baseLanes|r,cachePool:h}),a.memoizedState=C,a.childLanes=Bu(t,_,r),i.memoizedState=Gu,Os(t.child,a)):(oi(i),r=t.child,t=r.sibling,r=Cn(r,{mode:"visible",children:a.children}),r.return=i,r.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=r,i.memoizedState=null,r)}function zu(t,i){return i=ol({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ol(t,i){return t=Pt(22,t,null,i),t.lanes=0,t}function qu(t,i,r){return qi(i,t.child,null,r),t=zu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function lp(t,i,r){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),ou(t.return,i,r)}function Fu(t,i,r,a,h,p){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:h,treeForkCount:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=a,_.tail=r,_.tailMode=h,_.treeForkCount=p)}function ap(t,i,r){var a=i.pendingProps,h=a.revealOrder,p=a.tail;a=a.children;var _=Ze.current,C=(_&2)!==0;if(C?(_=_&1|2,i.flags|=128):_&=1,$(Ze,_),pt(t,i,a,r),a=Ae?As:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lp(t,r,i);else if(t.tag===19)lp(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&Yr(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Fu(i,!1,h,r,p,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Yr(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Fu(i,!0,r,null,p,a);break;case"together":Fu(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function Rn(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),ai|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Eo(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=Cn(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Cn(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Ju(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hr(t)))}function rT(t,i,r){switch(i.tag){case 3:ut(i,i.stateNode.containerInfo),ei(i,et,t.memoizedState.cache),Oi();break;case 27:case 5:wi(i);break;case 4:ut(i,i.stateNode.containerInfo);break;case 10:ei(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,gu(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(oi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?rp(t,i,r):(oi(i),t=Rn(t,i,r),t!==null?t.sibling:null);oi(i);break;case 19:var h=(t.flags&128)!==0;if(a=(r&i.childLanes)!==0,a||(Eo(t,i,r,!1),a=(r&i.childLanes)!==0),h){if(a)return ap(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(Ze,Ze.current),a)break;return null;case 22:return i.lanes=0,ep(t,i,r,i.pendingProps);case 24:ei(i,et,t.memoizedState.cache)}return Rn(t,i,r)}function up(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)nt=!0;else{if(!Ju(t,r)&&(i.flags&128)===0)return nt=!1,rT(t,i,r);nt=(t.flags&131072)!==0}else nt=!1,Ae&&(i.flags&1048576)!==0&&Bd(i,As,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(t=Bi(i.elementType),i.type=t,typeof t=="function")Qa(t)?(a=Ji(t,a),i.tag=1,i=op(null,i,t,a,r)):(i.tag=0,i=Hu(null,i,t,a,r));else{if(t!=null){var h=t.$$typeof;if(h===q){i.tag=11,i=Wh(null,i,t,a,r);break e}else if(h===Y){i.tag=14,i=Zh(null,i,t,a,r);break e}}throw i=Fe(t)||t,Error(s(306,i,""))}}return i;case 0:return Hu(t,i,i.type,i.pendingProps,r);case 1:return a=i.type,h=Ji(a,i.pendingProps),op(t,i,a,h,r);case 3:e:{if(ut(i,i.stateNode.containerInfo),t===null)throw Error(s(387));a=i.pendingProps;var p=i.memoizedState;h=p.element,fu(t,i),Ds(i,a,null,r);var _=i.memoizedState;if(a=_.cache,ei(i,et,a),a!==p.cache&&su(i,[et],r,!0),Ms(),a=_.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=sp(t,i,a,r);break e}else if(a!==h){h=Jt(Error(s(424)),i),xs(h),i=sp(t,i,a,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ze=Qt(t.firstChild),dt=i,Ae=!0,Zn=null,Xt=!0,r=eh(i,null,a,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Oi(),a===h){i=Rn(t,i,r);break e}pt(t,i,a,r)}i=i.child}return i;case 26:return il(t,i),t===null?(r=Tm(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ae||(r=i.type,t=i.pendingProps,a=Tl(ye.current).createElement(r),a[ft]=i,a[xt]=t,mt(a,r,t),rt(a),i.stateNode=a):i.memoizedState=Tm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return wi(i),t===null&&Ae&&(a=i.stateNode=ym(i.type,i.pendingProps,ye.current),dt=i,Xt=!0,h=ze,hi(i.type)?(Ac=h,ze=Qt(a.firstChild)):ze=h),pt(t,i,i.pendingProps.children,r),il(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ae&&((h=a=ze)&&(a=PT(a,i.type,i.pendingProps,Xt),a!==null?(i.stateNode=a,dt=i,ze=Qt(a.firstChild),Xt=!1,h=!0):h=!1),h||jn(i)),wi(i),h=i.type,p=i.pendingProps,_=t!==null?t.memoizedProps:null,a=p.children,_c(h,p)?a=null:_!==null&&_c(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=vu(t,i,W_,null,null,r),Zs._currentValue=h),il(t,i),pt(t,i,a,r),i.child;case 6:return t===null&&Ae&&((t=r=ze)&&(r=OT(r,i.pendingProps,Xt),r!==null?(i.stateNode=r,dt=i,ze=null,t=!0):t=!1),t||jn(i)),null;case 13:return rp(t,i,r);case 4:return ut(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=qi(i,null,a,r):pt(t,i,a,r),i.child;case 11:return Wh(t,i,i.type,i.pendingProps,r);case 7:return pt(t,i,i.pendingProps,r),i.child;case 8:return pt(t,i,i.pendingProps.children,r),i.child;case 12:return pt(t,i,i.pendingProps.children,r),i.child;case 10:return a=i.pendingProps,ei(i,i.type,a.value),pt(t,i,a.children,r),i.child;case 9:return h=i.type._context,a=i.pendingProps.children,Gi(i),h=ht(h),a=a(h),i.flags|=1,pt(t,i,a,r),i.child;case 14:return Zh(t,i,i.type,i.pendingProps,r);case 15:return jh(t,i,i.type,i.pendingProps,r);case 19:return ap(t,i,r);case 31:return sT(t,i,r);case 22:return ep(t,i,r,i.pendingProps);case 24:return Gi(i),a=ht(et),t===null?(h=au(),h===null&&(h=Ge,p=ru(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=r),h=p),i.memoizedState={parent:a,cache:h},cu(i),ei(i,et,h)):((t.lanes&r)!==0&&(fu(t,i),Ds(i,null,null,r),Ms()),h=t.memoizedState,p=i.memoizedState,h.parent!==a?(h={parent:a,cache:a},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ei(i,et,a)):(a=p.cache,ei(i,et,a),a!==h.cache&&su(i,[et],r,!0))),pt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function In(t){t.flags|=4}function Yu(t,i,r,a,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Pp())t.flags|=8192;else throw zi=zr,uu}else t.flags&=-16777217}function cp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xm(i))if(Pp())t.flags|=8192;else throw zi=zr,uu}function sl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_r():536870912,t.lanes|=i,ko|=i)}function Hs(t,i){if(!Ae)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function qe(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,a|=h.subtreeFlags&65011712,a|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=a,t.childLanes=r,i}function lT(t,i,r){var a=i.pendingProps;switch(eu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(i),null;case 1:return qe(i),null;case 3:return r=i.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),bn(et),Be(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(So(i)?In(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nu())),qe(i),null;case 26:var h=i.type,p=i.memoizedState;return t===null?(In(i),p!==null?(qe(i),cp(i,p)):(qe(i),Yu(i,h,null,a,r))):p?p!==t.memoizedState?(In(i),qe(i),cp(i,p)):(qe(i),i.flags&=-16777217):(t=t.memoizedProps,t!==a&&In(i),qe(i),Yu(i,h,t,a,r)),null;case 27:if(Ni(i),r=ye.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&In(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return qe(i),null}t=W.current,So(i)?qd(i):(t=ym(h,a,r),i.stateNode=t,In(i))}return qe(i),null;case 5:if(Ni(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&In(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return qe(i),null}if(p=W.current,So(i))qd(i);else{var _=Tl(ye.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?_.createElement("select",{is:a.is}):_.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?_.createElement(h,{is:a.is}):_.createElement(h)}}p[ft]=i,p[xt]=a;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=p;e:switch(mt(p,h,a),h){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&In(i)}}return qe(i),Yu(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==a&&In(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(s(166));if(t=ye.current,So(i)){if(t=i.stateNode,r=i.memoizedProps,a=null,h=dt,h!==null)switch(h.tag){case 27:case 5:a=h.memoizedProps}t[ft]=i,t=!!(t.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||rm(t.nodeValue,r)),t||jn(i,!0)}else t=Tl(t).createTextNode(a),t[ft]=i,i.stateNode=t}return qe(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(a=So(i),r!==null){if(t===null){if(!a)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ft]=i}else Oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),t=!1}else r=nu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Ht(i),i):(Ht(i),null);if((i.flags&128)!==0)throw Error(s(558))}return qe(i),null;case 13:if(a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=So(i),a!==null&&a.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ft]=i}else Oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),h=!1}else h=nu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ht(i),i):(Ht(i),null)}return Ht(i),(i.flags&128)!==0?(i.lanes=r,i):(r=a!==null,t=t!==null&&t.memoizedState!==null,r&&(a=i.child,h=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(h=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==h&&(a.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),sl(i,i.updateQueue),qe(i),null);case 4:return Be(),t===null&&pc(i.stateNode.containerInfo),qe(i),null;case 10:return bn(i.type),qe(i),null;case 19:if(G(Ze),a=i.memoizedState,a===null)return qe(i),null;if(h=(i.flags&128)!==0,p=a.rendering,p===null)if(h)Hs(a,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=Yr(t),p!==null){for(i.flags|=128,Hs(a,!1),t=p.updateQueue,i.updateQueue=t,sl(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Hd(r,t),r=r.sibling;return $(Ze,Ze.current&1|2),Ae&&An(i,a.treeForkCount),i.child}t=t.sibling}a.tail!==null&&Tt()>cl&&(i.flags|=128,h=!0,Hs(a,!1),i.lanes=4194304)}else{if(!h)if(t=Yr(p),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,sl(i,t),Hs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Ae)return qe(i),null}else 2*Tt()-a.renderingStartTime>cl&&r!==536870912&&(i.flags|=128,h=!0,Hs(a,!1),i.lanes=4194304);a.isBackwards?(p.sibling=i.child,i.child=p):(t=a.last,t!==null?t.sibling=p:i.child=p,a.last=p)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Tt(),t.sibling=null,r=Ze.current,$(Ze,h?r&1|2:r&1),Ae&&An(i,a.treeForkCount),t):(qe(i),null);case 22:case 23:return Ht(i),mu(),a=i.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(r&536870912)!==0&&(i.flags&128)===0&&(qe(i),i.subtreeFlags&6&&(i.flags|=8192)):qe(i),r=i.updateQueue,r!==null&&sl(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048),t!==null&&G(Vi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),bn(et),qe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function aT(t,i){switch(eu(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return bn(et),Be(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ni(i),null;case 31:if(i.memoizedState!==null){if(Ht(i),i.alternate===null)throw Error(s(340));Oi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Ht(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Oi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(Ze),null;case 4:return Be(),null;case 10:return bn(i.type),null;case 22:case 23:return Ht(i),mu(),t!==null&&G(Vi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return bn(et),null;case 25:return null;default:return null}}function fp(t,i){switch(eu(i),i.tag){case 3:bn(et),Be();break;case 26:case 27:case 5:Ni(i);break;case 4:Be();break;case 31:i.memoizedState!==null&&Ht(i);break;case 13:Ht(i);break;case 19:G(Ze);break;case 10:bn(i.type);break;case 22:case 23:Ht(i),mu(),t!==null&&G(Vi);break;case 24:bn(et)}}function Gs(t,i){try{var r=i.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var h=a.next;r=h;do{if((r.tag&t)===t){a=void 0;var p=r.create,_=r.inst;a=p(),_.destroy=a}r=r.next}while(r!==h)}}catch(C){Le(i,i.return,C)}}function ri(t,i,r){try{var a=i.updateQueue,h=a!==null?a.lastEffect:null;if(h!==null){var p=h.next;a=p;do{if((a.tag&t)===t){var _=a.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,h=i;var x=r,M=C;try{M()}catch(O){Le(h,x,O)}}}a=a.next}while(a!==p)}}catch(O){Le(i,i.return,O)}}function dp(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{nh(i,r)}catch(a){Le(t,t.return,a)}}}function hp(t,i,r){r.props=Ji(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(a){Le(t,i,a)}}function Vs(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof r=="function"?t.refCleanup=r(a):r.current=a}}catch(h){Le(t,i,h)}}function pn(t,i){var r=t.ref,a=t.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(h){Le(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Le(t,i,h)}else r.current=null}function pp(t){var i=t.type,r=t.memoizedProps,a=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(h){Le(t,t.return,h)}}function Ku(t,i,r){try{var a=t.stateNode;IT(a,t.type,r,i),a[xt]=i}catch(h){Le(t,t.return,h)}}function mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hi(t.type)||t.tag===4}function Xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $u(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Sn));else if(a!==4&&(a===27&&hi(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for($u(t,i,r),t=t.sibling;t!==null;)$u(t,i,r),t=t.sibling}function rl(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(a!==4&&(a===27&&hi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(rl(t,i,r),t=t.sibling;t!==null;)rl(t,i,r),t=t.sibling}function gp(t){var i=t.stateNode,r=t.memoizedProps;try{for(var a=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);mt(i,a,r),i[ft]=t,i[xt]=r}catch(p){Le(t,t.return,p)}}var Mn=!1,it=!1,Qu=!1,yp=typeof WeakSet=="function"?WeakSet:Set,lt=null;function uT(t,i){if(t=t.containerInfo,yc=wl,t=Rd(t),qa(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var h=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var _=0,C=-1,x=-1,M=0,O=0,V=t,D=null;t:for(;;){for(var k;V!==r||h!==0&&V.nodeType!==3||(C=_+h),V!==p||a!==0&&V.nodeType!==3||(x=_+a),V.nodeType===3&&(_+=V.nodeValue.length),(k=V.firstChild)!==null;)D=V,V=k;for(;;){if(V===t)break t;if(D===r&&++M===h&&(C=_),D===p&&++O===a&&(x=_),(k=V.nextSibling)!==null)break;V=D,D=V.parentNode}V=k}r=C===-1||x===-1?null:{start:C,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(vc={focusedElem:t,selectionRange:r},wl=!1,lt=i;lt!==null;)if(i=lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,lt=t;else for(;lt!==null;){switch(i=lt,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,r=i,h=p.memoizedProps,p=p.memoizedState,a=r.stateNode;try{var Z=Ji(r.type,h);t=a.getSnapshotBeforeUpdate(Z,p),a.__reactInternalSnapshotBeforeUpdate=t}catch(re){Le(r,r.return,re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Sc(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,lt=t;break}lt=i.return}}function vp(t,i,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Un(t,r),a&4&&Gs(5,r);break;case 1:if(Un(t,r),a&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(_){Le(r,r.return,_)}else{var h=Ji(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Le(r,r.return,_)}}a&64&&dp(r),a&512&&Vs(r,r.return);break;case 3:if(Un(t,r),a&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{nh(t,i)}catch(_){Le(r,r.return,_)}}break;case 27:i===null&&a&4&&gp(r);case 26:case 5:Un(t,r),i===null&&a&4&&pp(r),a&512&&Vs(r,r.return);break;case 12:Un(t,r);break;case 31:Un(t,r),a&4&&Sp(t,r);break;case 13:Un(t,r),a&4&&Ep(t,r),a&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=vT.bind(null,r),HT(t,r))));break;case 22:if(a=r.memoizedState!==null||Mn,!a){i=i!==null&&i.memoizedState!==null||it,h=Mn;var p=it;Mn=a,(it=i)&&!p?kn(t,r,(r.subtreeFlags&8772)!==0):Un(t,r),Mn=h,it=p}break;case 30:break;default:Un(t,r)}}function _p(t){var i=t.alternate;i!==null&&(t.alternate=null,_p(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,wt=!1;function Dn(t,i,r){for(r=r.child;r!==null;)Tp(t,i,r),r=r.sibling}function Tp(t,i,r){if(X&&typeof X.onCommitFiberUnmount=="function")try{X.onCommitFiberUnmount(_n,r)}catch{}switch(r.tag){case 26:it||pn(r,i),Dn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:it||pn(r,i);var a=Ke,h=wt;hi(r.type)&&(Ke=r.stateNode,wt=!1),Dn(t,i,r),$s(r.stateNode),Ke=a,wt=h;break;case 5:it||pn(r,i);case 6:if(a=Ke,h=wt,Ke=null,Dn(t,i,r),Ke=a,wt=h,Ke!==null)if(wt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(r.stateNode)}catch(p){Le(r,i,p)}else try{Ke.removeChild(r.stateNode)}catch(p){Le(r,i,p)}break;case 18:Ke!==null&&(wt?(t=Ke,dm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),zo(t)):dm(Ke,r.stateNode));break;case 4:a=Ke,h=wt,Ke=r.stateNode.containerInfo,wt=!0,Dn(t,i,r),Ke=a,wt=h;break;case 0:case 11:case 14:case 15:ri(2,r,i),it||ri(4,r,i),Dn(t,i,r);break;case 1:it||(pn(r,i),a=r.stateNode,typeof a.componentWillUnmount=="function"&&hp(r,i,a)),Dn(t,i,r);break;case 21:Dn(t,i,r);break;case 22:it=(a=it)||r.memoizedState!==null,Dn(t,i,r),it=a;break;default:Dn(t,i,r)}}function Sp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{zo(t)}catch(r){Le(i,i.return,r)}}}function Ep(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zo(t)}catch(r){Le(i,i.return,r)}}function cT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new yp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new yp),i;default:throw Error(s(435,t.tag))}}function ll(t,i){var r=cT(t);i.forEach(function(a){if(!r.has(a)){r.add(a);var h=_T.bind(null,t,a);a.then(h,h)}})}function Nt(t,i){var r=i.deletions;if(r!==null)for(var a=0;a<r.length;a++){var h=r[a],p=t,_=i,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(hi(C.type)){Ke=C.stateNode,wt=!1;break e}break;case 5:Ke=C.stateNode,wt=!1;break e;case 3:case 4:Ke=C.stateNode.containerInfo,wt=!0;break e}C=C.return}if(Ke===null)throw Error(s(160));Tp(p,_,h),Ke=null,wt=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Cp(i,t),i=i.sibling}var tn=null;function Cp(t,i){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nt(i,t),Rt(t),a&4&&(ri(3,t,t.return),Gs(3,t),ri(5,t,t.return));break;case 1:Nt(i,t),Rt(t),a&512&&(it||r===null||pn(r,r.return)),a&64&&Mn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var h=tn;if(Nt(i,t),Rt(t),a&512&&(it||r===null||pn(r,r.return)),a&4){var p=r!==null?r.memoizedState:null;if(a=t.memoizedState,r===null)if(a===null)if(t.stateNode===null){e:{a=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(a){case"title":p=h.getElementsByTagName("title")[0],(!p||p[hs]||p[ft]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(a),h.head.insertBefore(p,h.querySelector("head > title"))),mt(p,a,r),p[ft]=t,rt(p),a=p;break e;case"link":var _=Cm("link","href",h).get(a+(r.href||""));if(_){for(var C=0;C<_.length;C++)if(p=_[C],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(C,1);break t}}p=h.createElement(a),mt(p,a,r),h.head.appendChild(p);break;case"meta":if(_=Cm("meta","content",h).get(a+(r.content||""))){for(C=0;C<_.length;C++)if(p=_[C],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(C,1);break t}}p=h.createElement(a),mt(p,a,r),h.head.appendChild(p);break;default:throw Error(s(468,a))}p[ft]=t,rt(p),a=p}t.stateNode=a}else Am(h,t.type,t.stateNode);else t.stateNode=Em(h,a,t.memoizedProps);else p!==a?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,a===null?Am(h,t.type,t.stateNode):Em(h,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Ku(t,t.memoizedProps,r.memoizedProps)}break;case 27:Nt(i,t),Rt(t),a&512&&(it||r===null||pn(r,r.return)),r!==null&&a&4&&Ku(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Nt(i,t),Rt(t),a&512&&(it||r===null||pn(r,r.return)),t.flags&32){h=t.stateNode;try{co(h,"")}catch(Z){Le(t,t.return,Z)}}a&4&&t.stateNode!=null&&(h=t.memoizedProps,Ku(t,h,r!==null?r.memoizedProps:h)),a&1024&&(Qu=!0);break;case 6:if(Nt(i,t),Rt(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,r=t.stateNode;try{r.nodeValue=a}catch(Z){Le(t,t.return,Z)}}break;case 3:if(Cl=null,h=tn,tn=Sl(i.containerInfo),Nt(i,t),tn=h,Rt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{zo(i.containerInfo)}catch(Z){Le(t,t.return,Z)}Qu&&(Qu=!1,Ap(t));break;case 4:a=tn,tn=Sl(t.stateNode.containerInfo),Nt(i,t),Rt(t),tn=a;break;case 12:Nt(i,t),Rt(t);break;case 31:Nt(i,t),Rt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ll(t,a)));break;case 13:Nt(i,t),Rt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ul=Tt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ll(t,a)));break;case 22:h=t.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,M=Mn,O=it;if(Mn=M||h,it=O||x,Nt(i,t),it=O,Mn=M,Rt(t),a&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||x||Mn||it||Yi(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){x=r=i;try{if(p=x.stateNode,h)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=x.stateNode;var V=x.memoizedProps.style,D=V!=null&&V.hasOwnProperty("display")?V.display:null;C.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(Z){Le(x,x.return,Z)}}}else if(i.tag===6){if(r===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(Z){Le(x,x.return,Z)}}}else if(i.tag===18){if(r===null){x=i;try{var k=x.stateNode;h?hm(k,!0):hm(x.stateNode,!1)}catch(Z){Le(x,x.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=t.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,ll(t,r))));break;case 19:Nt(i,t),Rt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ll(t,a)));break;case 30:break;case 21:break;default:Nt(i,t),Rt(t)}}function Rt(t){var i=t.flags;if(i&2){try{for(var r,a=t.return;a!==null;){if(mp(a)){r=a;break}a=a.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,p=Xu(t);rl(t,p,h);break;case 5:var _=r.stateNode;r.flags&32&&(co(_,""),r.flags&=-33);var C=Xu(t);rl(t,C,_);break;case 3:case 4:var x=r.stateNode.containerInfo,M=Xu(t);$u(t,M,x);break;default:throw Error(s(161))}}catch(O){Le(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ap(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Un(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vp(t,i.alternate,i),i=i.sibling}function Yi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ri(4,i,i.return),Yi(i);break;case 1:pn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&hp(i,i.return,r),Yi(i);break;case 27:$s(i.stateNode);case 26:case 5:pn(i,i.return),Yi(i);break;case 22:i.memoizedState===null&&Yi(i);break;case 30:Yi(i);break;default:Yi(i)}t=t.sibling}}function kn(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,h=t,p=i,_=p.flags;switch(p.tag){case 0:case 11:case 15:kn(h,p,r),Gs(4,p);break;case 1:if(kn(h,p,r),a=p,h=a.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Le(a,a.return,M)}if(a=p,h=a.updateQueue,h!==null){var C=a.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)th(x[h],C)}catch(M){Le(a,a.return,M)}}r&&_&64&&dp(p),Vs(p,p.return);break;case 27:gp(p);case 26:case 5:kn(h,p,r),r&&a===null&&_&4&&pp(p),Vs(p,p.return);break;case 12:kn(h,p,r);break;case 31:kn(h,p,r),r&&_&4&&Sp(h,p);break;case 13:kn(h,p,r),r&&_&4&&Ep(h,p);break;case 22:p.memoizedState===null&&kn(h,p,r),Vs(p,p.return);break;case 30:break;default:kn(h,p,r)}i=i.sibling}}function Wu(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&bs(r))}function Zu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&bs(t))}function nn(t,i,r,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xp(t,i,r,a),i=i.sibling}function xp(t,i,r,a){var h=i.flags;switch(i.tag){case 0:case 11:case 15:nn(t,i,r,a),h&2048&&Gs(9,i);break;case 1:nn(t,i,r,a);break;case 3:nn(t,i,r,a),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&bs(t)));break;case 12:if(h&2048){nn(t,i,r,a),t=i.stateNode;try{var p=i.memoizedProps,_=p.id,C=p.onPostCommit;typeof C=="function"&&C(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Le(i,i.return,x)}}else nn(t,i,r,a);break;case 31:nn(t,i,r,a);break;case 13:nn(t,i,r,a);break;case 23:break;case 22:p=i.stateNode,_=i.alternate,i.memoizedState!==null?p._visibility&2?nn(t,i,r,a):Bs(t,i):p._visibility&2?nn(t,i,r,a):(p._visibility|=2,Mo(t,i,r,a,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Wu(_,i);break;case 24:nn(t,i,r,a),h&2048&&Zu(i.alternate,i);break;default:nn(t,i,r,a)}}function Mo(t,i,r,a,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,_=i,C=r,x=a,M=_.flags;switch(_.tag){case 0:case 11:case 15:Mo(p,_,C,x,h),Gs(8,_);break;case 23:break;case 22:var O=_.stateNode;_.memoizedState!==null?O._visibility&2?Mo(p,_,C,x,h):Bs(p,_):(O._visibility|=2,Mo(p,_,C,x,h)),h&&M&2048&&Wu(_.alternate,_);break;case 24:Mo(p,_,C,x,h),h&&M&2048&&Zu(_.alternate,_);break;default:Mo(p,_,C,x,h)}i=i.sibling}}function Bs(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,a=i,h=a.flags;switch(a.tag){case 22:Bs(r,a),h&2048&&Wu(a.alternate,a);break;case 24:Bs(r,a),h&2048&&Zu(a.alternate,a);break;default:Bs(r,a)}i=i.sibling}}var zs=8192;function Do(t,i,r){if(t.subtreeFlags&zs)for(t=t.child;t!==null;)bp(t,i,r),t=t.sibling}function bp(t,i,r){switch(t.tag){case 26:Do(t,i,r),t.flags&zs&&t.memoizedState!==null&&QT(r,tn,t.memoizedState,t.memoizedProps);break;case 5:Do(t,i,r);break;case 3:case 4:var a=tn;tn=Sl(t.stateNode.containerInfo),Do(t,i,r),tn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=zs,zs=16777216,Do(t,i,r),zs=a):Do(t,i,r));break;default:Do(t,i,r)}}function wp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function qs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];lt=a,Rp(a,t)}wp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Np(t),t=t.sibling}function Np(t){switch(t.tag){case 0:case 11:case 15:qs(t),t.flags&2048&&ri(9,t,t.return);break;case 3:qs(t);break;case 12:qs(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,al(t)):qs(t);break;default:qs(t)}}function al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];lt=a,Rp(a,t)}wp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ri(8,i,i.return),al(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,al(i));break;default:al(i)}t=t.sibling}}function Rp(t,i){for(;lt!==null;){var r=lt;switch(r.tag){case 0:case 11:case 15:ri(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:bs(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,lt=a;else e:for(r=t;lt!==null;){a=lt;var h=a.sibling,p=a.return;if(_p(a),a===r){lt=null;break e}if(h!==null){h.return=p,lt=h;break e}lt=p}}}var fT={getCacheForType:function(t){var i=ht(et),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return ht(et).controller.signal}},dT=typeof WeakMap=="function"?WeakMap:Map,De=0,Ge=null,_e=null,Se=0,ke=0,Gt=null,li=!1,Uo=!1,ju=!1,Ln=0,$e=0,ai=0,Ki=0,ec=0,Vt=0,ko=0,Fs=null,It=null,tc=!1,ul=0,Ip=0,cl=1/0,fl=null,ui=null,ot=0,ci=null,Lo=null,Pn=0,nc=0,ic=null,Mp=null,Js=0,oc=null;function Bt(){return(De&2)!==0&&Se!==0?Se&-Se:P.T!==null?cc():Kf()}function Dp(){if(Vt===0)if((Se&536870912)===0||Ae){var t=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),Vt=t}else Vt=536870912;return t=Ot.current,t!==null&&(t.flags|=32),Vt}function Mt(t,i,r){(t===Ge&&(ke===2||ke===9)||t.cancelPendingCommit!==null)&&(Po(t,0),fi(t,Se,Vt,!1)),Ii(t,r),((De&2)===0||t!==Ge)&&(t===Ge&&((De&2)===0&&(Ki|=r),$e===4&&fi(t,Se,Vt,!1)),mn(t))}function Up(t,i,r){if((De&6)!==0)throw Error(s(327));var a=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Xn(t,i),h=a?mT(t,i):rc(t,i,!0),p=a;do{if(h===0){Uo&&!a&&fi(t,i,0,!1);break}else{if(r=t.current.alternate,p&&!hT(r)){h=rc(t,i,!1),p=!1;continue}if(h===2){if(p=i,t.errorRecoveryDisabledLanes&p)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var C=t;h=Fs;var x=C.current.memoizedState.isDehydrated;if(x&&(Po(C,_).flags|=256),_=rc(C,_,!1),_!==2){if(ju&&!x){C.errorRecoveryDisabledLanes|=p,Ki|=p,h=4;break e}p=It,It=h,p!==null&&(It===null?It=p:It.push.apply(It,p))}h=_}if(p=!1,h!==2)continue}}if(h===1){Po(t,0),fi(t,i,0,!0);break}e:{switch(a=t,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fi(a,i,Vt,!li);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ul+300-Tt(),10<h)){if(fi(a,i,Vt,!li),Ri(a,0,!0)!==0)break e;Pn=i,a.timeoutHandle=cm(kp.bind(null,a,r,It,fl,tc,i,Vt,Ki,ko,li,p,"Throttled",-0,0),h);break e}kp(a,r,It,fl,tc,i,Vt,Ki,ko,li,p,null,-0,0)}}break}while(!0);mn(t)}function kp(t,i,r,a,h,p,_,C,x,M,O,V,D,k){if(t.timeoutHandle=-1,V=i.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},bp(i,p,V);var Z=(p&62914560)===p?ul-Tt():(p&4194048)===p?Ip-Tt():0;if(Z=WT(V,Z),Z!==null){Pn=p,t.cancelPendingCommit=Z(zp.bind(null,t,i,p,r,a,h,_,C,x,O,V,null,D,k)),fi(t,p,_,!M);return}}zp(t,i,p,r,a,h,_,C,x)}function hT(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var h=r[a],p=h.getSnapshot;h=h.value;try{if(!Lt(p(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fi(t,i,r,a){i&=~ec,i&=~Ki,t.suspendedLanes|=i,t.pingedLanes&=~i,a&&(t.warmLanes|=i),a=t.expirationTimes;for(var h=i;0<h;){var p=31-le(h),_=1<<p;a[p]=-1,h&=~_}r!==0&&Tr(t,r,i)}function dl(){return(De&6)===0?(Ys(0),!1):!0}function sc(){if(_e!==null){if(ke===0)var t=_e.return;else t=_e,xn=Hi=null,Su(t),bo=null,Ns=0,t=_e;for(;t!==null;)fp(t.alternate,t),t=t.return;_e=null}}function Po(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,UT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Pn=0,sc(),Ge=t,_e=r=Cn(t.current,null),Se=i,ke=0,Gt=null,li=!1,Uo=Xn(t,i),ju=!1,ko=Vt=ec=Ki=ai=$e=0,It=Fs=null,tc=!1,(i&8)!==0&&(i|=i&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=i;0<a;){var h=31-le(a),p=1<<h;i|=t[h],a&=~p}return Ln=i,Ur(),r}function Lp(t,i){pe=null,P.H=Ps,i===xo||i===Br?(i=Wd(),ke=3):i===uu?(i=Wd(),ke=4):ke=i===Ou?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gt=i,_e===null&&($e=1,tl(t,Jt(i,t.current)))}function Pp(){var t=Ot.current;return t===null?!0:(Se&4194048)===Se?$t===null:(Se&62914560)===Se||(Se&536870912)!==0?t===$t:!1}function Op(){var t=P.H;return P.H=Ps,t===null?Ps:t}function Hp(){var t=P.A;return P.A=fT,t}function hl(){$e=4,li||(Se&4194048)!==Se&&Ot.current!==null||(Uo=!0),(ai&134217727)===0&&(Ki&134217727)===0||Ge===null||fi(Ge,Se,Vt,!1)}function rc(t,i,r){var a=De;De|=2;var h=Op(),p=Hp();(Ge!==t||Se!==i)&&(fl=null,Po(t,i)),i=!1;var _=$e;e:do try{if(ke!==0&&_e!==null){var C=_e,x=Gt;switch(ke){case 8:sc(),_=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(i=!0);var M=ke;if(ke=0,Gt=null,Oo(t,C,x,M),r&&Uo){_=0;break e}break;default:M=ke,ke=0,Gt=null,Oo(t,C,x,M)}}pT(),_=$e;break}catch(O){Lp(t,O)}while(!0);return i&&t.shellSuspendCounter++,xn=Hi=null,De=a,P.H=h,P.A=p,_e===null&&(Ge=null,Se=0,Ur()),_}function pT(){for(;_e!==null;)Gp(_e)}function mT(t,i){var r=De;De|=2;var a=Op(),h=Hp();Ge!==t||Se!==i?(fl=null,cl=Tt()+500,Po(t,i)):Uo=Xn(t,i);e:do try{if(ke!==0&&_e!==null){i=_e;var p=Gt;t:switch(ke){case 1:ke=0,Gt=null,Oo(t,i,p,1);break;case 2:case 9:if($d(p)){ke=0,Gt=null,Vp(i);break}i=function(){ke!==2&&ke!==9||Ge!==t||(ke=7),mn(t)},p.then(i,i);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:$d(p)?(ke=0,Gt=null,Vp(i)):(ke=0,Gt=null,Oo(t,i,p,7));break;case 5:var _=null;switch(_e.tag){case 26:_=_e.memoizedState;case 5:case 27:var C=_e;if(_?xm(_):C.stateNode.complete){ke=0,Gt=null;var x=C.sibling;if(x!==null)_e=x;else{var M=C.return;M!==null?(_e=M,pl(M)):_e=null}break t}}ke=0,Gt=null,Oo(t,i,p,5);break;case 6:ke=0,Gt=null,Oo(t,i,p,6);break;case 8:sc(),$e=6;break e;default:throw Error(s(462))}}gT();break}catch(O){Lp(t,O)}while(!0);return xn=Hi=null,P.H=a,P.A=h,De=r,_e!==null?0:(Ge=null,Se=0,Ur(),$e)}function gT(){for(;_e!==null&&!ya();)Gp(_e)}function Gp(t){var i=up(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,i===null?pl(t):_e=i}function Vp(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=ip(r,i,i.pendingProps,i.type,void 0,Se);break;case 11:i=ip(r,i,i.pendingProps,i.type.render,i.ref,Se);break;case 5:Su(i);default:fp(r,i),i=_e=Hd(i,Ln),i=up(r,i,Ln)}t.memoizedProps=t.pendingProps,i===null?pl(t):_e=i}function Oo(t,i,r,a){xn=Hi=null,Su(i),bo=null,Ns=0;var h=i.return;try{if(oT(t,h,i,r,Se)){$e=1,tl(t,Jt(r,t.current)),_e=null;return}}catch(p){if(h!==null)throw _e=h,p;$e=1,tl(t,Jt(r,t.current)),_e=null;return}i.flags&32768?(Ae||a===1?t=!0:Uo||(Se&536870912)!==0?t=!1:(li=t=!0,(a===2||a===9||a===3||a===6)&&(a=Ot.current,a!==null&&a.tag===13&&(a.flags|=16384))),Bp(i,t)):pl(i)}function pl(t){var i=t;do{if((i.flags&32768)!==0){Bp(i,li);return}t=i.return;var r=lT(i.alternate,i,Ln);if(r!==null){_e=r;return}if(i=i.sibling,i!==null){_e=i;return}_e=i=t}while(i!==null);$e===0&&($e=5)}function Bp(t,i){do{var r=aT(t.alternate,t);if(r!==null){r.flags&=32767,_e=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){_e=t;return}_e=t=r}while(t!==null);$e=6,_e=null}function zp(t,i,r,a,h,p,_,C,x){t.cancelPendingCommit=null;do ml();while(ot!==0);if((De&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=Xa,Ca(t,r,p,_,C,x),t===Ge&&(_e=Ge=null,Se=0),Lo=i,ci=t,Pn=r,nc=p,ic=h,Mp=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,TT(io,function(){return Kp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null,h=J.p,J.p=2,_=De,De|=4;try{uT(t,i,r)}finally{De=_,J.p=h,P.T=a}}ot=1,qp(),Fp(),Jp()}}function qp(){if(ot===1){ot=0;var t=ci,i=Lo,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var a=J.p;J.p=2;var h=De;De|=4;try{Cp(i,t);var p=vc,_=Rd(t.containerInfo),C=p.focusedElem,x=p.selectionRange;if(_!==C&&C&&C.ownerDocument&&Nd(C.ownerDocument.documentElement,C)){if(x!==null&&qa(C)){var M=x.start,O=x.end;if(O===void 0&&(O=M),"selectionStart"in C)C.selectionStart=M,C.selectionEnd=Math.min(O,C.value.length);else{var V=C.ownerDocument||document,D=V&&V.defaultView||window;if(D.getSelection){var k=D.getSelection(),Z=C.textContent.length,re=Math.min(x.start,Z),He=x.end===void 0?re:Math.min(x.end,Z);!k.extend&&re>He&&(_=He,He=re,re=_);var N=wd(C,re),b=wd(C,He);if(N&&b&&(k.rangeCount!==1||k.anchorNode!==N.node||k.anchorOffset!==N.offset||k.focusNode!==b.node||k.focusOffset!==b.offset)){var I=V.createRange();I.setStart(N.node,N.offset),k.removeAllRanges(),re>He?(k.addRange(I),k.extend(b.node,b.offset)):(I.setEnd(b.node,b.offset),k.addRange(I))}}}}for(V=[],k=C;k=k.parentNode;)k.nodeType===1&&V.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<V.length;C++){var H=V[C];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}wl=!!yc,vc=yc=null}finally{De=h,J.p=a,P.T=r}}t.current=i,ot=2}}function Fp(){if(ot===2){ot=0;var t=ci,i=Lo,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var a=J.p;J.p=2;var h=De;De|=4;try{vp(t,i.alternate,i)}finally{De=h,J.p=a,P.T=r}}ot=3}}function Jp(){if(ot===4||ot===3){ot=0,va();var t=ci,i=Lo,r=Pn,a=Mp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ot=5:(ot=0,Lo=ci=null,Yp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ui=null),Aa(r),i=i.stateNode,X&&typeof X.onCommitFiberRoot=="function")try{X.onCommitFiberRoot(_n,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=P.T,h=J.p,J.p=2,P.T=null;try{for(var p=t.onRecoverableError,_=0;_<a.length;_++){var C=a[_];p(C.value,{componentStack:C.stack})}}finally{P.T=i,J.p=h}}(Pn&3)!==0&&ml(),mn(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===oc?Js++:(Js=0,oc=t):Js=0,Ys(0)}}function Yp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,bs(i)))}function ml(){return qp(),Fp(),Jp(),Kp()}function Kp(){if(ot!==5)return!1;var t=ci,i=nc;nc=0;var r=Aa(Pn),a=P.T,h=J.p;try{J.p=32>r?32:r,P.T=null,r=ic,ic=null;var p=ci,_=Pn;if(ot=0,Lo=ci=null,Pn=0,(De&6)!==0)throw Error(s(331));var C=De;if(De|=4,Np(p.current),xp(p,p.current,_,r),De=C,Ys(0,!1),X&&typeof X.onPostCommitFiberRoot=="function")try{X.onPostCommitFiberRoot(_n,p)}catch{}return!0}finally{J.p=h,P.T=a,Yp(t,i)}}function Xp(t,i,r){i=Jt(r,i),i=Pu(t.stateNode,i,2),t=ii(t,i,2),t!==null&&(Ii(t,2),mn(t))}function Le(t,i,r){if(t.tag===3)Xp(t,t,r);else for(;i!==null;){if(i.tag===3){Xp(i,t,r);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ui===null||!ui.has(a))){t=Jt(r,t),r=$h(2),a=ii(i,r,2),a!==null&&(Qh(r,a,i,t),Ii(a,2),mn(a));break}}i=i.return}}function lc(t,i,r){var a=t.pingCache;if(a===null){a=t.pingCache=new dT;var h=new Set;a.set(i,h)}else h=a.get(i),h===void 0&&(h=new Set,a.set(i,h));h.has(r)||(ju=!0,h.add(r),t=yT.bind(null,t,i,r),i.then(t,t))}function yT(t,i,r){var a=t.pingCache;a!==null&&a.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ge===t&&(Se&r)===r&&($e===4||$e===3&&(Se&62914560)===Se&&300>Tt()-ul?(De&2)===0&&Po(t,0):ec|=r,ko===Se&&(ko=0)),mn(t)}function $p(t,i){i===0&&(i=_r()),t=Li(t,i),t!==null&&(Ii(t,i),mn(t))}function vT(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),$p(t,r)}function _T(t,i){var r=0;switch(t.tag){case 31:case 13:var a=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(i),$p(t,r)}function TT(t,i){return as(t,i)}var gl=null,Ho=null,ac=!1,yl=!1,uc=!1,di=0;function mn(t){t!==Ho&&t.next===null&&(Ho===null?gl=Ho=t:Ho=Ho.next=t),yl=!0,ac||(ac=!0,ET())}function Ys(t,i){if(!uc&&yl){uc=!0;do for(var r=!1,a=gl;a!==null;){if(t!==0){var h=a.pendingLanes;if(h===0)var p=0;else{var _=a.suspendedLanes,C=a.pingedLanes;p=(1<<31-le(42|t)+1)-1,p&=h&~(_&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,jp(a,p))}else p=Se,p=Ri(a,a===Ge?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Xn(a,p)||(r=!0,jp(a,p));a=a.next}while(r);uc=!1}}function ST(){Qp()}function Qp(){yl=ac=!1;var t=0;di!==0&&DT()&&(t=di);for(var i=Tt(),r=null,a=gl;a!==null;){var h=a.next,p=Wp(a,i);p===0?(a.next=null,r===null?gl=h:r.next=h,h===null&&(Ho=r)):(r=a,(t!==0||(p&3)!==0)&&(yl=!0)),a=h}ot!==0&&ot!==5||Ys(t),di!==0&&(di=0)}function Wp(t,i){for(var r=t.suspendedLanes,a=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var _=31-le(p),C=1<<_,x=h[_];x===-1?((C&r)===0||(C&a)!==0)&&(h[_]=Ea(C,i)):x<=i&&(t.expiredLanes|=C),p&=~C}if(i=Ge,r=Se,r=Ri(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,r===0||t===i&&(ke===2||ke===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&us(a),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Xn(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(a!==null&&us(a),Aa(r)){case 2:case 8:r=fs;break;case 32:r=io;break;case 268435456:r=yr;break;default:r=io}return a=Zp.bind(null,t),r=as(r,a),t.callbackPriority=i,t.callbackNode=r,i}return a!==null&&a!==null&&us(a),t.callbackPriority=2,t.callbackNode=null,2}function Zp(t,i){if(ot!==0&&ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ml()&&t.callbackNode!==r)return null;var a=Se;return a=Ri(t,t===Ge?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Up(t,a,i),Wp(t,Tt()),t.callbackNode!=null&&t.callbackNode===r?Zp.bind(null,t):null)}function jp(t,i){if(ml())return null;Up(t,i,!0)}function ET(){kT(function(){(De&6)!==0?as(cs,ST):Qp()})}function cc(){if(di===0){var t=Co;t===0&&(t=F,F<<=1,(F&261888)===0&&(F=256)),di=t}return di}function em(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xr(""+t)}function tm(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function CT(t,i,r,a,h){if(i==="submit"&&r&&r.stateNode===h){var p=em((h[xt]||null).action),_=a.submitter;_&&(i=(i=_[xt]||null)?em(i.formAction):_.getAttribute("formAction"),i!==null&&(p=i,_=null));var C=new Rr("action","action",null,a,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(di!==0){var x=_?tm(h,_):new FormData(h);Iu(r,{pending:!0,data:x,method:h.method,action:p},null,x)}}else typeof p=="function"&&(C.preventDefault(),x=_?tm(h,_):new FormData(h),Iu(r,{pending:!0,data:x,method:h.method,action:p},p,x))},currentTarget:h}]})}}for(var fc=0;fc<Ka.length;fc++){var dc=Ka[fc],AT=dc.toLowerCase(),xT=dc[0].toUpperCase()+dc.slice(1);en(AT,"on"+xT)}en(Dd,"onAnimationEnd"),en(Ud,"onAnimationIteration"),en(kd,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(B_,"onTransitionRun"),en(z_,"onTransitionStart"),en(q_,"onTransitionCancel"),en(Ld,"onTransitionEnd"),ao("onMouseEnter",["mouseout","mouseover"]),ao("onMouseLeave",["mouseout","mouseover"]),ao("onPointerEnter",["pointerout","pointerover"]),ao("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ks));function nm(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],h=a.event;a=a.listeners;e:{var p=void 0;if(i)for(var _=a.length-1;0<=_;_--){var C=a[_],x=C.instance,M=C.currentTarget;if(C=C.listener,x!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=M;try{p(h)}catch(O){Dr(O)}h.currentTarget=null,p=x}else for(_=0;_<a.length;_++){if(C=a[_],x=C.instance,M=C.currentTarget,C=C.listener,x!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=M;try{p(h)}catch(O){Dr(O)}h.currentTarget=null,p=x}}}}function Te(t,i){var r=i[xa];r===void 0&&(r=i[xa]=new Set);var a=t+"__bubble";r.has(a)||(im(i,t,2,!1),r.add(a))}function hc(t,i,r){var a=0;i&&(a|=4),im(r,t,a,i)}var vl="_reactListening"+Math.random().toString(36).slice(2);function pc(t){if(!t[vl]){t[vl]=!0,Qf.forEach(function(r){r!=="selectionchange"&&(bT.has(r)||hc(r,!1,t),hc(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vl]||(i[vl]=!0,hc("selectionchange",!1,i))}}function im(t,i,r,a){switch(Dm(i)){case 2:var h=eS;break;case 8:h=tS;break;default:h=Rc}r=h.bind(null,i,r,t),h=void 0,!ka||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),a?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function mc(t,i,r,a,h){var p=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var _=a.tag;if(_===3||_===4){var C=a.stateNode.containerInfo;if(C===h)break;if(_===4)for(_=a.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;C!==null;){if(_=so(C),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){a=p=_;continue e}C=C.parentNode}}a=a.return}ad(function(){var M=p,O=Da(r),V=[];e:{var D=Pd.get(t);if(D!==void 0){var k=Rr,Z=t;switch(t){case"keypress":if(wr(r)===0)break e;case"keydown":case"keyup":k=__;break;case"focusin":Z="focus",k=Ha;break;case"focusout":Z="blur",k=Ha;break;case"beforeblur":case"afterblur":k=Ha;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=l_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=E_;break;case Dd:case Ud:case kd:k=c_;break;case Ld:k=A_;break;case"scroll":case"scrollend":k=s_;break;case"wheel":k=b_;break;case"copy":case"cut":case"paste":k=d_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=hd;break;case"toggle":case"beforetoggle":k=N_}var re=(i&4)!==0,He=!re&&(t==="scroll"||t==="scrollend"),N=re?D!==null?D+"Capture":null:D;re=[];for(var b=M,I;b!==null;){var H=b;if(I=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||I===null||N===null||(H=ms(b,N),H!=null&&re.push(Xs(b,H,I))),He)break;b=b.return}0<re.length&&(D=new k(D,Z,null,r,O),V.push({event:D,listeners:re}))}}if((i&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",D&&r!==Ma&&(Z=r.relatedTarget||r.fromElement)&&(so(Z)||Z[oo]))break e;if((k||D)&&(D=O.window===O?O:(D=O.ownerDocument)?D.defaultView||D.parentWindow:window,k?(Z=r.relatedTarget||r.toElement,k=M,Z=Z?so(Z):null,Z!==null&&(He=u(Z),re=Z.tag,Z!==He||re!==5&&re!==27&&re!==6)&&(Z=null)):(k=null,Z=M),k!==Z)){if(re=fd,H="onMouseLeave",N="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(re=hd,H="onPointerLeave",N="onPointerEnter",b="pointer"),He=k==null?D:ps(k),I=Z==null?D:ps(Z),D=new re(H,b+"leave",k,r,O),D.target=He,D.relatedTarget=I,H=null,so(O)===M&&(re=new re(N,b+"enter",Z,r,O),re.target=I,re.relatedTarget=He,H=re),He=H,k&&Z)t:{for(re=wT,N=k,b=Z,I=0,H=N;H;H=re(H))I++;H=0;for(var se=b;se;se=re(se))H++;for(;0<I-H;)N=re(N),I--;for(;0<H-I;)b=re(b),H--;for(;I--;){if(N===b||b!==null&&N===b.alternate){re=N;break t}N=re(N),b=re(b)}re=null}else re=null;k!==null&&om(V,D,k,re,!1),Z!==null&&He!==null&&om(V,He,Z,re,!0)}}e:{if(D=M?ps(M):window,k=D.nodeName&&D.nodeName.toLowerCase(),k==="select"||k==="input"&&D.type==="file")var Re=Sd;else if(_d(D))if(Ed)Re=H_;else{Re=P_;var te=L_}else k=D.nodeName,!k||k.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&Ia(M.elementType)&&(Re=Sd):Re=O_;if(Re&&(Re=Re(t,M))){Td(V,Re,r,O);break e}te&&te(t,D,M),t==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&Ra(D,"number",D.value)}switch(te=M?ps(M):window,t){case"focusin":(_d(te)||te.contentEditable==="true")&&(mo=te,Fa=M,Cs=null);break;case"focusout":Cs=Fa=mo=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,Id(V,r,O);break;case"selectionchange":if(V_)break;case"keydown":case"keyup":Id(V,r,O)}var me;if(Va)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else po?yd(t,r)&&(Ee="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(pd&&r.locale!=="ko"&&(po||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&po&&(me=ud()):(Qn=O,La="value"in Qn?Qn.value:Qn.textContent,po=!0)),te=_l(M,Ee),0<te.length&&(Ee=new dd(Ee,t,null,r,O),V.push({event:Ee,listeners:te}),me?Ee.data=me:(me=vd(r),me!==null&&(Ee.data=me)))),(me=I_?M_(t,r):D_(t,r))&&(Ee=_l(M,"onBeforeInput"),0<Ee.length&&(te=new dd("onBeforeInput","beforeinput",null,r,O),V.push({event:te,listeners:Ee}),te.data=me)),CT(V,t,M,r,O)}nm(V,i)})}function Xs(t,i,r){return{instance:t,listener:i,currentTarget:r}}function _l(t,i){for(var r=i+"Capture",a=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=ms(t,r),h!=null&&a.unshift(Xs(t,h,p)),h=ms(t,i),h!=null&&a.push(Xs(t,h,p))),t.tag===3)return a;t=t.return}return[]}function wT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function om(t,i,r,a,h){for(var p=i._reactName,_=[];r!==null&&r!==a;){var C=r,x=C.alternate,M=C.stateNode;if(C=C.tag,x!==null&&x===a)break;C!==5&&C!==26&&C!==27||M===null||(x=M,h?(M=ms(r,p),M!=null&&_.unshift(Xs(r,M,x))):h||(M=ms(r,p),M!=null&&_.push(Xs(r,M,x)))),r=r.return}_.length!==0&&t.push({event:i,listeners:_})}var NT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function sm(t){return(typeof t=="string"?t:""+t).replace(NT,`
`).replace(RT,"")}function rm(t,i){return i=sm(i),sm(t)===i}function Oe(t,i,r,a,h,p){switch(r){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||co(t,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&co(t,""+a);break;case"className":Cr(t,"class",a);break;case"tabIndex":Cr(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(t,r,a);break;case"style":rd(t,a,p);break;case"data":if(i!=="object"){Cr(t,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=xr(""+a),t.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(i!=="input"&&Oe(t,i,"name",h.name,h,null),Oe(t,i,"formEncType",h.formEncType,h,null),Oe(t,i,"formMethod",h.formMethod,h,null),Oe(t,i,"formTarget",h.formTarget,h,null)):(Oe(t,i,"encType",h.encType,h,null),Oe(t,i,"method",h.method,h,null),Oe(t,i,"target",h.target,h,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=xr(""+a),t.setAttribute(r,a);break;case"onClick":a!=null&&(t.onclick=Sn);break;case"onScroll":a!=null&&Te("scroll",t);break;case"onScrollEnd":a!=null&&Te("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}r=xr(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""+a):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":a===!0?t.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,a):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(r,a):t.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(r):t.setAttribute(r,a);break;case"popover":Te("beforetoggle",t),Te("toggle",t),Er(t,"popover",a);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Er(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=i_.get(r)||r,Er(t,r,a))}}function gc(t,i,r,a,h,p){switch(r){case"style":rd(t,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof a=="string"?co(t,a):(typeof a=="number"||typeof a=="bigint")&&co(t,""+a);break;case"onScroll":a!=null&&Te("scroll",t);break;case"onScrollEnd":a!=null&&Te("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),p=t[xt]||null,p=p!=null?p[r]:null,typeof p=="function"&&t.removeEventListener(i,p,h),typeof a=="function")){typeof p!="function"&&p!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,a,h);break e}r in t?t[r]=a:a===!0?t.setAttribute(r,""):Er(t,r,a)}}}function mt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",t),Te("load",t);var a=!1,h=!1,p;for(p in r)if(r.hasOwnProperty(p)){var _=r[p];if(_!=null)switch(p){case"src":a=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Oe(t,i,p,_,r,null)}}h&&Oe(t,i,"srcSet",r.srcSet,r,null),a&&Oe(t,i,"src",r.src,r,null);return;case"input":Te("invalid",t);var C=p=_=h=null,x=null,M=null;for(a in r)if(r.hasOwnProperty(a)){var O=r[a];if(O!=null)switch(a){case"name":h=O;break;case"type":_=O;break;case"checked":x=O;break;case"defaultChecked":M=O;break;case"value":p=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:Oe(t,i,a,O,r,null)}}nd(t,p,C,x,M,_,h,!1);return;case"select":Te("invalid",t),a=_=p=null;for(h in r)if(r.hasOwnProperty(h)&&(C=r[h],C!=null))switch(h){case"value":p=C;break;case"defaultValue":_=C;break;case"multiple":a=C;default:Oe(t,i,h,C,r,null)}i=p,r=_,t.multiple=!!a,i!=null?uo(t,!!a,i,!1):r!=null&&uo(t,!!a,r,!0);return;case"textarea":Te("invalid",t),p=h=a=null;for(_ in r)if(r.hasOwnProperty(_)&&(C=r[_],C!=null))switch(_){case"value":a=C;break;case"defaultValue":h=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Oe(t,i,_,C,r,null)}od(t,a,h,p);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(a=r[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Oe(t,i,x,a,r,null)}return;case"dialog":Te("beforetoggle",t),Te("toggle",t),Te("cancel",t),Te("close",t);break;case"iframe":case"object":Te("load",t);break;case"video":case"audio":for(a=0;a<Ks.length;a++)Te(Ks[a],t);break;case"image":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"embed":case"source":case"link":Te("error",t),Te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(a=r[M],a!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Oe(t,i,M,a,r,null)}return;default:if(Ia(i)){for(O in r)r.hasOwnProperty(O)&&(a=r[O],a!==void 0&&gc(t,i,O,a,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(a=r[C],a!=null&&Oe(t,i,C,a,r,null))}function IT(t,i,r,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,_=null,C=null,x=null,M=null,O=null;for(k in r){var V=r[k];if(r.hasOwnProperty(k)&&V!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":x=V;default:a.hasOwnProperty(k)||Oe(t,i,k,null,a,V)}}for(var D in a){var k=a[D];if(V=r[D],a.hasOwnProperty(D)&&(k!=null||V!=null))switch(D){case"type":p=k;break;case"name":h=k;break;case"checked":M=k;break;case"defaultChecked":O=k;break;case"value":_=k;break;case"defaultValue":C=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,i));break;default:k!==V&&Oe(t,i,D,k,a,V)}}Na(t,_,C,x,M,O,p,h);return;case"select":k=_=C=D=null;for(p in r)if(x=r[p],r.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":k=x;default:a.hasOwnProperty(p)||Oe(t,i,p,null,a,x)}for(h in a)if(p=a[h],x=r[h],a.hasOwnProperty(h)&&(p!=null||x!=null))switch(h){case"value":D=p;break;case"defaultValue":C=p;break;case"multiple":_=p;default:p!==x&&Oe(t,i,h,p,a,x)}i=C,r=_,a=k,D!=null?uo(t,!!r,D,!1):!!a!=!!r&&(i!=null?uo(t,!!r,i,!0):uo(t,!!r,r?[]:"",!1));return;case"textarea":k=D=null;for(C in r)if(h=r[C],r.hasOwnProperty(C)&&h!=null&&!a.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Oe(t,i,C,null,a,h)}for(_ in a)if(h=a[_],p=r[_],a.hasOwnProperty(_)&&(h!=null||p!=null))switch(_){case"value":D=h;break;case"defaultValue":k=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&Oe(t,i,_,h,a,p)}id(t,D,k);return;case"option":for(var Z in r)if(D=r[Z],r.hasOwnProperty(Z)&&D!=null&&!a.hasOwnProperty(Z))switch(Z){case"selected":t.selected=!1;break;default:Oe(t,i,Z,null,a,D)}for(x in a)if(D=a[x],k=r[x],a.hasOwnProperty(x)&&D!==k&&(D!=null||k!=null))switch(x){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Oe(t,i,x,D,a,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in r)D=r[re],r.hasOwnProperty(re)&&D!=null&&!a.hasOwnProperty(re)&&Oe(t,i,re,null,a,D);for(M in a)if(D=a[M],k=r[M],a.hasOwnProperty(M)&&D!==k&&(D!=null||k!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,i));break;default:Oe(t,i,M,D,a,k)}return;default:if(Ia(i)){for(var He in r)D=r[He],r.hasOwnProperty(He)&&D!==void 0&&!a.hasOwnProperty(He)&&gc(t,i,He,void 0,a,D);for(O in a)D=a[O],k=r[O],!a.hasOwnProperty(O)||D===k||D===void 0&&k===void 0||gc(t,i,O,D,a,k);return}}for(var N in r)D=r[N],r.hasOwnProperty(N)&&D!=null&&!a.hasOwnProperty(N)&&Oe(t,i,N,null,a,D);for(V in a)D=a[V],k=r[V],!a.hasOwnProperty(V)||D===k||D==null&&k==null||Oe(t,i,V,D,a,k)}function lm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var h=r[a],p=h.transferSize,_=h.initiatorType,C=h.duration;if(p&&C&&lm(_)){for(_=0,C=h.responseEnd,a+=1;a<r.length;a++){var x=r[a],M=x.startTime;if(M>C)break;var O=x.transferSize,V=x.initiatorType;O&&lm(V)&&(x=x.responseEnd,_+=O*(x<C?1:(C-M)/(x-M)))}if(--a,i+=8*(p+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yc=null,vc=null;function Tl(t){return t.nodeType===9?t:t.ownerDocument}function am(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function um(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function _c(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tc=null;function DT(){var t=window.event;return t&&t.type==="popstate"?t===Tc?!1:(Tc=t,!0):(Tc=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(t){return fm.resolve(null).then(t).catch(LT)}:cm;function LT(t){setTimeout(function(){throw t})}function hi(t){return t==="head"}function dm(t,i){var r=i,a=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(a===0){t.removeChild(h),zo(i);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")$s(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,$s(r);for(var p=r.firstChild;p;){var _=p.nextSibling,C=p.nodeName;p[hs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=_}}else r==="body"&&$s(t.ownerDocument.body);r=h}while(r);zo(i)}function hm(t,i){var r=t;t=0;do{var a=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=a}while(r)}function Sc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sc(r),ba(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function PT(t,i,r,a){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[hs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Qt(t.nextSibling),t===null)break}return null}function OT(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Qt(t.nextSibling),t===null))return null;return t}function pm(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Qt(t.nextSibling),t===null))return null;return t}function Ec(t){return t.data==="$?"||t.data==="$~"}function Cc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function HT(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var a=function(){i(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Qt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ac=null;function mm(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Qt(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function gm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function ym(t,i,r){switch(i=Tl(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function $s(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ba(t)}var Wt=new Map,vm=new Set;function Sl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var On=J.d;J.d={f:GT,r:VT,D:BT,C:zT,L:qT,m:FT,X:YT,S:JT,M:KT};function GT(){var t=On.f(),i=dl();return t||i}function VT(t){var i=ro(t);i!==null&&i.tag===5&&i.type==="form"?Lh(i):On.r(t)}var Go=typeof document>"u"?null:document;function _m(t,i,r){var a=Go;if(a&&typeof i=="string"&&i){var h=qt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),vm.has(h)||(vm.add(h),t={rel:t,crossOrigin:r,href:i},a.querySelector(h)===null&&(i=a.createElement("link"),mt(i,"link",t),rt(i),a.head.appendChild(i)))}}function BT(t){On.D(t),_m("dns-prefetch",t,null)}function zT(t,i){On.C(t,i),_m("preconnect",t,i)}function qT(t,i,r){On.L(t,i,r);var a=Go;if(a&&t&&i){var h='link[rel="preload"][as="'+qt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+qt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+qt(r.imageSizes)+'"]')):h+='[href="'+qt(t)+'"]';var p=h;switch(i){case"style":p=Vo(t);break;case"script":p=Bo(t)}Wt.has(p)||(t=T({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Wt.set(p,t),a.querySelector(h)!==null||i==="style"&&a.querySelector(Qs(p))||i==="script"&&a.querySelector(Ws(p))||(i=a.createElement("link"),mt(i,"link",t),rt(i),a.head.appendChild(i)))}}function FT(t,i){On.m(t,i);var r=Go;if(r&&t){var a=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+qt(a)+'"][href="'+qt(t)+'"]',p=h;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Bo(t)}if(!Wt.has(p)&&(t=T({rel:"modulepreload",href:t},i),Wt.set(p,t),r.querySelector(h)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ws(p)))return}a=r.createElement("link"),mt(a,"link",t),rt(a),r.head.appendChild(a)}}}function JT(t,i,r){On.S(t,i,r);var a=Go;if(a&&t){var h=lo(a).hoistableStyles,p=Vo(t);i=i||"default";var _=h.get(p);if(!_){var C={loading:0,preload:null};if(_=a.querySelector(Qs(p)))C.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Wt.get(p))&&xc(t,r);var x=_=a.createElement("link");rt(x),mt(x,"link",t),x._p=new Promise(function(M,O){x.onload=M,x.onerror=O}),x.addEventListener("load",function(){C.loading|=1}),x.addEventListener("error",function(){C.loading|=2}),C.loading|=4,El(_,i,a)}_={type:"stylesheet",instance:_,count:1,state:C},h.set(p,_)}}}function YT(t,i){On.X(t,i);var r=Go;if(r&&t){var a=lo(r).hoistableScripts,h=Bo(t),p=a.get(h);p||(p=r.querySelector(Ws(h)),p||(t=T({src:t,async:!0},i),(i=Wt.get(h))&&bc(t,i),p=r.createElement("script"),rt(p),mt(p,"link",t),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(h,p))}}function KT(t,i){On.M(t,i);var r=Go;if(r&&t){var a=lo(r).hoistableScripts,h=Bo(t),p=a.get(h);p||(p=r.querySelector(Ws(h)),p||(t=T({src:t,async:!0,type:"module"},i),(i=Wt.get(h))&&bc(t,i),p=r.createElement("script"),rt(p),mt(p,"link",t),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(h,p))}}function Tm(t,i,r,a){var h=(h=ye.current)?Sl(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Vo(r.href),r=lo(h).hoistableStyles,a=r.get(i),a||(a={type:"style",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Vo(r.href);var p=lo(h).hoistableStyles,_=p.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,_),(p=h.querySelector(Qs(t)))&&!p._p&&(_.instance=p,_.state.loading=5),Wt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Wt.set(t,r),p||XT(h,t,r,_.state))),i&&a===null)throw Error(s(528,""));return _}if(i&&a!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Bo(r),r=lo(h).hoistableScripts,a=r.get(i),a||(a={type:"script",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Vo(t){return'href="'+qt(t)+'"'}function Qs(t){return'link[rel="stylesheet"]['+t+"]"}function Sm(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function XT(t,i,r,a){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=t.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),mt(i,"link",r),rt(i),t.head.appendChild(i))}function Bo(t){return'[src="'+qt(t)+'"]'}function Ws(t){return"script[async]"+t}function Em(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var a=t.querySelector('style[data-href~="'+qt(r.href)+'"]');if(a)return i.instance=a,rt(a),a;var h=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),rt(a),mt(a,"style",h),El(a,r.precedence,t),i.instance=a;case"stylesheet":h=Vo(r.href);var p=t.querySelector(Qs(h));if(p)return i.state.loading|=4,i.instance=p,rt(p),p;a=Sm(r),(h=Wt.get(h))&&xc(a,h),p=(t.ownerDocument||t).createElement("link"),rt(p);var _=p;return _._p=new Promise(function(C,x){_.onload=C,_.onerror=x}),mt(p,"link",a),i.state.loading|=4,El(p,r.precedence,t),i.instance=p;case"script":return p=Bo(r.src),(h=t.querySelector(Ws(p)))?(i.instance=h,rt(h),h):(a=r,(h=Wt.get(p))&&(a=T({},r),bc(a,h)),t=t.ownerDocument||t,h=t.createElement("script"),rt(h),mt(h,"link",a),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,El(a,r.precedence,t));return i.instance}function El(t,i,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=a.length?a[a.length-1]:null,p=h,_=0;_<a.length;_++){var C=a[_];if(C.dataset.precedence===i)p=C;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function xc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Cl=null;function Cm(t,i,r){if(Cl===null){var a=new Map,h=Cl=new Map;h.set(r,a)}else h=Cl,a=h.get(r),a||(a=new Map,h.set(r,a));if(a.has(t))return a;for(a.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var p=r[h];if(!(p[hs]||p[ft]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(i)||"";_=t+_;var C=a.get(_);C?C.push(p):a.set(_,[p])}}return a}function Am(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function $T(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function QT(t,i,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Vo(a.href),p=i.querySelector(Qs(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Al.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=p,rt(p);return}p=i.ownerDocument||i,a=Sm(a),(h=Wt.get(h))&&xc(a,h),p=p.createElement("link"),rt(p);var _=p;_._p=new Promise(function(C,x){_.onload=C,_.onerror=x}),mt(p,"link",a),r.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Al.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var wc=0;function WT(t,i){return t.stylesheets&&t.count===0&&bl(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var a=setTimeout(function(){if(t.stylesheets&&bl(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&wc===0&&(wc=62500*MT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bl(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>wc?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(h)}}:null}function Al(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xl=null;function bl(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xl=new Map,i.forEach(ZT,t),xl=null,Al.call(t))}function ZT(t,i){if(!(i.state.loading&4)){var r=xl.get(t);if(r)var a=r.get(null);else{r=new Map,xl.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var _=h[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),a=_)}a&&r.set(null,a)}h=i.instance,_=h.getAttribute("data-precedence"),p=r.get(_)||a,p===a&&r.set(null,h),r.set(_,h),this.count++,a=Al.bind(this),h.addEventListener("load",a),h.addEventListener("error",a),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Zs={$$typeof:z,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function jT(t,i,r,a,h,p,_,C,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=a,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function bm(t,i,r,a,h,p,_,C,x,M,O,V){return t=new jT(t,i,r,_,x,M,O,V,C),i=1,p===!0&&(i|=24),p=Pt(3,null,null,i),t.current=p,p.stateNode=t,i=ru(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:a,isDehydrated:r,cache:i},cu(p),t}function wm(t){return t?(t=vo,t):vo}function Nm(t,i,r,a,h,p){h=wm(h),a.context===null?a.context=h:a.pendingContext=h,a=ni(i),a.payload={element:r},p=p===void 0?null:p,p!==null&&(a.callback=p),r=ii(t,a,i),r!==null&&(Mt(r,t,i),Is(r,t,i))}function Rm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Nc(t,i){Rm(t,i),(t=t.alternate)&&Rm(t,i)}function Im(t){if(t.tag===13||t.tag===31){var i=Li(t,67108864);i!==null&&Mt(i,t,67108864),Nc(t,67108864)}}function Mm(t){if(t.tag===13||t.tag===31){var i=Bt();i=kt(i);var r=Li(t,i);r!==null&&Mt(r,t,i),Nc(t,i)}}var wl=!0;function eS(t,i,r,a){var h=P.T;P.T=null;var p=J.p;try{J.p=2,Rc(t,i,r,a)}finally{J.p=p,P.T=h}}function tS(t,i,r,a){var h=P.T;P.T=null;var p=J.p;try{J.p=8,Rc(t,i,r,a)}finally{J.p=p,P.T=h}}function Rc(t,i,r,a){if(wl){var h=Ic(a);if(h===null)mc(t,i,a,Nl,r),Um(t,a);else if(iS(h,t,i,r,a))a.stopPropagation();else if(Um(t,a),i&4&&-1<nS.indexOf(t)){for(;h!==null;){var p=ro(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=We(p.pendingLanes);if(_!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var x=1<<31-le(_);C.entanglements[1]|=x,_&=~x}mn(p),(De&6)===0&&(cl=Tt()+500,Ys(0))}}break;case 31:case 13:C=Li(p,2),C!==null&&Mt(C,p,2),dl(),Nc(p,2)}if(p=Ic(a),p===null&&mc(t,i,a,Nl,r),p===h)break;h=p}h!==null&&a.stopPropagation()}else mc(t,i,a,null,r)}}function Ic(t){return t=Da(t),Mc(t)}var Nl=null;function Mc(t){if(Nl=null,t=so(t),t!==null){var i=u(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=m(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Nl=t,null}function Dm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_a()){case cs:return 2;case fs:return 8;case io:case Ta:return 32;case yr:return 268435456;default:return 32}default:return 32}}var Dc=!1,pi=null,mi=null,gi=null,js=new Map,er=new Map,yi=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Um(t,i){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":js.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(i.pointerId)}}function tr(t,i,r,a,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:r,eventSystemFlags:a,nativeEvent:p,targetContainers:[h]},i!==null&&(i=ro(i),i!==null&&Im(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function iS(t,i,r,a,h){switch(i){case"focusin":return pi=tr(pi,t,i,r,a,h),!0;case"dragenter":return mi=tr(mi,t,i,r,a,h),!0;case"mouseover":return gi=tr(gi,t,i,r,a,h),!0;case"pointerover":var p=h.pointerId;return js.set(p,tr(js.get(p)||null,t,i,r,a,h)),!0;case"gotpointercapture":return p=h.pointerId,er.set(p,tr(er.get(p)||null,t,i,r,a,h)),!0}return!1}function km(t){var i=so(t.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,Xf(t.priority,function(){Mm(r)});return}}else if(i===31){if(i=m(r),i!==null){t.blockedOn=i,Xf(t.priority,function(){Mm(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Ic(t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Ma=a,r.target.dispatchEvent(a),Ma=null}else return i=ro(r),i!==null&&Im(i),t.blockedOn=r,!1;i.shift()}return!0}function Lm(t,i,r){Rl(t)&&r.delete(i)}function oS(){Dc=!1,pi!==null&&Rl(pi)&&(pi=null),mi!==null&&Rl(mi)&&(mi=null),gi!==null&&Rl(gi)&&(gi=null),js.forEach(Lm),er.forEach(Lm)}function Il(t,i){t.blockedOn===i&&(t.blockedOn=null,Dc||(Dc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oS)))}var Ml=null;function Pm(t){Ml!==t&&(Ml=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ml===t&&(Ml=null);for(var i=0;i<t.length;i+=3){var r=t[i],a=t[i+1],h=t[i+2];if(typeof a!="function"){if(Mc(a||r)===null)continue;break}var p=ro(r);p!==null&&(t.splice(i,3),i-=3,Iu(p,{pending:!0,data:h,method:r.method,action:a},a,h))}}))}function zo(t){function i(x){return Il(x,t)}pi!==null&&Il(pi,t),mi!==null&&Il(mi,t),gi!==null&&Il(gi,t),js.forEach(i),er.forEach(i);for(var r=0;r<yi.length;r++){var a=yi[r];a.blockedOn===t&&(a.blockedOn=null)}for(;0<yi.length&&(r=yi[0],r.blockedOn===null);)km(r),r.blockedOn===null&&yi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var h=r[a],p=r[a+1],_=h[xt]||null;if(typeof p=="function")_||Pm(r);else if(_){var C=null;if(p&&p.hasAttribute("formAction")){if(h=p,_=p[xt]||null)C=_.formAction;else if(Mc(h)!==null)continue}else C=_.action;typeof C=="function"?r[a+1]=C:(r.splice(a,3),a-=3),Pm(r)}}}function Om(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Uc(t){this._internalRoot=t}Dl.prototype.render=Uc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,a=Bt();Nm(r,a,t,i,null,null)},Dl.prototype.unmount=Uc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Nm(t.current,2,null,t,null,null),dl(),i[oo]=null}};function Dl(t){this._internalRoot=t}Dl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Kf();t={blockedOn:null,target:t,priority:i};for(var r=0;r<yi.length&&i!==0&&i<yi[r].priority;r++);yi.splice(r,0,t),r===0&&km(t)}};var Hm=e.version;if(Hm!=="19.2.3")throw Error(s(527,Hm,"19.2.3"));J.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var sS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{_n=Ul.inject(sS),X=Ul}catch{}}return ir.createRoot=function(t,i){if(!l(t))throw Error(s(299));var r=!1,a="",h=Jh,p=Yh,_=Kh;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=bm(t,1,!1,null,null,r,a,null,h,p,_,Om),t[oo]=i.current,pc(t),new Uc(i)},ir.hydrateRoot=function(t,i,r){if(!l(t))throw Error(s(299));var a=!1,h="",p=Jh,_=Yh,C=Kh,x=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),i=bm(t,1,!0,i,r??null,a,h,x,p,_,C,Om),i.context=wm(null),r=i.current,a=Bt(),a=kt(a),h=ni(a),h.callback=null,ii(r,h,a),r=a,i.current.lanes=r,Ii(i,r),mn(i),t[oo]=i.current,pc(t),new Dl(i)},ir.version="19.2.3",ir}var Xm;function gS(){if(Xm)return Pc.exports;Xm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pc.exports=mS(),Pc.exports}var yS=gS();const vS=rv(yS),_S=({messages:n,onSend:e,loading:o})=>{const[s,l]=ge.useState(""),u=ge.useRef(null);ge.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[n]);const d=()=>{!s.trim()||o||(e(s),l(""))};return E.jsxs("div",{className:"flex flex-col h-full glass rounded-[3rem] overflow-hidden shadow-2xl border border-white/10",children:[E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-10 space-y-8 hide-scrollbar",ref:u,children:[n.length===0&&E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 space-y-8 opacity-40",children:[E.jsx("div",{className:"w-20 h-20 rounded-[2.5rem] bg-primary/20 flex items-center justify-center animate-float shadow-lg shadow-primary/20",children:E.jsx("svg",{className:"w-10 h-10 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("h2",{className:"text-3xl font-black text-white",children:"Neural Hub Open"}),E.jsx("p",{className:"text-white/60 max-w-sm text-lg font-medium leading-relaxed",children:"Connect with the SchedWise intelligence core. Ask anything about your schedule or focus."})]})]}),n.map(m=>E.jsx("div",{className:`flex ${m.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2`,children:E.jsx("div",{className:`max-w-[85%] md:max-w-[75%] p-6 rounded-[2.5rem] shadow-2xl ${m.role==="user"?"bg-primary text-black font-bold rounded-tr-none":"glass bg-white/5 text-white rounded-tl-none border border-white/10"}`,children:E.jsx("div",{className:"prose prose-invert prose-sm max-w-none font-medium leading-relaxed",children:m.text})})},m.id)),o&&E.jsx("div",{className:"flex justify-start",children:E.jsxs("div",{className:"glass bg-white/5 p-6 rounded-[2.5rem] rounded-tl-none border border-white/10 flex items-center gap-4 animate-pulse",children:[E.jsxs("div",{className:"flex gap-1.5",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-bounce"}),E.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-bounce [animation-delay:-0.15s]"}),E.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-bounce [animation-delay:-0.3s]"})]}),E.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em] text-white/30",children:"SchedWise is processing..."})]})})]}),E.jsx("div",{className:"p-8 border-t border-white/10 bg-background/50",children:E.jsxs("div",{className:"relative flex items-center gap-4 max-w-5xl mx-auto",children:[E.jsx("input",{type:"text",value:s,onChange:m=>l(m.target.value),onKeyDown:m=>m.key==="Enter"&&d(),placeholder:"Relay message to the intelligence unit...",className:"flex-1 glass bg-white/5 border border-white/10 rounded-[2rem] px-8 py-5 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:bg-white/10 transition-all text-lg font-medium shadow-inner"}),E.jsx("button",{onClick:d,disabled:!s.trim()||o,className:"w-20 h-20 rounded-[2rem] bg-primary text-black flex items-center justify-center transition-all hover:scale-105 active:scale-90 disabled:opacity-30 disabled:scale-100 shadow-xl shadow-primary/30 group",children:E.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})},TS=()=>{};var $m={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=function(n){const e=[];let o=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[o++]=l:l<2048?(e[o++]=l>>6|192,e[o++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[o++]=l>>18|240,e[o++]=l>>12&63|128,e[o++]=l>>6&63|128,e[o++]=l&63|128):(e[o++]=l>>12|224,e[o++]=l>>6&63|128,e[o++]=l&63|128)}return e},SS=function(n){const e=[];let o=0,s=0;for(;o<n.length;){const l=n[o++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[o++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[o++],d=n[o++],m=n[o++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=n[o++],d=n[o++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],d=l+1<n.length,m=d?n[l+1]:0,y=l+2<n.length,g=y?n[l+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,A=g&63;y||(A=64,d||(S=64)),s.push(o[v],o[T],o[S],o[A])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const o=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=o[n.charAt(l++)],m=l<n.length?o[n.charAt(l)]:0;++l;const g=l<n.length?o[n.charAt(l)]:64;++l;const T=l<n.length?o[n.charAt(l)]:64;if(++l,u==null||m==null||g==null||T==null)throw new ES;const S=u<<2|m>>4;if(s.push(S),g!==64){const A=m<<4&240|g>>2;if(s.push(A),T!==64){const R=g<<6&192|T;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(n){const e=lv(n);return av.encodeByteArray(e,!0)},uv=function(n){return CS(n).replace(/\./g,"")},cv=function(n){try{return av.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>AS().__FIREBASE_DEFAULTS__,bS=()=>{if(typeof process>"u"||typeof $m>"u")return;const n=$m.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cv(n[1]);return e&&JSON.parse(e)},Cf=()=>{try{return TS()||xS()||bS()||wS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fv=n=>{var e,o;return(o=(e=Cf())==null?void 0:e.emulatorHosts)==null?void 0:o[n]},NS=n=>{const e=fv(n);if(!e)return;const o=e.lastIndexOf(":");if(o<=0||o+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(o+1),10);return e[0]==="["?[e.substring(1,o-1),s]:[e.substring(0,o),s]},dv=()=>{var n;return(n=Cf())==null?void 0:n.config},hv=n=>{var e;return(e=Cf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}wrapCallback(e){return(o,s)=>{o?this.reject(o):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(o):e(o,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pv(n){return(await fetch(n,{credentials:"include"})).ok}const lr={};function IS(){const n={prod:[],emulator:[]};for(const e of Object.keys(lr))lr[e]?n.emulator.push(e):n.prod.push(e);return n}function MS(n){let e=document.getElementById(n),o=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),o=!0),{created:o,element:e}}let Qm=!1;function mv(n,e){if(typeof window>"u"||typeof document>"u"||!ts(window.location.host)||lr[n]===e||lr[n]||Qm)return;lr[n]=e;function o(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=IS().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,A){S.setAttribute("width","24"),S.setAttribute("id",A),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Qm=!0,d()},S}function v(S,A){S.setAttribute("id",A),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=MS(s),A=o("text"),R=document.getElementById(A)||document.createElement("span"),L=o("learnmore"),U=document.getElementById(L)||document.createElement("a"),B=o("preprendIcon"),K=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const z=S.element;m(z),v(U,L);const q=g();y(K,B),z.append(K,R,U,q),document.body.appendChild(z)}u?(R.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){const n=Ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((n,e)=>{try{let o=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),o||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{o=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(o){e(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class Fn extends Error{constructor(e,o,s){super(o),this.code=e,this.customData=s,this.name=GS,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fr.prototype.create)}}class fr{constructor(e,o,s){this.service=e,this.serviceName=o,this.errors=s}create(e,...o){const s=o[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?VS(u,s):"Error",m=`${this.serviceName}: ${d} (${l}).`;return new Fn(l,m,s)}}function VS(n,e){return n.replace(BS,(o,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const BS=/\{\$([^}]+)}/g;function zS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wo(n,e){if(n===e)return!0;const o=Object.keys(n),s=Object.keys(e);for(const l of o){if(!s.includes(l))return!1;const u=n[l],d=e[l];if(Wm(u)&&Wm(d)){if(!Wo(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!o.includes(l))return!1;return!0}function Wm(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n){const e=[];for(const[o,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(o)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(o)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qS(n,e){const o=new FS(n,e);return o.subscribe.bind(o)}class FS{constructor(e,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(o=>{o.next(e)})}error(e){this.forEachObserver(o=>{o.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,o,s){let l;if(e===void 0&&o===void 0&&s===void 0)throw new Error("Missing Observer.");JS(e,["next","error","complete"])?l=e:l={next:e,error:o,complete:s},l.next===void 0&&(l.next=Vc),l.error===void 0&&(l.error=Vc),l.complete===void 0&&(l.complete=Vc);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,e)}sendOne(e,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{o(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(n,e){if(typeof n!="object"||n===null)return!1;for(const o of e)if(o in n&&typeof n[o]=="function")return!0;return!1}function Vc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(n){return n&&n._delegate?n._delegate:n}class Zi{constructor(e,o,s){this.name=e,this.instanceFactory=o,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,o){this.name=e,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const o=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(o)){const s=new RS;if(this.instancesDeferred.set(o,s),this.isInitialized(o)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:o});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(e){const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XS(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...e.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:o={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:o});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&d.resolve(l)}return l}onInit(e,o){const s=this.normalizeInstanceIdentifier(o),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,o){const s=this.onInitCallbacks.get(o);if(s)for(const l of s)try{l(e,o)}catch{}}getOrInitializeService({instanceIdentifier:e,options:o={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KS(e),options:o}),this.instances.set(e,s),this.instancesOptions.set(e,o),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KS(n){return n===Xi?void 0:n}function XS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const o=this.getProvider(e.name);if(o.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);o.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const o=new YS(e,this);return this.providers.set(e,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const QS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},WS=Ve.INFO,ZS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},jS=(n,e,...o)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=ZS[e];if(l)console[l](`[${s}]  ${n.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gv{constructor(e){this.name=e,this._logLevel=WS,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const eE=(n,e)=>e.some(o=>n instanceof o);let Zm,jm;function tE(){return Zm||(Zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nE(){return jm||(jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yv=new WeakMap,Wc=new WeakMap,vv=new WeakMap,Bc=new WeakMap,Af=new WeakMap;function iE(n){const e=new Promise((o,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",d)},u=()=>{o(Ci(n.result)),l()},d=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",d)});return e.then(o=>{o instanceof IDBCursor&&yv.set(o,n)}).catch(()=>{}),Af.set(e,n),e}function oE(n){if(Wc.has(n))return;const e=new Promise((o,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",d),n.removeEventListener("abort",d)},u=()=>{o(),l()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",d),n.addEventListener("abort",d)});Wc.set(n,e)}let Zc={get(n,e,o){if(n instanceof IDBTransaction){if(e==="done")return Wc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||vv.get(n);if(e==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return Ci(n[e])},set(n,e,o){return n[e]=o,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sE(n){Zc=n(Zc)}function rE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...o){const s=n.call(zc(this),e,...o);return vv.set(s,e.sort?e.sort():[e]),Ci(s)}:nE().includes(n)?function(...e){return n.apply(zc(this),e),Ci(yv.get(this))}:function(...e){return Ci(n.apply(zc(this),e))}}function lE(n){return typeof n=="function"?rE(n):(n instanceof IDBTransaction&&oE(n),eE(n,tE())?new Proxy(n,Zc):n)}function Ci(n){if(n instanceof IDBRequest)return iE(n);if(Bc.has(n))return Bc.get(n);const e=lE(n);return e!==n&&(Bc.set(n,e),Af.set(e,n)),e}const zc=n=>Af.get(n);function aE(n,e,{blocked:o,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(n,e),m=Ci(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Ci(d.result),y.oldVersion,y.newVersion,Ci(d.transaction),y)}),o&&d.addEventListener("blocked",y=>o(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const uE=["get","getKey","getAll","getAllKeys","count"],cE=["put","add","delete","clear"],qc=new Map;function eg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(qc.get(e))return qc.get(e);const o=e.replace(/FromIndex$/,""),s=e!==o,l=cE.includes(o);if(!(o in(s?IDBIndex:IDBObjectStore).prototype)||!(l||uE.includes(o)))return;const u=async function(d,...m){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[o](...m),l&&y.done]))[0]};return qc.set(e,u),u}sE(n=>({...n,get:(e,o,s)=>eg(e,o)||n.get(e,o,s),has:(e,o)=>!!eg(e,o)||n.has(e,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(dE(o)){const s=o.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(o=>o).join(" ")}}function dE(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jc="@firebase/app",tg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new gv("@firebase/app"),hE="@firebase/app-compat",pE="@firebase/analytics-compat",mE="@firebase/analytics",gE="@firebase/app-check-compat",yE="@firebase/app-check",vE="@firebase/auth",_E="@firebase/auth-compat",TE="@firebase/database",SE="@firebase/data-connect",EE="@firebase/database-compat",CE="@firebase/functions",AE="@firebase/functions-compat",xE="@firebase/installations",bE="@firebase/installations-compat",wE="@firebase/messaging",NE="@firebase/messaging-compat",RE="@firebase/performance",IE="@firebase/performance-compat",ME="@firebase/remote-config",DE="@firebase/remote-config-compat",UE="@firebase/storage",kE="@firebase/storage-compat",LE="@firebase/firestore",PE="@firebase/ai",OE="@firebase/firestore-compat",HE="firebase",GE="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="[DEFAULT]",VE={[jc]:"fire-core",[hE]:"fire-core-compat",[mE]:"fire-analytics",[pE]:"fire-analytics-compat",[yE]:"fire-app-check",[gE]:"fire-app-check-compat",[vE]:"fire-auth",[_E]:"fire-auth-compat",[TE]:"fire-rtdb",[SE]:"fire-data-connect",[EE]:"fire-rtdb-compat",[CE]:"fire-fn",[AE]:"fire-fn-compat",[xE]:"fire-iid",[bE]:"fire-iid-compat",[wE]:"fire-fcm",[NE]:"fire-fcm-compat",[RE]:"fire-perf",[IE]:"fire-perf-compat",[ME]:"fire-rc",[DE]:"fire-rc-compat",[UE]:"fire-gcs",[kE]:"fire-gcs-compat",[LE]:"fire-fst",[OE]:"fire-fst-compat",[PE]:"fire-vertex","fire-js":"fire-js",[HE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new Map,BE=new Map,tf=new Map;function ng(n,e){try{n.container.addComponent(e)}catch(o){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,o)}}function Zo(n){const e=n.name;if(tf.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;tf.set(e,n);for(const o of Yl.values())ng(o,n);for(const o of BE.values())ng(o,n);return!0}function xf(n,e){const o=n.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),n.container.getProvider(e)}function on(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new fr("app","Firebase",zE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,o,s){this._isDeleted=!1,this._options={...e},this._config={...o},this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=GE;function _v(n,e={}){let o=n;typeof e!="object"&&(e={name:e});const s={name:ef,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Ai.create("bad-app-name",{appName:String(l)});if(o||(o=dv()),!o)throw Ai.create("no-options");const u=Yl.get(l);if(u){if(Wo(o,u.options)&&Wo(s,u.config))return u;throw Ai.create("duplicate-app",{appName:l})}const d=new $S(l);for(const y of tf.values())d.addComponent(y);const m=new qE(o,s,d);return Yl.set(l,m),m}function Tv(n=ef){const e=Yl.get(n);if(!e&&n===ef&&dv())return _v();if(!e)throw Ai.create("no-app",{appName:n});return e}function xi(n,e,o){let s=VE[n]??n;o&&(s+=`-${o}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(d.join(" "));return}Zo(new Zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebase-heartbeat-database",JE=1,ur="firebase-heartbeat-store";let Fc=null;function Sv(){return Fc||(Fc=aE(FE,JE,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ur)}catch(o){console.warn(o)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),Fc}async function YE(n){try{const o=(await Sv()).transaction(ur),s=await o.objectStore(ur).get(Ev(n));return await o.done,s}catch(e){if(e instanceof Fn)Bn.warn(e.message);else{const o=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bn.warn(o.message)}}}async function ig(n,e){try{const s=(await Sv()).transaction(ur,"readwrite");await s.objectStore(ur).put(e,Ev(n)),await s.done}catch(o){if(o instanceof Fn)Bn.warn(o.message);else{const s=Ai.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});Bn.warn(s.message)}}}function Ev(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=1024,XE=30;class $E{constructor(e){this.container=e,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new WE(o),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,o;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=og();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)==null?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>XE){const d=ZE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=og(),{heartbeatsToSend:s,unsentEntries:l}=QE(this._heartbeatsCache.heartbeats),u=uv(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=o,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(o){return Bn.warn(o),""}}}function og(){return new Date().toISOString().substring(0,10)}function QE(n,e=KE){const o=[];let s=n.slice();for(const l of n){const u=o.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),sg(o)>e){u.dates.pop();break}}else if(o.push({agent:l.agent,dates:[l.date]}),sg(o)>e){o.pop();break}s=s.slice(1)}return{heartbeatsToSend:o,unsentEntries:s}}class WE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await YE(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ig(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ig(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sg(n){return uv(JSON.stringify({version:2,heartbeats:n})).length}function ZE(n){if(n.length===0)return-1;let e=0,o=n[0].date;for(let s=1;s<n.length;s++)n[s].date<o&&(o=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n){Zo(new Zi("platform-logger",e=>new fE(e),"PRIVATE")),Zo(new Zi("heartbeat",e=>new $E(e),"PRIVATE")),xi(jc,tg,n),xi(jc,tg,"esm2020"),xi("fire-js","")}jE("");function Cv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eC=Cv,Av=new fr("auth","Firebase",Cv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new gv("@firebase/auth");function tC(n,...e){Kl.logLevel<=Ve.WARN&&Kl.warn(`Auth (${hr}): ${n}`,...e)}function Vl(n,...e){Kl.logLevel<=Ve.ERROR&&Kl.error(`Auth (${hr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(n,...e){throw wf(n,...e)}function rn(n,...e){return wf(n,...e)}function bf(n,e,o){const s={...eC(),[e]:o};return new fr("auth","Firebase",s).create(e,{appName:n.name})}function Wi(n){return bf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nC(n,e,o){const s=o;if(!(e instanceof s))throw s.name!==e.constructor.name&&yn(n,"argument-error"),bf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wf(n,...e){if(typeof n!="string"){const o=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(o,...s)}return Av.create(n,...e)}function ae(n,e,...o){if(!n)throw wf(e,...o)}function Gn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vl(e),new Error(e)}function zn(n,e){n||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function iC(){return rg()==="http:"||rg()==="https:"}function rg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iC()||kS()||"connection"in navigator)?navigator.onLine:!0}function sC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,o){this.shortDelay=e,this.longDelay=o,zn(o>e,"Short delay should be less than long delay!"),this.isMobile=DS()||LS()}get(){return oC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n,e){zn(n.emulator,"Emulator should always be set here");const{url:o}=n.emulator;return e?`${o}${e.startsWith("/")?e.slice(1):e}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static initialize(e,o,s){this.fetchImpl=e,o&&(this.headersImpl=o),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aC=new pr(3e4,6e4);function Rf(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ns(n,e,o,s,l={}){return bv(n,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const m=dr({key:n.config.apiKey,...d}).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:y,...u};return US()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ts(n.emulatorConfig.host)&&(g.credentials="include"),xv.fetch()(await wv(n,n.config.apiHost,o,m),g)})}async function bv(n,e,o){n._canInitEmulator=!1;const s={...rC,...e};try{const l=new cC(n),u=await Promise.race([o(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw kl(n,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw kl(n,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw kl(n,"email-already-in-use",d);if(y==="USER_DISABLED")throw kl(n,"user-disabled",d);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bf(n,v,g);yn(n,v)}}catch(l){if(l instanceof Fn)throw l;yn(n,"network-request-failed",{message:String(l)})}}async function uC(n,e,o,s,l={}){const u=await ns(n,e,o,s,l);return"mfaPendingCredential"in u&&yn(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function wv(n,e,o,s){const l=`${e}${o}?${s}`,u=n,d=u.config.emulator?Nf(n.config,l):`${n.config.apiScheme}://${l}`;return lC.includes(o)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class cC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((o,s)=>{this.timer=setTimeout(()=>s(rn(this.auth,"network-request-failed")),aC.get())})}}function kl(n,e,o){const s={appName:n.name};o.email&&(s.email=o.email),o.phoneNumber&&(s.phoneNumber=o.phoneNumber);const l=rn(n,e,s);return l.customData._tokenResponse=o,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,e){return ns(n,"POST","/v1/accounts:delete",e)}async function Xl(n,e){return ns(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dC(n,e=!1){const o=vn(n),s=await o.getIdToken(e),l=If(s);ae(l&&l.exp&&l.auth_time&&l.iat,o.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:ar(Jc(l.auth_time)),issuedAtTime:ar(Jc(l.iat)),expirationTime:ar(Jc(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Jc(n){return Number(n)*1e3}function If(n){const[e,o,s]=n.split(".");if(e===void 0||o===void 0||s===void 0)return Vl("JWT malformed, contained fewer than 3 sections"),null;try{const l=cv(o);return l?JSON.parse(l):(Vl("Failed to decode base64 JWT payload"),null)}catch(l){return Vl("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function lg(n){const e=If(n);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cr(n,e,o=!1){if(o)return e;try{return await e}catch(s){throw s instanceof Fn&&hC(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function hC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const o=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,o){this.createdAt=e,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n){var T;const e=n.auth,o=await n.getIdToken(),s=await cr(n,Xl(e,{idToken:o}));ae(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const u=(T=l.providerUserInfo)!=null&&T.length?Nv(l.providerUserInfo):[],d=gC(n.providerData,u),m=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),g=m?y:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new of(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function mC(n){const e=vn(n);await $l(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gC(n,e){return[...n.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Nv(n){return n.map(({providerId:e,...o})=>({providerId:e,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e){const o=await bv(n,{},async()=>{const s=dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,d=await wv(n,l,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return n.emulatorConfig&&ts(n.emulatorConfig.host)&&(y.credentials="include"),xv.fetch()(d,y)});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}async function vC(n,e){return ns(n,"POST","/v2/accounts:revokeToken",Rf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const o="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,o)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const o=lg(e);this.updateTokensAndExpiration(e,null,o)}async getToken(e,o=!1){return!o&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,o){const{accessToken:s,refreshToken:l,expiresIn:u}=await yC(e,o);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,o,s){this.refreshToken=o||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,o){const{refreshToken:s,accessToken:l,expirationTime:u}=o,d=new Yo;return s&&(ae(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(ae(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,e){ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sn{constructor({uid:e,auth:o,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new pC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=o,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new of(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const o=await cr(this,this.stsTokenManager.getToken(this.auth,e));return ae(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(e){return dC(this,e)}reload(){return mC(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(o=>({...o})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const o=new sn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return o.metadata._copy(this.metadata),o}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,o=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),o&&await $l(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await cr(this,fC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,o){const s=o.displayName??void 0,l=o.email??void 0,u=o.phoneNumber??void 0,d=o.photoURL??void 0,m=o.tenantId??void 0,y=o._redirectEventId??void 0,g=o.createdAt??void 0,v=o.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:A,providerData:R,stsTokenManager:L}=o;ae(T&&L,e,"internal-error");const U=Yo.fromJSON(this.name,L);ae(typeof T=="string",e,"internal-error"),_i(s,e.name),_i(l,e.name),ae(typeof S=="boolean",e,"internal-error"),ae(typeof A=="boolean",e,"internal-error"),_i(u,e.name),_i(d,e.name),_i(m,e.name),_i(y,e.name),_i(g,e.name),_i(v,e.name);const B=new sn({uid:T,auth:e,email:l,emailVerified:S,displayName:s,isAnonymous:A,photoURL:d,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:v});return R&&Array.isArray(R)&&(B.providerData=R.map(K=>({...K}))),y&&(B._redirectEventId=y),B}static async _fromIdTokenResponse(e,o,s=!1){const l=new Yo;l.updateFromServerResponse(o);const u=new sn({uid:o.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await $l(u),u}static async _fromGetAccountInfoResponse(e,o,s){const l=o.users[0];ae(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Nv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new Yo;m.updateFromIdToken(s);const y=new sn({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new of(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map;function Vn(n){zn(n instanceof Function,"Expected a class definition");let e=ag.get(n);return e?(zn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ag.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,o){this.storage[e]=o}async _get(e){const o=this.storage[e];return o===void 0?null:o}async _remove(e){delete this.storage[e]}_addListener(e,o){}_removeListener(e,o){}}Rv.type="NONE";const ug=Rv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n,e,o){return`firebase:${n}:${e}:${o}`}class Ko{constructor(e,o,s){this.persistence=e,this.auth=o,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Bl(this.userKey,l.apiKey,u),this.fullPersistenceKey=Bl("persistence",l.apiKey,u),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const o=await Xl(this.auth,{idToken:e}).catch(()=>{});return o?sn._fromGetAccountInfoResponse(this.auth,o,e):null}return sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,o,s="authUser"){if(!o.length)return new Ko(Vn(ug),e,s);const l=(await Promise.all(o.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||Vn(ug);const d=Bl(s,e.config.apiKey,e.name);let m=null;for(const g of o)try{const v=await g._get(d);if(v){let T;if(typeof v=="string"){const S=await Xl(e,{idToken:v}).catch(()=>{});if(!S)break;T=await sn._fromGetAccountInfoResponse(e,S,v)}else T=sn._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ko(u,e,s):(u=y[0],m&&await u._set(d,m.toJSON()),await Promise.all(o.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new Ko(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Iv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lv(e))return"Blackberry";if(Pv(e))return"Webos";if(Mv(e))return"Safari";if((e.includes("chrome/")||Dv(e))&&!e.includes("edge/"))return"Chrome";if(kv(e))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(o);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Iv(n=Ct()){return/firefox\//i.test(n)}function Mv(n=Ct()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dv(n=Ct()){return/crios\//i.test(n)}function Uv(n=Ct()){return/iemobile/i.test(n)}function kv(n=Ct()){return/android/i.test(n)}function Lv(n=Ct()){return/blackberry/i.test(n)}function Pv(n=Ct()){return/webos/i.test(n)}function Mf(n=Ct()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _C(n=Ct()){var e;return Mf(n)&&!!((e=window.navigator)!=null&&e.standalone)}function TC(){return PS()&&document.documentMode===10}function Ov(n=Ct()){return Mf(n)||kv(n)||Pv(n)||Lv(n)||/windows phone/i.test(n)||Uv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n,e=[]){let o;switch(n){case"Browser":o=cg(Ct());break;case"Worker":o=`${cg(Ct())}-${n}`;break;default:o=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${o}/JsCore/${hr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,o){const s=u=>new Promise((d,m)=>{try{const y=e(u);d(y)}catch(y){m(y)}});s.onAbort=o,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const o=[];try{for(const s of this.queue)await s(e),s.onAbort&&o.push(s.onAbort)}catch(s){o.reverse();for(const l of o)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(n,e={}){return ns(n,"GET","/v2/passwordPolicy",Rf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=6;class AC{constructor(e){var s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=o.minPasswordLength??CC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=o.meetsMinPasswordLength??!0),o.isValid&&(o.isValid=o.meetsMaxPasswordLength??!0),o.isValid&&(o.isValid=o.containsLowercaseLetter??!0),o.isValid&&(o.isValid=o.containsUppercaseLetter??!0),o.isValid&&(o.isValid=o.containsNumericCharacter??!0),o.isValid&&(o.isValid=o.containsNonAlphanumericCharacter??!0),o}validatePasswordLengthOptions(e,o){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(o.meetsMinPasswordLength=e.length>=s),l&&(o.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,o){this.updatePasswordCharacterOptionsStatuses(o,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(o,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,o,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=o)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,o,s,l){this.app=e,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fg(this),this.idTokenSubscription=new fg(this),this.beforeStateQueue=new SC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Av,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,o){return o&&(this._popupRedirectResolver=Vn(o)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const o=await Xl(this,{idToken:e}),s=await sn._fromGetAccountInfoResponse(this,o,e);await this.directlySetCurrentUser(s)}catch(o){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",o),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(on(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const o=await this.assertedPersistence.getCurrentUser();let s=o,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===m)&&(y!=null&&y.user)&&(s=y.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(e){try{await $l(e)}catch(o){if((o==null?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Wi(this));const o=e?vn(e):null;return o&&ae(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(e,o=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const o=this._getPasswordPolicyInternal();return o.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):o.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EC(this),o=new AC(e);this.tenantId===null?this._projectPasswordPolicy=o:this._tenantPasswordPolicies[this.tenantId]=o}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fr("auth","Firebase",e())}onAuthStateChanged(e,o,s){return this.registerStateListener(this.authStateSubscription,e,o,s)}beforeAuthStateChanged(e,o){return this.beforeStateQueue.pushCallback(e,o)}onIdTokenChanged(e,o,s){return this.registerStateListener(this.idTokenSubscription,e,o,s)}authStateReady(){return new Promise((e,o)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},o)}})}async revokeAccessToken(e){if(this.currentUser){const o=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:o};this.tenantId!=null&&(s.tenantId=this.tenantId),await vC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,o){const s=await this.getOrInitRedirectPersistenceManager(o);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const o=e&&Vn(e)||this._popupRedirectResolver;ae(o,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Vn(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var o,s;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)==null?void 0:o._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((o=this.currentUser)==null?void 0:o.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,o,s,l){if(this._deleted)return()=>{};const u=typeof o=="function"?o:o.next.bind(o);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof o=="function"){const y=e.addObserver(o,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(o);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const o=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());o&&(e["X-Firebase-Client"]=o);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var o;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((o=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getToken());return e!=null&&e.error&&tC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function la(n){return vn(n)}class fg{constructor(e){this.auth=e,this.observer=null,this.addObserver=qS(o=>this.observer=o)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bC(n){Df=n}function wC(n){return Df.loadJS(n)}function NC(){return Df.gapiScript}function RC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n,e){const o=xf(n,"auth");if(o.isInitialized()){const l=o.getImmediate(),u=o.getOptions();if(Wo(u,e??{}))return l;yn(l,"already-initialized")}return o.initialize({options:e})}function MC(n,e){const o=(e==null?void 0:e.persistence)||[],s=(Array.isArray(o)?o:[o]).map(Vn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function DC(n,e,o){const s=la(n);ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=Gv(e),{host:d,port:m}=UC(e),y=m===null?"":`:${m}`,g={url:`${u}//${d}${y}/`},v=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ae(Wo(g,s.config.emulator)&&Wo(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ts(d)?(pv(`${u}//${d}${y}`),mv("Auth",!0)):kC()}function Gv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UC(n){const e=Gv(n),o=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!o)return{host:"",port:null};const s=o[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:dg(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:dg(d)}}}function dg(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kC(){function n(){const e=document.createElement("p"),o=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,o){this.providerId=e,this.signInMethod=o}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,o){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n,e){return uC(n,"POST","/v1/accounts:signInWithIdp",Rf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="http://localhost";class ji extends Vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const o=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(o.idToken=e.idToken),e.accessToken&&(o.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(o.nonce=e.nonce),e.pendingToken&&(o.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(o.accessToken=e.oauthToken,o.secret=e.oauthTokenSecret):yn("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const o=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=o;if(!s||!l)return null;const d=new ji(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const o=this.buildRequest();return Xo(e,o)}_linkToIdToken(e,o){const s=this.buildRequest();return s.idToken=o,Xo(e,s)}_getReauthenticationResolver(e){const o=this.buildRequest();return o.autoCreate=!1,Xo(e,o)}buildRequest(){const e={requestUri:LC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),e.postBody=dr(o)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Uf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends mr{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends mr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,o){return ji._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:o})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:o,oauthAccessToken:s}=e;if(!o&&!s)return null;try{return Hn.credential(o,s)}catch{return null}}}Hn.GOOGLE_SIGN_IN_METHOD="google.com";Hn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends mr{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends mr{constructor(){super("twitter.com")}static credential(e,o){return ji._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:o})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:o,oauthTokenSecret:s}=e;if(!o||!s)return null;try{return Ei.credential(o,s)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,o,s,l=!1){const u=await sn._fromIdTokenResponse(e,s,l),d=hg(s);return new jo({user:u,providerId:d,_tokenResponse:s,operationType:o})}static async _forOperation(e,o,s){await e._updateTokensIfNecessary(s,!0);const l=hg(s);return new jo({user:e,providerId:l,_tokenResponse:s,operationType:o})}}function hg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Fn{constructor(e,o,s,l){super(o.code,o.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ql.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:o.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,o,s,l){return new Ql(e,o,s,l)}}function Bv(n,e,o,s){return(e==="reauthenticate"?o._getReauthenticationResolver(n):o._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ql._fromErrorAndOperation(n,u,e,s):u})}async function PC(n,e,o=!1){const s=await cr(n,e._linkToIdToken(n.auth,await n.getIdToken()),o);return jo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(n,e,o=!1){const{auth:s}=n;if(on(s.app))return Promise.reject(Wi(s));const l="reauthenticate";try{const u=await cr(n,Bv(s,l,e,n),o);ae(u.idToken,s,"internal-error");const d=If(u.idToken);ae(d,s,"internal-error");const{sub:m}=d;return ae(n.uid===m,s,"user-mismatch"),jo._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e,o=!1){if(on(n.app))return Promise.reject(Wi(n));const s="signIn",l=await Bv(n,s,e),u=await jo._fromIdTokenResponse(n,s,l);return o||await n._updateCurrentUser(u.user),u}function GC(n,e,o,s){return vn(n).onIdTokenChanged(e,o,s)}function VC(n,e,o){return vn(n).beforeAuthStateChanged(e,o)}function BC(n,e,o,s){return vn(n).onAuthStateChanged(e,o,s)}const Wl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,o){this.storageRetriever=e,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(Wl,"1"),this.storage.removeItem(Wl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,o){return this.storage.setItem(e,JSON.stringify(o)),Promise.resolve()}_get(e){const o=this.storage.getItem(e);return Promise.resolve(o?JSON.parse(o):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1e3,qC=10;class qv extends zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,o)=>this.onStorageEvent(e,o),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ov(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const o of Object.keys(this.listeners)){const s=this.storage.getItem(o),l=this.localCache[o];s!==l&&e(o,l,s)}}onStorageEvent(e,o=!1){if(!e.key){this.forAllChangedKeys((d,m,y)=>{this.notifyListeners(d,y)});return}const s=e.key;o?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!o&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);TC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,qC):l()}notifyListeners(e,o){this.localCache[e]=o;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,o,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:o,newValue:s}),!0)})},zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,o){await super._set(e,o),this.localCache[e]=JSON.stringify(o)}async _get(e){const o=await super._get(e);return this.localCache[e]=JSON.stringify(o),o}async _remove(e){await super._remove(e),delete this.localCache[e]}}qv.type="LOCAL";const FC=qv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,o){}_removeListener(e,o){}}Fv.type="SESSION";const Jv=Fv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const o=this.receivers.find(l=>l.isListeningto(e));if(o)return o;const s=new aa(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const o=e,{eventId:s,eventType:l,data:u}=o.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;o.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(d).map(async g=>g(o.origin,u)),y=await JC(m);o.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(o)}_unsubscribe(e,o){this.handlersMap[e]&&o&&this.handlersMap[e].delete(o),(!o||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}aa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(n="",e=10){let o="";for(let s=0;s<e;s++)o+=Math.floor(Math.random()*10);return n+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,o,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((m,y)=>{const g=kf("",20);l.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:o},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return window}function KC(n){gn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function XC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function QC(){return Yv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="firebaseLocalStorageDb",WC=1,Zl="firebaseLocalStorage",Xv="fbase_key";class gr{constructor(e){this.request=e}toPromise(){return new Promise((e,o)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function ua(n,e){return n.transaction([Zl],e?"readwrite":"readonly").objectStore(Zl)}function ZC(){const n=indexedDB.deleteDatabase(Kv);return new gr(n).toPromise()}function sf(){const n=indexedDB.open(Kv,WC);return new Promise((e,o)=>{n.addEventListener("error",()=>{o(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Zl,{keyPath:Xv})}catch(l){o(l)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Zl)?e(s):(s.close(),await ZC(),e(await sf()))})})}async function pg(n,e,o){const s=ua(n,!0).put({[Xv]:e,value:o});return new gr(s).toPromise()}async function jC(n,e){const o=ua(n,!1).get(e),s=await new gr(o).toPromise();return s===void 0?null:s.value}function mg(n,e){const o=ua(n,!0).delete(e);return new gr(o).toPromise()}const eA=800,tA=3;class $v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sf(),this.db)}async _withRetries(e){let o=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(o++>tA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=aa._getInstance(QC()),this.receiver._subscribe("keyChanged",async(e,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(e,o)=>["keyChanged"])}async initializeSender(){var o,s;if(this.activeServiceWorker=await XC(),!this.activeServiceWorker)return;this.sender=new YC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(o=e[0])!=null&&o.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sf();return await pg(e,Wl,"1"),await mg(e,Wl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,o){return this._withPendingWrite(async()=>(await this._withRetries(s=>pg(s,e,o)),this.localCache[e]=o,this.notifyServiceWorker(e)))}async _get(e){const o=await this._withRetries(s=>jC(s,e));return this.localCache[e]=o,o}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(o=>mg(o,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=ua(l,!1).getAll();return new gr(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const o=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),o.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),o.push(l));return o}notifyListeners(e,o){this.localCache[e]=o;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$v.type="LOCAL";const nA=$v;new pr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(n,e){return e?Vn(e):(ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends Vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,o){return Xo(e,this._buildIdpRequest(o))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(o.idToken=e),o}}function iA(n){return HC(n.auth,new Lf(n),n.bypassAuthState)}function oA(n){const{auth:e,user:o}=n;return ae(o,e,"internal-error"),OC(o,new Lf(n),n.bypassAuthState)}async function sA(n){const{auth:e,user:o}=n;return ae(o,e,"internal-error"),PC(o,new Lf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,o,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(e,o)=>{this.pendingPromise={resolve:e,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:o,sessionId:s,postBody:l,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:o,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iA;case"linkViaPopup":case"linkViaRedirect":return sA;case"reauthViaPopup":case"reauthViaRedirect":return oA;default:yn(this.auth,"internal-error")}}resolve(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new pr(2e3,1e4);async function lA(n,e,o){if(on(n.app))return Promise.reject(rn(n,"operation-not-supported-in-this-environment"));const s=la(n);nC(n,e,Uf);const l=Qv(s,o);return new Qi(s,"signInViaPopup",e,l).executeNotNull()}class Qi extends Wv{constructor(e,o,s,l,u){super(e,o,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Qi.currentPopupAction&&Qi.currentPopupAction.cancel(),Qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){zn(this.filter.length===1,"Popup operations only handle one event");const e=kf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var o,s;if((s=(o=this.authWindow)==null?void 0:o.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rA.get())};e()}}Qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="pendingRedirect",zl=new Map;class uA extends Wv{constructor(e,o,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,s),this.eventId=null}async execute(){let e=zl.get(this.auth._key());if(!e){try{const s=await cA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(o){e=()=>Promise.reject(o)}zl.set(this.auth._key(),e)}return this.bypassAuthState||zl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const o=await this.auth._redirectUserForId(e.eventId);if(o)return this.user=o,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cA(n,e){const o=hA(e),s=dA(n);if(!await s._isAvailable())return!1;const l=await s._get(o)==="true";return await s._remove(o),l}function fA(n,e){zl.set(n._key(),e)}function dA(n){return Vn(n._redirectPersistence)}function hA(n){return Bl(aA,n.config.apiKey,n.name)}async function pA(n,e,o=!1){if(on(n.app))return Promise.reject(Wi(n));const s=la(n),l=Qv(s,e),d=await new uA(s,l,o).execute();return d&&!o&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=600*1e3;class gA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let o=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(o=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yA(e)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=e,o=!0)),o}sendToConsumer(e,o){var s;if(e.error&&!Zv(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";o.onError(rn(this.auth,l))}else o.onAuthEvent(e)}isEventForConsumer(e,o){const s=o.eventId===null||!!e.eventId&&e.eventId===o.eventId;return o.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mA&&this.cachedEventUids.clear(),this.cachedEventUids.has(gg(e))}saveEventToCache(e){this.cachedEventUids.add(gg(e)),this.lastProcessedEventTime=Date.now()}}function gg(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Zv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(n,e={}){return ns(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TA=/^https?/;async function SA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vA(n);for(const o of e)try{if(EA(o))return}catch{}yn(n,"unauthorized-domain")}function EA(n){const e=nf(),{protocol:o,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?o==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):o==="chrome-extension:"&&d.hostname===s}if(!TA.test(o))return!1;if(_A.test(n))return s===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new pr(3e4,6e4);function yg(){const n=gn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let o=0;o<n.CP.length;o++)n.CP[o]=null}}function AA(n){return new Promise((e,o)=>{var l,u,d;function s(){yg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yg(),o(rn(n,"network-request-failed"))},timeout:CA.get()})}if((u=(l=gn().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((d=gn().gapi)!=null&&d.load)s();else{const m=RC("iframefcb");return gn()[m]=()=>{gapi.load?s():o(rn(n,"network-request-failed"))},wC(`${NC()}?onload=${m}`).catch(y=>o(y))}}).catch(e=>{throw ql=null,e})}let ql=null;function xA(n){return ql=ql||AA(n),ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new pr(5e3,15e3),wA="__/auth/iframe",NA="emulator/auth/iframe",RA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MA(n){const e=n.config;ae(e.authDomain,n,"auth-domain-config-required");const o=e.emulator?Nf(e,NA):`https://${n.config.authDomain}/${wA}`,s={apiKey:e.apiKey,appName:n.name,v:hr},l=IA.get(n.config.apiHost);l&&(s.eid=l);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${o}?${dr(s).slice(1)}`}async function DA(n){const e=await xA(n),o=gn().gapi;return ae(o,n,"internal-error"),e.open({where:document.body,url:MA(n),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RA,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=rn(n,"network-request-failed"),m=gn().setTimeout(()=>{u(d)},bA.get());function y(){gn().clearTimeout(m),l(s)}s.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kA=500,LA=600,PA="_blank",OA="http://localhost";class vg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HA(n,e,o,s=kA,l=LA){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...UA,width:s.toString(),height:l.toString(),top:u,left:d},g=Ct().toLowerCase();o&&(m=Dv(g)?PA:o),Iv(g)&&(e=e||OA,y.scrollbars="yes");const v=Object.entries(y).reduce((S,[A,R])=>`${S}${A}=${R},`,"");if(_C(g)&&m!=="_self")return GA(e||"",m),new vg(null);const T=window.open(e||"",m,v);ae(T,n,"popup-blocked");try{T.focus()}catch{}return new vg(T)}function GA(n,e){const o=document.createElement("a");o.href=n,o.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="__/auth/handler",BA="emulator/auth/handler",zA=encodeURIComponent("fac");async function _g(n,e,o,s,l,u){ae(n.config.authDomain,n,"auth-domain-config-required"),ae(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:o,redirectUrl:s,v:hr,eventId:l};if(e instanceof Uf){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",zS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))d[v]=T}if(e instanceof mr){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(d.scopes=v.join(","))}n.tenantId&&(d.tid=n.tenantId);const m=d;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const y=await n._getAppCheckToken(),g=y?`#${zA}=${encodeURIComponent(y)}`:"";return`${qA(n)}?${dr(m).slice(1)}${g}`}function qA({config:n}){return n.emulator?Nf(n,BA):`https://${n.authDomain}/${VA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="webStorageSupport";class FA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jv,this._completeRedirectFn=pA,this._overrideRedirectResult=fA}async _openPopup(e,o,s,l){var d;zn((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await _g(e,o,s,nf(),l);return HA(e,u,kf())}async _openRedirect(e,o,s,l){await this._originValidation(e);const u=await _g(e,o,s,nf(),l);return KC(u),new Promise(()=>{})}_initialize(e){const o=e._key();if(this.eventManagers[o]){const{manager:l,promise:u}=this.eventManagers[o];return l?Promise.resolve(l):(zn(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[o]={promise:s},s.catch(()=>{delete this.eventManagers[o]}),s}async initAndGetManager(e){const o=await DA(e),s=new gA(e);return o.register("authEvent",l=>(ae(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=o,s}_isIframeWebStorageSupported(e,o){this.iframes[e._key()].send(Yc,{type:Yc},l=>{var d;const u=(d=l==null?void 0:l[0])==null?void 0:d[Yc];u!==void 0&&o(!!u),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const o=e._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=SA(e)),this.originValidationPromises[o]}get _shouldInitProactively(){return Ov()||Mv()||Mf()}}const JA=FA;var Tg="@firebase/auth",Sg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const o=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,o),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const o=this.internalListeners.get(e);o&&(this.internalListeners.delete(e),o(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XA(n){Zo(new Zi("auth",(e,{options:o})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;ae(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hv(n)},g=new xC(s,l,u,y);return MC(g,o),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,o,s)=>{e.getProvider("auth-internal").initialize()})),Zo(new Zi("auth-internal",e=>{const o=la(e.getProvider("auth").getImmediate());return(s=>new YA(s))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(Tg,Sg,KA(n)),xi(Tg,Sg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=300,QA=hv("authIdTokenMaxAge")||$A;let Eg=null;const WA=n=>async e=>{const o=e&&await e.getIdTokenResult(),s=o&&(new Date().getTime()-Date.parse(o.issuedAtTime))/1e3;if(s&&s>QA)return;const l=o==null?void 0:o.token;Eg!==l&&(Eg=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ZA(n=Tv()){const e=xf(n,"auth");if(e.isInitialized())return e.getImmediate();const o=IC(n,{popupRedirectResolver:JA,persistence:[nA,FC,Jv]}),s=hv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=WA(u.toString());VC(o,d,()=>d(o.currentUser)),GC(o,m=>d(m))}}const l=fv("auth");return l&&DC(o,`http://${l}`),o}function jA(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}bC({loadJS(n){return new Promise((e,o)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=l=>{const u=rn("internal-error");u.customData=l,o(u)},s.type="text/javascript",s.charset="UTF-8",jA().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XA("Browser");var ex="firebase",tx="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(ex,tx,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="type.googleapis.com/google.protobuf.Int64Value",ix="type.googleapis.com/google.protobuf.UInt64Value";function jv(n,e){const o={};for(const s in n)n.hasOwnProperty(s)&&(o[s]=e(n[s]));return o}function jl(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>jl(e));if(typeof n=="function"||typeof n=="object")return jv(n,e=>jl(e));throw new Error("Data cannot be encoded in JSON: "+n)}function es(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case nx:case ix:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>es(e)):typeof n=="function"||typeof n=="object"?jv(n,e=>es(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends Fn{constructor(e,o,s){super(`${Pf}/${e}`,o||""),this.details=s,Object.setPrototypeOf(this,Dt.prototype)}}function ox(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function ea(n,e){let o=ox(n),s=o,l;try{const u=e&&e.error;if(u){const d=u.status;if(typeof d=="string"){if(!Cg[d])return new Dt("internal","internal");o=Cg[d],s=d}const m=u.message;typeof m=="string"&&(s=m),l=u.details,l!==void 0&&(l=es(l))}}catch{}return o==="ok"?null:new Dt(o,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,o,s,l){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=o.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||o.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||l==null||l.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const o=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return o.error?null:o.token}return null}async getContext(e){const o=await this.getAuthToken(),s=await this.getMessagingToken(),l=await this.getAppCheckToken(e);return{authToken:o,messagingToken:s,appCheckToken:l}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="us-central1",rx=/^data: (.*?)(?:\n|$)/;function lx(n){let e=null;return{promise:new Promise((o,s)=>{e=setTimeout(()=>{s(new Dt("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class ax{constructor(e,o,s,l,u=rf,d=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new sx(e,o,s,l),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=rf}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const o=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${o}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${o}.cloudfunctions.net/${e}`}}function ux(n,e,o){const s=ts(e);n.emulatorOrigin=`http${s?"s":""}://${e}:${o}`,s&&(pv(n.emulatorOrigin+"/backends"),mv("Functions",!0))}function cx(n,e,o){const s=l=>dx(n,e,l,{});return s.stream=(l,u)=>px(n,e,l,u),s}function e0(n){return n.emulatorOrigin&&ts(n.emulatorOrigin)?"include":void 0}async function fx(n,e,o,s,l){o["Content-Type"]="application/json";let u;try{u=await s(n,{method:"POST",body:JSON.stringify(e),headers:o,credentials:e0(l)})}catch{return{status:0,json:null}}let d=null;try{d=await u.json()}catch{}return{status:u.status,json:d}}async function t0(n,e){const o={},s=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(o.Authorization="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=s.appCheckToken),o}function dx(n,e,o,s){const l=n._url(e);return hx(n,l,o,s)}async function hx(n,e,o,s){o=jl(o);const l={data:o},u=await t0(n,s),d=s.timeout||7e4,m=lx(d),y=await Promise.race([fx(e,l,u,n.fetchImpl,n),m.promise,n.cancelAllRequests]);if(m.cancel(),!y)throw new Dt("cancelled","Firebase Functions instance was deleted.");const g=ea(y.status,y.json);if(g)throw g;if(!y.json)throw new Dt("internal","Response is not valid JSON object.");let v=y.json.data;if(typeof v>"u"&&(v=y.json.result),typeof v>"u")throw new Dt("internal","Response is missing data field.");return{data:es(v)}}function px(n,e,o,s){const l=n._url(e);return mx(n,l,o,s||{})}async function mx(n,e,o,s){var S;o=jl(o);const l={data:o},u=await t0(n,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let d;try{d=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:u,signal:s==null?void 0:s.signal,credentials:e0(n)})}catch(A){if(A instanceof Error&&A.name==="AbortError"){const L=new Dt("cancelled","Request was cancelled.");return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}const R=ea(0,null);return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}let m,y;const g=new Promise((A,R)=>{m=A,y=R});(S=s==null?void 0:s.signal)==null||S.addEventListener("abort",()=>{const A=new Dt("cancelled","Request was cancelled.");y(A)});const v=d.body.getReader(),T=gx(v,m,y,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const A=T.getReader();return{async next(){const{value:R,done:L}=await A.read();return{value:R,done:L}},async return(){return await A.cancel(),{done:!0,value:void 0}}}}},data:g}}function gx(n,e,o,s){const l=(d,m)=>{const y=d.match(rx);if(!y)return;const g=y[1];try{const v=JSON.parse(g);if("result"in v){e(es(v.result));return}if("message"in v){m.enqueue(es(v.message));return}if("error"in v){const T=ea(0,v);m.error(T),o(T);return}}catch(v){if(v instanceof Dt){m.error(v),o(v);return}}},u=new TextDecoder;return new ReadableStream({start(d){let m="";return y();async function y(){if(s!=null&&s.aborted){const g=new Dt("cancelled","Request was cancelled");return d.error(g),o(g),Promise.resolve()}try{const{value:g,done:v}=await n.read();if(v){m.trim()&&l(m.trim(),d),d.close();return}if(s!=null&&s.aborted){const S=new Dt("cancelled","Request was cancelled");d.error(S),o(S),await n.cancel();return}m+=u.decode(g,{stream:!0});const T=m.split(`
`);m=T.pop()||"";for(const S of T)S.trim()&&l(S.trim(),d);return y()}catch(g){const v=g instanceof Dt?g:ea(0,null);d.error(v),o(v)}}},cancel(){return n.cancel()}})}const Ag="@firebase/functions",xg="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="auth-internal",vx="app-check-internal",_x="messaging-internal";function Tx(n){const e=(o,{instanceIdentifier:s})=>{const l=o.getProvider("app").getImmediate(),u=o.getProvider(yx),d=o.getProvider(_x),m=o.getProvider(vx);return new ax(l,u,d,m,s)};Zo(new Zi(Pf,e,"PUBLIC").setMultipleInstances(!0)),xi(Ag,xg,n),xi(Ag,xg,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n=Tv(),e=rf){const s=xf(vn(n),Pf).getImmediate({identifier:e}),l=NS("functions");return l&&Ex(s,...l),s}function Ex(n,e,o){ux(vn(n),e,o)}function Cx(n,e,o){return cx(vn(n),e)}Tx();const Ax={apiKey:"AIzaSyCDw82U3na909zHiHwvkuMNOqW5GcOxi54",authDomain:"shedwise-28abc.firebaseapp.com",projectId:"shedwise-28abc",storageBucket:"shedwise-28abc.firebasestorage.app",messagingSenderId:"207666442964",appId:"1:207666442964:web:0c90bb3f5dcb57d41dc141"},n0=_v(Ax),lf=ZA(n0),xx=Sx(n0),bx=new Hn,wx=async()=>(await lA(lf,bx)).user;var Nx={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rx,Ix;function Mx(){return{geminiUrl:Rx,vertexUrl:Ix}}function Dx(n,e,o,s){var l,u;if(!(n!=null&&n.baseUrl)){const d=Mx();return e?(l=d.vertexUrl)!==null&&l!==void 0?l:o:(u=d.geminiUrl)!==null&&u!==void 0?u:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jn{}function Q(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(n,e,o){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const m=d.slice(0,-2);if(!(m in n))if(Array.isArray(o))n[m]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[m])){const y=n[m];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];f(v,e.slice(u+1),o[g])}else for(const g of y)f(g,e.slice(u+1),o)}return}else if(d.endsWith("[0]")){const m=d.slice(0,-3);m in n||(n[m]=[{}]);const y=n[m];f(y[0],e.slice(u+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const s=e[e.length-1],l=n[s];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function c(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return o;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(m=>c(m,e.slice(s+1),o)):o}else return o}else n=n[l]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function Ux(n,e){for(const[o,s]of Object.entries(e)){const l=o.split("."),u=s.split("."),d=new Set;let m=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){m=y;break}if(m!==-1&&u.length>m)for(let y=m;y<u.length;y++){const g=u[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}af(n,l,u,0,d)}}function af(n,e,o,s,l){if(s>=e.length||typeof n!="object"||n===null)return;const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2),m=n;if(d in m&&Array.isArray(m[d]))for(const y of m[d])af(y,e,o,s+1,l)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,m=Object.keys(d).filter(g=>!g.startsWith("_")&&!l.has(g)),y={};for(const g of m)y[g]=d[g];for(const[g,v]of Object.entries(y)){const T=[];for(const S of o.slice(s))S==="*"?T.push(g):T.push(S);f(d,T,v)}for(const g of m)delete d[g]}}else{const d=n;u in d&&af(d[u],e,o,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Of(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kx(n){const e={},o=c(n,["operationName"]);o!=null&&f(e,["operationName"],o);const s=c(n,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function Lx(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],Ox(d)),e}function Px(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],Hx(d)),e}function Ox(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Gx(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function Hx(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Vx(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function Gx(n){const e={},o=c(n,["video"]);return o!=null&&f(e,["video"],Yx(o)),e}function Vx(n){const e={},o=c(n,["_self"]);return o!=null&&f(e,["video"],Kx(o)),e}function Bx(n){const e={},o=c(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function zx(n){const e={},o=c(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function qx(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],Fx(d)),e}function Fx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function i0(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],Jx(d)),e}function Jx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function Yx(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Of(s));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function Kx(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Of(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bg||(bg={}));var wg;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(wg||(wg={}));var Ng;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Ng||(Ng={}));var gt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(gt||(gt={}));var Rg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Rg||(Rg={}));var Ig;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ig||(Ig={}));var Mg;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Mg||(Mg={}));var Dg;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Dg||(Dg={}));var Ug;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ug||(Ug={}));var kg;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(kg||(kg={}));var Lg;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Lg||(Lg={}));var Pg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Pg||(Pg={}));var Og;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Og||(Og={}));var Hg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Hg||(Hg={}));var Gg;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Gg||(Gg={}));var Vg;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Vg||(Vg={}));var Bg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Bg||(Bg={}));var zg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(zg||(zg={}));var qg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qg||(qg={}));var ta;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ta||(ta={}));var Fg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fg||(Fg={}));var Jg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Jg||(Jg={}));var Yg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Yg||(Yg={}));var uf;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(uf||(uf={}));var Kg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Kg||(Kg={}));var Xg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Xg||(Xg={}));var $g;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})($g||($g={}));var Qg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Qg||(Qg={}));var Wg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Wg||(Wg={}));var Zg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zg||(Zg={}));var jg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(jg||(jg={}));var ey;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ey||(ey={}));var ty;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ty||(ty={}));var ny;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(ny||(ny={}));var iy;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(iy||(iy={}));var oy;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oy||(oy={}));var sy;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sy||(sy={}));var ry;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ry||(ry={}));var ly;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(ly||(ly={}));var ay;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(ay||(ay={}));var uy;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(uy||(uy={}));var cy;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(cy||(cy={}));var fy;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(fy||(fy={}));var dy;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(dy||(dy={}));var hy;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(hy||(hy={}));var py;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(py||(py={}));var my;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(my||(my={}));var gy;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(gy||(gy={}));var yy;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(yy||(yy={}));var vy;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vy||(vy={}));var _y;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_y||(_y={}));var Ty;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ty||(Ty={}));var Sy;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Sy||(Sy={}));var Ey;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ey||(Ey={}));var Cy;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Cy||(Cy={}));var Fo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Fo||(Fo={}));class cf{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class or{get text(){var e,o,s,l,u,d,m,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const T=[];for(const S of(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[A,R]of Object.entries(S))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(R!==null||R!==void 0)&&T.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,g+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,o,s,l,u,d,m,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const T of(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[S,A]of Object.entries(T))S!=="inlineData"&&(A!==null||A!==void 0)&&v.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,o,s,l,u,d,m,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,o,s,l,u,d,m,y,g;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,o,s,l,u,d,m,y,g;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Ay{}class xy{}class Xx{}class $x{}class Qx{}class Wx{}class by{}class wy{}class Ny{}class Zx{}class na{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new na;let l;const u=e;return o?l=Px(u):l=Lx(u),Object.assign(s,l),s}}class Ry{}class Iy{}class My{}class Dy{}class jx{}class e1{}class t1{}class Hf{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Hf,u=qx(e);return Object.assign(s,u),s}}class n1{}class i1{}class o1{}class Uy{}class s1{get text(){var e,o,s;let l="",u=!1;const d=[];for(const m of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(m))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;u=!0,l+=m.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,o,s;let l="";const u=[];for(const d of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[m,y]of Object.entries(d))m!=="inlineData"&&y!==null&&u.push(m);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class r1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Gf{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Gf,u=i0(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function o0(n,e){const o=Me(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function s0(n){return Array.isArray(n)?n.map(e=>ia(e)):[ia(n)]}function ia(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function r0(n){const e=ia(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function l0(n){const e=ia(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ky(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function a0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>ky(e)):[ky(n)]}function ff(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ly(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Py(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function _t(n){if(n==null)throw new Error("ContentUnion is required");return ff(n)?n:{role:"user",parts:a0(n)}}function Vf(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=_t(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=_t(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>_t(o)):[_t(e)]}function Zt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ly(n)||Py(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_t(n)]}const e=[],o=[],s=ff(n[0]);for(const l of n){const u=ff(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(Ly(l)||Py(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return s||e.push({role:"user",parts:a0(o)}),e}function l1(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(gt).includes(o[0].toUpperCase())?o[0].toUpperCase():gt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(gt).includes(s.toUpperCase())?s.toUpperCase():gt.TYPE_UNSPECIFIED})}}function $o(n){const e={},o=["items"],s=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&l1(n.type,e);for(const[d,m]of Object.entries(n))if(m!=null)if(d=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(gt).includes(m.toUpperCase())?m.toUpperCase():gt.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=$o(m);else if(s.includes(d)){const y=[];for(const g of m){if(g.type=="null"){e.nullable=!0;continue}y.push($o(g))}e[d]=y}else if(l.includes(d)){const y={};for(const[g,v]of Object.entries(m))y[g]=$o(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=m}return e}function Bf(n){return $o(n)}function zf(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function qf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function is(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$o(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$o(e.response));return n}function os(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function a1(n,e,o,s=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function Yn(n,e){if(typeof e!="string")throw new Error("name must be a string");return a1(n,e,"cachedContents")}function u0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function bi(n){return Of(n)}function u1(n){return n!=null&&typeof n=="object"&&"name"in n}function c1(n){return n!=null&&typeof n=="object"&&"video"in n}function f1(n){return n!=null&&typeof n=="object"&&"uri"in n}function c0(n){var e;let o;if(u1(n)&&(o=n.name),!(f1(n)&&(o=n.uri,o===void 0))&&!(c1(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function f0(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function d0(n){for(const e of["models","tunedModels","publisherModels"])if(d1(n,e))return n[e];return[]}function d1(n,e){return n!==null&&typeof n=="object"&&e in n}function h1(n,e={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function p1(n,e={}){const o=[],s=new Set;for(const l of n){const u=l.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const d=h1(l,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function h0(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function m1(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function p0(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let u=!1;for(const d of l){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function ss(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function m0(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g1(n){const e={},o=c(n,["responsesFile"]);o!=null&&f(e,["fileName"],o);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Q1(d))),f(e,["inlinedResponses"],u)}const l=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function y1(n){const e={},o=c(n,["predictionsFormat"]);o!=null&&f(e,["format"],o);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const l=c(n,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function v1(n){const e={},o=c(n,["format"]);o!=null&&f(e,["predictionsFormat"],o);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fl(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["metadata","state"]);l!=null&&f(e,["state"],m0(l));const u=c(n,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const m=c(n,["metadata","updateTime"]);m!=null&&f(e,["updateTime"],m);const y=c(n,["metadata","model"]);y!=null&&f(e,["model"],y);const g=c(n,["metadata","output"]);return g!=null&&f(e,["dest"],g1(p0(g))),e}function df(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["state"]);l!=null&&f(e,["state"],m0(l));const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["createTime"]);d!=null&&f(e,["createTime"],d);const m=c(n,["startTime"]);m!=null&&f(e,["startTime"],m);const y=c(n,["endTime"]);y!=null&&f(e,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&f(e,["updateTime"],g);const v=c(n,["model"]);v!=null&&f(e,["model"],v);const T=c(n,["inputConfig"]);T!=null&&f(e,["src"],_1(T));const S=c(n,["outputConfig"]);S!=null&&f(e,["dest"],y1(p0(S)));const A=c(n,["completionStats"]);return A!=null&&f(e,["completionStats"],A),e}function _1(n){const e={},o=c(n,["instancesFormat"]);o!=null&&f(e,["format"],o);const s=c(n,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const l=c(n,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function T1(n,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&f(o,["fileName"],s);const l=c(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>$1(n,d))),f(o,["requests","requests"],u)}return o}function S1(n){const e={},o=c(n,["format"]);o!=null&&f(e,["instancesFormat"],o);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function E1(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function C1(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],ss(n,s)),o}function A1(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],ss(n,s)),o}function x1(n){const e={},o=c(n,["content"]);o!=null&&f(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],b1(s));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const m=c(n,["groundingMetadata"]);m!=null&&f(e,["groundingMetadata"],m);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const g=c(n,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),f(e,["safetyRatings"],S)}const T=c(n,["urlContextMetadata"]);return T!=null&&f(e,["urlContextMetadata"],T),e}function b1(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function g0(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>ib(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function w1(n,e){const o={},s=c(n,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function N1(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],v1(m1(l))),o}function Oy(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["src"]);l!=null&&f(o,["batch","inputConfig"],T1(n,h0(n,l)));const u=c(e,["config"]);return u!=null&&w1(u,o),o}function R1(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],Me(n,s));const l=c(e,["src"]);l!=null&&f(o,["inputConfig"],S1(h0(n,l)));const u=c(e,["config"]);return u!=null&&N1(u,o),o}function I1(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),o}function M1(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["src"]);l!=null&&f(o,["batch","inputConfig"],H1(n,l));const u=c(e,["config"]);return u!=null&&I1(u,o),o}function D1(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],ss(n,s)),o}function U1(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],ss(n,s)),o}function k1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function L1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function P1(n,e){const o={},s=c(e,["contents"]);if(s!=null){let u=Vf(n,s);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["requests[]","request","content"],u)}const l=c(e,["config"]);return l!=null&&(f(o,["_self"],O1(l,o)),Ux(o,{"requests[].*":"requests[].request.*"})),o}function O1(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function H1(n,e){const o={},s=c(e,["fileName"]);s!=null&&f(o,["file_name"],s);const l=c(e,["inlinedRequests"]);return l!=null&&f(o,["requests"],P1(n,l)),o}function G1(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function V1(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B1(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function z1(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],g0(_t(l)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const m=c(e,["topK"]);m!=null&&f(s,["topK"],m);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const T=c(e,["responseLogprobs"]);T!=null&&f(s,["responseLogprobs"],T);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const A=c(e,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const R=c(e,["frequencyPenalty"]);R!=null&&f(s,["frequencyPenalty"],R);const L=c(e,["seed"]);L!=null&&f(s,["seed"],L);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const B=c(e,["responseSchema"]);B!=null&&f(s,["responseSchema"],Bf(B));const K=c(e,["responseJsonSchema"]);if(K!=null&&f(s,["responseJsonSchema"],K),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=c(e,["safetySettings"]);if(o!==void 0&&z!=null){let xe=z;Array.isArray(xe)&&(xe=xe.map(Fe=>ob(Fe))),f(o,["safetySettings"],xe)}const q=c(e,["tools"]);if(o!==void 0&&q!=null){let xe=os(q);Array.isArray(xe)&&(xe=xe.map(Fe=>rb(is(Fe)))),f(o,["tools"],xe)}const oe=c(e,["toolConfig"]);if(o!==void 0&&oe!=null&&f(o,["toolConfig"],sb(oe)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=c(e,["cachedContent"]);o!==void 0&&ne!=null&&f(o,["cachedContent"],Yn(n,ne));const Y=c(e,["responseModalities"]);Y!=null&&f(s,["responseModalities"],Y);const ue=c(e,["mediaResolution"]);ue!=null&&f(s,["mediaResolution"],ue);const j=c(e,["speechConfig"]);if(j!=null&&f(s,["speechConfig"],zf(j)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=c(e,["thinkingConfig"]);de!=null&&f(s,["thinkingConfig"],de);const be=c(e,["imageConfig"]);be!=null&&f(s,["imageConfig"],X1(be));const Ce=c(e,["enableEnhancedCivicAnswers"]);return Ce!=null&&f(s,["enableEnhancedCivicAnswers"],Ce),s}function q1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>x1(g))),f(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const m=c(n,["usageMetadata"]);return m!=null&&f(e,["usageMetadata"],m),e}function F1(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],ss(n,s)),o}function J1(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],ss(n,s)),o}function Y1(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function K1(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function X1(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $1(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["request","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let m=Zt(l);Array.isArray(m)&&(m=m.map(y=>g0(y))),f(o,["request","contents"],m)}const u=c(e,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(o,["request","generationConfig"],z1(n,d,c(o,["request"],{}))),o}function Q1(n){const e={},o=c(n,["response"]);o!=null&&f(e,["response"],q1(o));const s=c(n,["error"]);return s!=null&&f(e,["error"],s),e}function W1(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Z1(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const u=c(n,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),o}function j1(n){const e={},o=c(n,["config"]);return o!=null&&W1(o,e),e}function eb(n){const e={},o=c(n,["config"]);return o!=null&&Z1(o,e),e}function tb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Fl(d))),f(e,["batchJobs"],u)}return e}function nb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>df(d))),f(e,["batchJobs"],u)}return e}function ib(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],G1(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],V1(d));const m=c(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],E1(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const T=c(n,["thoughtSignature"]);T!=null&&f(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function ob(n){const e={},o=c(n,["category"]);if(o!=null&&f(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function sb(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],B1(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function rb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],Y1(m));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],K1(y));const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(qn||(qn={}));class eo{constructor(e,o,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,l)}init(e,o,s){var l,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(l=d.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lb extends Jn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new eo(qn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Oy(this.apiClient,e),s=o._url,l=Q("{model}:batchGenerateContent",s),m=o.batch.inputConfig.requests,y=m.requests,g=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=S,T.request=A}g.push(T)}return m.requests=g,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${l}`;else if(d)s.dest=`${d}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=R1(this.apiClient,e);return m=Q("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>df(v))}else{const g=Oy(this.apiClient,e);return m=Q("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Fl(v))}}async createEmbeddingsInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=M1(this.apiClient,e);return u=Q("{model}:asyncBatchEmbedContent",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Fl(y))}}async get(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=J1(this.apiClient,e);return m=Q("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>df(v))}else{const g=F1(this.apiClient,e);return m=Q("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Fl(v))}}async cancel(e){var o,s,l,u;let d="",m={};if(this.apiClient.isVertexAI()){const y=A1(this.apiClient,e);d=Q("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=C1(this.apiClient,e);d=Q("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=eb(e);return m=Q("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=nb(v),S=new Uy;return Object.assign(S,T),S})}else{const g=j1(e);return m=Q("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=tb(v),S=new Uy;return Object.assign(S,T),S})}}async delete(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=U1(this.apiClient,e);return m=Q("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>L1(v))}else{const g=D1(this.apiClient,e);return m=Q("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>k1(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ab(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Hy(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Mb(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function ub(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let v=Zt(d);Array.isArray(v)&&(v=v.map(T=>Hy(T))),f(e,["contents"],v)}const m=c(n,["systemInstruction"]);e!==void 0&&m!=null&&f(e,["systemInstruction"],Hy(_t(m)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>Ub(T))),f(e,["tools"],v)}const g=c(n,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],Db(g)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function cb(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let T=Zt(d);Array.isArray(T)&&(T=T.map(S=>S)),f(e,["contents"],T)}const m=c(n,["systemInstruction"]);e!==void 0&&m!=null&&f(e,["systemInstruction"],_t(m));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>kb(S))),f(e,["tools"],T)}const g=c(n,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),o}function fb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],o0(n,s));const l=c(e,["config"]);return l!=null&&ub(l,o),o}function db(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],o0(n,s));const l=c(e,["config"]);return l!=null&&cb(l,o),o}function hb(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Yn(n,s)),o}function pb(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Yn(n,s)),o}function mb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function gb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function yb(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function vb(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _b(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Tb(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const m=c(n,["responseJsonSchema"]);return m!=null&&f(e,["responseJsonSchema"],m),e}function Sb(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Yn(n,s)),o}function Eb(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Yn(n,s)),o}function Cb(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function Ab(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function xb(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function bb(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function wb(n){const e={},o=c(n,["config"]);return o!=null&&xb(o,e),e}function Nb(n){const e={},o=c(n,["config"]);return o!=null&&bb(o,e),e}function Rb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function Ib(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function Mb(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],yb(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],vb(d));const m=c(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],ab(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const T=c(n,["thoughtSignature"]);T!=null&&f(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function Db(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],_b(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function Ub(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],Cb(m));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],Ab(y));const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function kb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(S=>Tb(S))),f(e,["functionDeclarations"],T)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const m=c(n,["enterpriseWebSearch"]);m!=null&&f(e,["enterpriseWebSearch"],m);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function Lb(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function Pb(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function Ob(n,e){const o={},s=c(e,["name"]);s!=null&&f(o,["_url","name"],Yn(n,s));const l=c(e,["config"]);return l!=null&&Lb(l,o),o}function Hb(n,e){const o={},s=c(e,["name"]);s!=null&&f(o,["_url","name"],Yn(n,s));const l=c(e,["config"]);return l!=null&&Pb(l,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gb extends Jn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new eo(qn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=db(this.apiClient,e);return m=Q("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=fb(this.apiClient,e);return m=Q("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Eb(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=Sb(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=pb(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=gb(v),S=new My;return Object.assign(S,T),S})}else{const g=hb(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=mb(v),S=new My;return Object.assign(S,T),S})}}async update(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Hb(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=Ob(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Nb(e);return m=Q("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Ib(v),S=new Dy;return Object.assign(S,T),S})}else{const g=wb(e);return m=Q("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Rb(v),S=new Dy;return Object.assign(S,T),S})}}}function oa(n,e){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(o[s[l]]=n[s[l]]);return o}function Gy(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(n){return this instanceof fe?(this.v=n,this):new fe(n)}function ln(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(A){return function(R){return Promise.resolve(R).then(A,T)}}function m(A,R){s[A]&&(l[A]=function(L){return new Promise(function(U,B){u.push([A,L,U,B])>1||y(A,L)})},R&&(l[A]=R(l[A])))}function y(A,R){try{g(s[A](R))}catch(L){S(u[0][3],L)}}function g(A){A.value instanceof fe?Promise.resolve(A.value.v).then(v,T):S(u[0][2],A)}function v(A){y("next",A)}function T(A){y("throw",A)}function S(A,R){A(R),u.shift(),u.length&&y(u[0][0],u[0][1])}}function an(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Gy=="function"?Gy(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=n[u]&&function(d){return new Promise(function(m,y){d=n[u](d),l(m,y,d.done,d.value)})}}function l(u,d,m,y){Promise.resolve(y).then(function(g){u({value:g,done:m})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vb(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:y0(o)}function y0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Bb(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Vy(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")e.push(n[s]),s++;else{const l=[];let u=!0;for(;s<o&&n[s].role==="model";)l.push(n[s]),u&&!y0(n[s])&&(u=!1),s++;u?e.push(...l):e.pop()}return e}class zb{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new qb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qb{constructor(e,o,s,l={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),Bb(u)}async sendMessage(e){var o;await this.sendPromise;const s=_t(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,d,m;const y=await l,g=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];v!=null&&(S=(m=v.slice(T))!==null&&m!==void 0?m:[]);const A=g?[g]:[];this.recordHistory(s,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const s=_t(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){const o=e?Vy(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return ln(this,arguments,function*(){var l,u,d,m,y,g;const v=[];try{for(var T=!0,S=an(e),A;A=yield fe(S.next()),l=A.done,!l;T=!0){m=A.value,T=!1;const R=m;if(Vb(R)){const L=(g=(y=R.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;L!==void 0&&v.push(L)}yield yield fe(R)}}catch(R){u={error:R}}finally{try{!T&&!l&&(d=S.return)&&(yield fe(d.call(S)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let l=[];o.length>0&&o.every(u=>u.role!==void 0)?l=o:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Vy(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ca extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ca.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fb(n){const e={},o=c(n,["file"]);return o!=null&&f(e,["file"],o),e}function Jb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Yb(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","file"],c0(o)),e}function Kb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Xb(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","file"],c0(o)),e}function $b(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function Qb(n){const e={},o=c(n,["config"]);return o!=null&&$b(o,e),e}function Wb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zb extends Jn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new eo(qn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Qb(e);return u=Q("files",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=Wb(y),v=new n1;return Object.assign(v,g),v})}}async createInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Fb(e);return u=Q("upload/v1beta/files",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=Jb(y),v=new i1;return Object.assign(v,g),v})}}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Xb(e);return u=Q("files/{file}",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Yb(e);return u=Q("files/{file}",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=Kb(y),v=new o1;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jl(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function jb(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>mw(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function ew(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function tw(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nw(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const m=c(n,["responseJsonSchema"]);return m!=null&&f(e,["responseJsonSchema"],m),e}function iw(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const m=c(n,["frequencyPenalty"]);m!=null&&f(e,["frequencyPenalty"],m);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(n,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const T=c(n,["presencePenalty"]);T!=null&&f(e,["presencePenalty"],T);const S=c(n,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const A=c(n,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const R=c(n,["responseModalities"]);R!=null&&f(e,["responseModalities"],R);const L=c(n,["responseSchema"]);L!=null&&f(e,["responseSchema"],L);const U=c(n,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const B=c(n,["seed"]);B!=null&&f(e,["seed"],B);const K=c(n,["speechConfig"]);K!=null&&f(e,["speechConfig"],K);const z=c(n,["stopSequences"]);z!=null&&f(e,["stopSequences"],z);const q=c(n,["temperature"]);q!=null&&f(e,["temperature"],q);const oe=c(n,["thinkingConfig"]);oe!=null&&f(e,["thinkingConfig"],oe);const ne=c(n,["topK"]);ne!=null&&f(e,["topK"],ne);const Y=c(n,["topP"]);if(Y!=null&&f(e,["topP"],Y),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ow(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function sw(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function rw(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const m=c(n,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const T=c(n,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],qf(T));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const R=c(n,["systemInstruction"]);e!==void 0&&R!=null&&f(e,["setup","systemInstruction"],jb(_t(R)));const L=c(n,["tools"]);if(e!==void 0&&L!=null){let ne=os(L);Array.isArray(ne)&&(ne=ne.map(Y=>yw(is(Y)))),f(e,["setup","tools"],ne)}const U=c(n,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],gw(U));const B=c(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","inputAudioTranscription"],B);const K=c(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&f(e,["setup","outputAudioTranscription"],K);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const q=c(n,["contextWindowCompression"]);e!==void 0&&q!=null&&f(e,["setup","contextWindowCompression"],q);const oe=c(n,["proactivity"]);if(e!==void 0&&oe!=null&&f(e,["setup","proactivity"],oe),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function lw(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],iw(s));const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const m=c(n,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const T=c(n,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],qf(T));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const R=c(n,["systemInstruction"]);e!==void 0&&R!=null&&f(e,["setup","systemInstruction"],_t(R));const L=c(n,["tools"]);if(e!==void 0&&L!=null){let Y=os(L);Array.isArray(Y)&&(Y=Y.map(ue=>vw(is(ue)))),f(e,["setup","tools"],Y)}const U=c(n,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],U);const B=c(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","inputAudioTranscription"],B);const K=c(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&f(e,["setup","outputAudioTranscription"],K);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const q=c(n,["contextWindowCompression"]);e!==void 0&&q!=null&&f(e,["setup","contextWindowCompression"],q);const oe=c(n,["proactivity"]);e!==void 0&&oe!=null&&f(e,["setup","proactivity"],oe);const ne=c(n,["explicitVadSignal"]);return e!==void 0&&ne!=null&&f(e,["setup","explicitVadSignal"],ne),o}function aw(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],Me(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],rw(l,o)),o}function uw(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],Me(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],lw(l,o)),o}function cw(n){const e={},o=c(n,["musicGenerationConfig"]);return o!=null&&f(e,["musicGenerationConfig"],o),e}function fw(n){const e={},o=c(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["weightedPrompts"],s)}return e}function dw(n){const e={},o=c(n,["media"]);if(o!=null){let g=s0(o);Array.isArray(g)&&(g=g.map(v=>Jl(v))),f(e,["mediaChunks"],g)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],Jl(l0(s)));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&f(e,["video"],Jl(r0(u)));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const m=c(n,["activityStart"]);m!=null&&f(e,["activityStart"],m);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function hw(n){const e={},o=c(n,["media"]);if(o!=null){let g=s0(o);Array.isArray(g)&&(g=g.map(v=>v)),f(e,["mediaChunks"],g)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],l0(s));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&f(e,["video"],r0(u));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const m=c(n,["activityStart"]);m!=null&&f(e,["activityStart"],m);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function pw(n){const e={},o=c(n,["setupComplete"]);o!=null&&f(e,["setupComplete"],o);const s=c(n,["serverContent"]);s!=null&&f(e,["serverContent"],s);const l=c(n,["toolCall"]);l!=null&&f(e,["toolCall"],l);const u=c(n,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],_w(d));const m=c(n,["goAway"]);m!=null&&f(e,["goAway"],m);const y=c(n,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const g=c(n,["voiceActivityDetectionSignal"]);return g!=null&&f(e,["voiceActivityDetectionSignal"],g),e}function mw(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],ew(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],tw(d));const m=c(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],Jl(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const T=c(n,["thoughtSignature"]);T!=null&&f(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function gw(n){const e={},o=c(n,["handle"]);if(o!=null&&f(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yw(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],ow(m));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],sw(y));const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function vw(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(S=>nw(S))),f(e,["functionDeclarations"],T)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const m=c(n,["enterpriseWebSearch"]);m!=null&&f(e,["enterpriseWebSearch"],m);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function _w(n){const e={},o=c(n,["promptTokenCount"]);o!=null&&f(e,["promptTokenCount"],o);const s=c(n,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const l=c(n,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const m=c(n,["totalTokenCount"]);m!=null&&f(e,["totalTokenCount"],m);const y=c(n,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(R=>R)),f(e,["promptTokensDetails"],A)}const g=c(n,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(R=>R)),f(e,["cacheTokensDetails"],A)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(R=>R)),f(e,["responseTokensDetails"],A)}const T=c(n,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(R=>R)),f(e,["toolUsePromptTokensDetails"],A)}const S=c(n,["trafficType"]);return S!=null&&f(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tw(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Sw(n){const e={},o=c(n,["content"]);o!=null&&f(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],Ew(s));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const m=c(n,["groundingMetadata"]);m!=null&&f(e,["groundingMetadata"],m);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const g=c(n,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),f(e,["safetyRatings"],S)}const T=c(n,["urlContextMetadata"]);return T!=null&&f(e,["urlContextMetadata"],T),e}function Ew(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function Cw(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let u=Zt(l);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["contents"],u)}return o}function Aw(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["tokensInfo"],l)}return e}function xw(n){const e={},o=c(n,["values"]);o!=null&&f(e,["values"],o);const s=c(n,["statistics"]);return s!=null&&f(e,["statistics"],bw(s)),e}function bw(n){const e={},o=c(n,["truncated"]);o!=null&&f(e,["truncated"],o);const s=c(n,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function fa(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>LN(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function ww(n){const e={},o=c(n,["controlType"]);o!=null&&f(e,["controlType"],o);const s=c(n,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function Nw(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Rw(n,e){const o={},s=c(n,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],_t(s));const l=c(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>S0(m))),f(e,["tools"],d)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],TN(u)),o}function Iw(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let d=Zt(l);Array.isArray(d)&&(d=d.map(m=>fa(m))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&Nw(u),o}function Mw(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let d=Zt(l);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&Rw(u,o),o}function Dw(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const l=c(n,["cachedContentTokenCount"]);return l!=null&&f(e,["cachedContentTokenCount"],l),e}function Uw(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function kw(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],Me(n,s)),o}function Lw(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],Me(n,s)),o}function Pw(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Ow(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Hw(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const m=c(n,["guidanceScale"]);e!==void 0&&m!=null&&f(e,["parameters","guidanceScale"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const T=c(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&f(e,["parameters","includeSafetyAttributes"],T);const S=c(n,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const A=c(n,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const R=c(n,["outputMimeType"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","mimeType"],R);const L=c(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&f(e,["parameters","outputOptions","compressionQuality"],L);const U=c(n,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const B=c(n,["labels"]);e!==void 0&&B!=null&&f(e,["labels"],B);const K=c(n,["editMode"]);e!==void 0&&K!=null&&f(e,["parameters","editMode"],K);const z=c(n,["baseSteps"]);return e!==void 0&&z!=null&&f(e,["parameters","editConfig","baseSteps"],z),o}function Gw(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["referenceImages"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>BN(y))),f(o,["instances[0]","referenceImages"],m)}const d=c(e,["config"]);return d!=null&&Hw(d,o),o}function Vw(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>da(u))),f(e,["generatedImages"],l)}return e}function Bw(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function zw(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(n,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const m=c(n,["autoTruncate"]);return e!==void 0&&m!=null&&f(e,["parameters","autoTruncate"],m),o}function qw(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let m=Vf(n,l);Array.isArray(m)&&(m=m.map(y=>y)),f(o,["requests[]","content"],m)}const u=c(e,["config"]);u!=null&&Bw(u,o);const d=c(e,["model"]);return d!==void 0&&f(o,["requests[]","model"],Me(n,d)),o}function Fw(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let d=Vf(n,l);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&zw(u,o),o}function Jw(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function Yw(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>xw(d))),f(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function Kw(n){const e={},o=c(n,["endpoint"]);o!=null&&f(e,["name"],o);const s=c(n,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function Xw(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function $w(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qw(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ww(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const m=c(n,["responseJsonSchema"]);return m!=null&&f(e,["responseJsonSchema"],m),e}function Zw(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],fa(_t(l)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const m=c(e,["topK"]);m!=null&&f(s,["topK"],m);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const T=c(e,["responseLogprobs"]);T!=null&&f(s,["responseLogprobs"],T);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const A=c(e,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const R=c(e,["frequencyPenalty"]);R!=null&&f(s,["frequencyPenalty"],R);const L=c(e,["seed"]);L!=null&&f(s,["seed"],L);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const B=c(e,["responseSchema"]);B!=null&&f(s,["responseSchema"],Bf(B));const K=c(e,["responseJsonSchema"]);if(K!=null&&f(s,["responseJsonSchema"],K),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=c(e,["safetySettings"]);if(o!==void 0&&z!=null){let xe=z;Array.isArray(xe)&&(xe=xe.map(Fe=>zN(Fe))),f(o,["safetySettings"],xe)}const q=c(e,["tools"]);if(o!==void 0&&q!=null){let xe=os(q);Array.isArray(xe)&&(xe=xe.map(Fe=>$N(is(Fe)))),f(o,["tools"],xe)}const oe=c(e,["toolConfig"]);if(o!==void 0&&oe!=null&&f(o,["toolConfig"],XN(oe)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=c(e,["cachedContent"]);o!==void 0&&ne!=null&&f(o,["cachedContent"],Yn(n,ne));const Y=c(e,["responseModalities"]);Y!=null&&f(s,["responseModalities"],Y);const ue=c(e,["mediaResolution"]);ue!=null&&f(s,["mediaResolution"],ue);const j=c(e,["speechConfig"]);if(j!=null&&f(s,["speechConfig"],zf(j)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=c(e,["thinkingConfig"]);de!=null&&f(s,["thinkingConfig"],de);const be=c(e,["imageConfig"]);be!=null&&f(s,["imageConfig"],xN(be));const Ce=c(e,["enableEnhancedCivicAnswers"]);return Ce!=null&&f(s,["enableEnhancedCivicAnswers"],Ce),s}function jw(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],_t(l));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const m=c(e,["topK"]);m!=null&&f(s,["topK"],m);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const T=c(e,["responseLogprobs"]);T!=null&&f(s,["responseLogprobs"],T);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const A=c(e,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const R=c(e,["frequencyPenalty"]);R!=null&&f(s,["frequencyPenalty"],R);const L=c(e,["seed"]);L!=null&&f(s,["seed"],L);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const B=c(e,["responseSchema"]);B!=null&&f(s,["responseSchema"],Bf(B));const K=c(e,["responseJsonSchema"]);K!=null&&f(s,["responseJsonSchema"],K);const z=c(e,["routingConfig"]);z!=null&&f(s,["routingConfig"],z);const q=c(e,["modelSelectionConfig"]);q!=null&&f(s,["modelConfig"],q);const oe=c(e,["safetySettings"]);if(o!==void 0&&oe!=null){let P=oe;Array.isArray(P)&&(P=P.map(J=>J)),f(o,["safetySettings"],P)}const ne=c(e,["tools"]);if(o!==void 0&&ne!=null){let P=os(ne);Array.isArray(P)&&(P=P.map(J=>S0(is(J)))),f(o,["tools"],P)}const Y=c(e,["toolConfig"]);o!==void 0&&Y!=null&&f(o,["toolConfig"],Y);const ue=c(e,["labels"]);o!==void 0&&ue!=null&&f(o,["labels"],ue);const j=c(e,["cachedContent"]);o!==void 0&&j!=null&&f(o,["cachedContent"],Yn(n,j));const de=c(e,["responseModalities"]);de!=null&&f(s,["responseModalities"],de);const be=c(e,["mediaResolution"]);be!=null&&f(s,["mediaResolution"],be);const Ce=c(e,["speechConfig"]);Ce!=null&&f(s,["speechConfig"],zf(Ce));const xe=c(e,["audioTimestamp"]);xe!=null&&f(s,["audioTimestamp"],xe);const Fe=c(e,["thinkingConfig"]);Fe!=null&&f(s,["thinkingConfig"],Fe);const st=c(e,["imageConfig"]);if(st!=null&&f(s,["imageConfig"],bN(st)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function By(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let d=Zt(l);Array.isArray(d)&&(d=d.map(m=>fa(m))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],Zw(n,u,o)),o}function zy(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let d=Zt(l);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],jw(n,u,o)),o}function qy(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>Sw(g))),f(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const m=c(n,["usageMetadata"]);return m!=null&&f(e,["usageMetadata"],m),e}function Fy(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["candidates"],g)}const l=c(n,["createTime"]);l!=null&&f(e,["createTime"],l);const u=c(n,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const m=c(n,["responseId"]);m!=null&&f(e,["responseId"],m);const y=c(n,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function eN(n,e){const o={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const m=c(n,["personGeneration"]);e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m);const y=c(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const g=c(n,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const v=c(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const T=c(n,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const S=c(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=c(n,["imageSize"]);if(e!==void 0&&A!=null&&f(e,["parameters","sampleImageSize"],A),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function tN(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const m=c(n,["guidanceScale"]);e!==void 0&&m!=null&&f(e,["parameters","guidanceScale"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const T=c(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&f(e,["parameters","includeSafetyAttributes"],T);const S=c(n,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const A=c(n,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const R=c(n,["outputMimeType"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","mimeType"],R);const L=c(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&f(e,["parameters","outputOptions","compressionQuality"],L);const U=c(n,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const B=c(n,["labels"]);e!==void 0&&B!=null&&f(e,["labels"],B);const K=c(n,["imageSize"]);e!==void 0&&K!=null&&f(e,["parameters","sampleImageSize"],K);const z=c(n,["enhancePrompt"]);return e!==void 0&&z!=null&&f(e,["parameters","enhancePrompt"],z),o}function nN(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&eN(u,o),o}function iN(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&tN(u,o),o}function oN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>gN(d))),f(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],_0(l)),e}function sN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>da(d))),f(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],T0(l)),e}function rN(n,e){const o={},s=c(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(n,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(n,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const m=c(n,["personGeneration"]);if(e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(n,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const g=c(n,["enhancePrompt"]);if(e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(n,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],ha(v));const T=c(n,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(A=>aR(A))),f(e,["instances[0]","referenceImages"],S)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function lN(n,e){const o={},s=c(n,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const u=c(n,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(n,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const m=c(n,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const y=c(n,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const g=c(n,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const T=c(n,["pubsubTopic"]);e!==void 0&&T!=null&&f(e,["parameters","pubsubTopic"],T);const S=c(n,["negativePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","negativePrompt"],S);const A=c(n,["enhancePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A);const R=c(n,["generateAudio"]);e!==void 0&&R!=null&&f(e,["parameters","generateAudio"],R);const L=c(n,["lastFrame"]);e!==void 0&&L!=null&&f(e,["instances[0]","lastFrame"],un(L));const U=c(n,["referenceImages"]);if(e!==void 0&&U!=null){let z=U;Array.isArray(z)&&(z=z.map(q=>uR(q))),f(e,["instances[0]","referenceImages"],z)}const B=c(n,["mask"]);e!==void 0&&B!=null&&f(e,["instances[0]","mask"],lR(B));const K=c(n,["compressionQuality"]);return e!==void 0&&K!=null&&f(e,["parameters","compressionQuality"],K),o}function aN(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],dN(d)),e}function uN(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],hN(d)),e}function cN(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],ha(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],E0(d));const m=c(e,["source"]);m!=null&&pN(m,o);const y=c(e,["config"]);return y!=null&&rN(y,o),o}function fN(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],un(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],C0(d));const m=c(e,["source"]);m!=null&&mN(m,o);const y=c(e,["config"]);return y!=null&&lN(y,o),o}function dN(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>vN(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function hN(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>_N(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function pN(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],ha(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],E0(u)),o}function mN(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],un(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],C0(u)),o}function gN(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["image"],wN(o));const s=c(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=c(n,["_self"]);return l!=null&&f(e,["safetyAttributes"],_0(l)),e}function da(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["image"],v0(o));const s=c(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=c(n,["_self"]);l!=null&&f(e,["safetyAttributes"],T0(l));const u=c(n,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function yN(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["mask"],v0(o));const s=c(n,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["labels"],l)}return e}function vN(n){const e={},o=c(n,["video"]);return o!=null&&f(e,["video"],sR(o)),e}function _N(n){const e={},o=c(n,["_self"]);return o!=null&&f(e,["video"],rR(o)),e}function TN(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const m=c(n,["frequencyPenalty"]);m!=null&&f(e,["frequencyPenalty"],m);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(n,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const T=c(n,["presencePenalty"]);T!=null&&f(e,["presencePenalty"],T);const S=c(n,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const A=c(n,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const R=c(n,["responseModalities"]);R!=null&&f(e,["responseModalities"],R);const L=c(n,["responseSchema"]);L!=null&&f(e,["responseSchema"],L);const U=c(n,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const B=c(n,["seed"]);B!=null&&f(e,["seed"],B);const K=c(n,["speechConfig"]);K!=null&&f(e,["speechConfig"],K);const z=c(n,["stopSequences"]);z!=null&&f(e,["stopSequences"],z);const q=c(n,["temperature"]);q!=null&&f(e,["temperature"],q);const oe=c(n,["thinkingConfig"]);oe!=null&&f(e,["thinkingConfig"],oe);const ne=c(n,["topK"]);ne!=null&&f(e,["topK"],ne);const Y=c(n,["topP"]);if(Y!=null&&f(e,["topP"],Y),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function SN(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],Me(n,s)),o}function EN(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],Me(n,s)),o}function CN(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function AN(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function xN(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bN(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);s!=null&&f(e,["imageSize"],s);const l=c(n,["outputMimeType"]);l!=null&&f(e,["imageOutputOptions","mimeType"],l);const u=c(n,["outputCompressionQuality"]);return u!=null&&f(e,["imageOutputOptions","compressionQuality"],u),e}function wN(n){const e={},o=c(n,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],bi(o));const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function v0(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],bi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function ha(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(n,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],bi(o));const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function un(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],bi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function NN(n,e,o){const s={},l=c(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const m=c(e,["queryBase"]);return o!==void 0&&m!=null&&f(o,["_url","models_url"],f0(n,m)),s}function RN(n,e,o){const s={},l=c(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const m=c(e,["queryBase"]);return o!==void 0&&m!=null&&f(o,["_url","models_url"],f0(n,m)),s}function IN(n,e){const o={},s=c(e,["config"]);return s!=null&&NN(n,s,o),o}function MN(n,e){const o={},s=c(e,["config"]);return s!=null&&RN(n,s,o),o}function DN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=d0(l);Array.isArray(u)&&(u=u.map(d=>hf(d))),f(e,["models"],u)}return e}function UN(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=d0(l);Array.isArray(u)&&(u=u.map(d=>pf(d))),f(e,["models"],u)}return e}function kN(n){const e={},o=c(n,["maskMode"]);o!=null&&f(e,["maskMode"],o);const s=c(n,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const l=c(n,["maskDilation"]);return l!=null&&f(e,["dilation"],l),e}function hf(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);l!=null&&f(e,["description"],l);const u=c(n,["version"]);u!=null&&f(e,["version"],u);const d=c(n,["_self"]);d!=null&&f(e,["tunedModelInfo"],QN(d));const m=c(n,["inputTokenLimit"]);m!=null&&f(e,["inputTokenLimit"],m);const y=c(n,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const g=c(n,["supportedGenerationMethods"]);g!=null&&f(e,["supportedActions"],g);const v=c(n,["temperature"]);v!=null&&f(e,["temperature"],v);const T=c(n,["maxTemperature"]);T!=null&&f(e,["maxTemperature"],T);const S=c(n,["topP"]);S!=null&&f(e,["topP"],S);const A=c(n,["topK"]);A!=null&&f(e,["topK"],A);const R=c(n,["thinking"]);return R!=null&&f(e,["thinking"],R),e}function pf(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);l!=null&&f(e,["description"],l);const u=c(n,["versionId"]);u!=null&&f(e,["version"],u);const d=c(n,["deployedModels"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(S=>Kw(S))),f(e,["endpoints"],T)}const m=c(n,["labels"]);m!=null&&f(e,["labels"],m);const y=c(n,["_self"]);y!=null&&f(e,["tunedModelInfo"],WN(y));const g=c(n,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const v=c(n,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>S)),f(e,["checkpoints"],T)}return e}function LN(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],Xw(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],$w(d));const m=c(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],Tw(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const T=c(n,["thoughtSignature"]);T!=null&&f(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function PN(n){const e={},o=c(n,["productImage"]);return o!=null&&f(e,["image"],un(o)),e}function ON(n,e){const o={},s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["baseSteps"]);e!==void 0&&l!=null&&f(e,["parameters","baseSteps"],l);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(n,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const g=c(n,["addWatermark"]);e!==void 0&&g!=null&&f(e,["parameters","addWatermark"],g);const v=c(n,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const T=c(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T);const S=c(n,["enhancePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","enhancePrompt"],S);const A=c(n,["labels"]);return e!==void 0&&A!=null&&f(e,["labels"],A),o}function HN(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["source"]);l!=null&&VN(l,o);const u=c(e,["config"]);return u!=null&&ON(u,o),o}function GN(n){const e={},o=c(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>da(l))),f(e,["generatedImages"],s)}return e}function VN(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["personImage"]);e!==void 0&&l!=null&&f(e,["instances[0]","personImage","image"],un(l));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>PN(m))),f(e,["instances[0]","productImages"],d)}return o}function BN(n){const e={},o=c(n,["referenceImage"]);o!=null&&f(e,["referenceImage"],un(o));const s=c(n,["referenceId"]);s!=null&&f(e,["referenceId"],s);const l=c(n,["referenceType"]);l!=null&&f(e,["referenceType"],l);const u=c(n,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],kN(u));const d=c(n,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],ww(d));const m=c(n,["styleImageConfig"]);m!=null&&f(e,["styleImageConfig"],m);const y=c(n,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function _0(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function T0(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function zN(n){const e={},o=c(n,["category"]);if(o!=null&&f(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function qN(n){const e={},o=c(n,["image"]);return o!=null&&f(e,["image"],un(o)),e}function FN(n,e){const o={},s=c(n,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const l=c(n,["maxPredictions"]);e!==void 0&&l!=null&&f(e,["parameters","maxPredictions"],l);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(n,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const m=c(n,["binaryColorThreshold"]);e!==void 0&&m!=null&&f(e,["parameters","binaryColorThreshold"],m);const y=c(n,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),o}function JN(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["source"]);l!=null&&KN(l,o);const u=c(e,["config"]);return u!=null&&FN(u,o),o}function YN(n){const e={},o=c(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>yN(l))),f(e,["generatedMasks"],s)}return e}function KN(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],un(l));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],qN(u)),o}function XN(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],Qw(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function $N(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],CN(m));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],AN(y));const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function S0(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(S=>Ww(S))),f(e,["functionDeclarations"],T)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const m=c(n,["enterpriseWebSearch"]);m!=null&&f(e,["enterpriseWebSearch"],m);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function QN(n){const e={},o=c(n,["baseModel"]);o!=null&&f(e,["baseModel"],o);const s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function WN(n){const e={},o=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(e,["baseModel"],o);const s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function ZN(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function jN(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function eR(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","name"],Me(n,s));const l=c(e,["config"]);return l!=null&&ZN(l,o),o}function tR(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["config"]);return l!=null&&jN(l,o),o}function nR(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(n,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const m=c(n,["outputMimeType"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","mimeType"],m);const y=c(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const g=c(n,["enhanceInputImage"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=c(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=c(n,["labels"]);e!==void 0&&T!=null&&f(e,["labels"],T);const S=c(n,["numberOfImages"]);e!==void 0&&S!=null&&f(e,["parameters","sampleCount"],S);const A=c(n,["mode"]);return e!==void 0&&A!=null&&f(e,["parameters","mode"],A),o}function iR(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Me(n,s));const l=c(e,["image"]);l!=null&&f(o,["instances[0]","image"],un(l));const u=c(e,["upscaleFactor"]);u!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&nR(d,o),o}function oR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>da(u))),f(e,["generatedImages"],l)}return e}function sR(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],bi(s));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function rR(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],bi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function lR(n){const e={},o=c(n,["image"]);o!=null&&f(e,["_self"],un(o));const s=c(n,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function aR(n){const e={},o=c(n,["image"]);o!=null&&f(e,["image"],ha(o));const s=c(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function uR(n){const e={},o=c(n,["image"]);o!=null&&f(e,["image"],un(o));const s=c(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function E0(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["videoBytes"]);s!=null&&f(e,["encodedVideo"],bi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["encoding"],l),e}function C0(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],bi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),o}function fR(n){const e={},o=c(n,["config"]);return o!=null&&cR(o,e),e}function dR(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function hR(n){const e={},o=c(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&dR(s,e),e}function pR(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function mR(n,e){const o={},s=c(n,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const l=c(n,["chunkingConfig"]);return e!==void 0&&l!=null&&f(e,["chunkingConfig"],l),o}function gR(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],vR(d)),e}function yR(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=c(n,["fileName"]);s!=null&&f(e,["fileName"],s);const l=c(n,["config"]);return l!=null&&mR(l,e),e}function vR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function _R(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function TR(n){const e={},o=c(n,["config"]);return o!=null&&_R(o,e),e}function SR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function A0(n,e){const o={},s=c(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const l=c(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>y)),f(e,["customMetadata"],m)}const d=c(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),o}function ER(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=c(n,["config"]);return s!=null&&A0(s,e),e}function CR(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR="Content-Type",xR="X-Server-Timeout",bR="User-Agent",mf="x-goog-api-client",wR="1.34.0",NR=`google-genai-sdk/${wR}`,RR="v1beta1",IR="v1beta";class MR{constructor(e){var o,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:RR,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:IR,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const l=[this.getRequestUrlInternal(o)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[d,m]of Object.entries(e.queryParams))l.searchParams.append(d,String(m));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(o))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,l){if(o&&o.timeout||l){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>u.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=d}return o&&o.extraBody!==null&&DR(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await Jy(l),new cf(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await Jy(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return ln(this,arguments,function*(){var s;const l=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let d="";const m="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield fe(l.read());if(g){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=u.decode(v,{stream:!0});try{const R=JSON.parse(T);if("error"in R){const L=JSON.parse(JSON.stringify(R.error)),U=L.status,B=L.code,K=`got status: ${U}. ${JSON.stringify(R)}`;if(B>=400&&B<600)throw new ca({message:K,status:B})}}catch(R){if(R.name==="ApiError")throw R}d+=T;let S=-1,A=0;for(;;){S=-1,A=0;for(const U of y){const B=d.indexOf(U);B!==-1&&(S===-1||B<S)&&(S=B,A=U.length)}if(S===-1)break;const R=d.substring(0,S);d=d.substring(S+A);const L=R.trim();if(L.startsWith(m)){const U=L.substring(m.length).trim();try{const B=new Response(U,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fe(new cf(B))}catch(B){throw new Error(`exception parsing stream chunk ${U}. ${B}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=NR+" "+this.clientOptions.userAgentExtra;return e[bR]=o,e[mf]=o,e[AR]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))s.append(l,u);e.timeout&&e.timeout>0&&s.append(xR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);l.sizeBytes=String(d.size);const m=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:d.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=m;const y={file:l},g=this.getFileName(e),v=Q("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,g,y,o==null?void 0:o.httpOptions);return u.upload(e,T,this)}async uploadFileToFileSearchStore(e,o,s){var l;const u=this.clientOptions.uploader,d=await u.stat(o),m=String(d.size),y=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),T={};s!=null&&A0(s,T);const S=await this.fetchUploadUrl(g,m,y,v,T,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,l,u,d){var m;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const g=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(m=g==null?void 0:g.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Jy(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(s);throw o>=400&&o<600?new ca({message:l,status:o}):new Error(l)}}function DR(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,d){const m=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],v=m[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=s(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),m[y]=g)}return m}const l=s(o,e);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UR="mcp_used/unknown";let kR=!1;function x0(n){for(const e of n)if(LR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return kR}function b0(n){var e;const o=(e=n[mf])!==null&&e!==void 0?e:"";n[mf]=(o+` ${UR}`).trimStart()}function LR(n){return n!==null&&typeof n=="object"&&n instanceof Ff}function PR(n){return ln(this,arguments,function*(o,s=100){let l,u=0;for(;u<s;){const d=yield fe(o.listTools({cursor:l}));for(const m of d.tools)yield yield fe(m),u++;if(!d.nextCursor)break;l=d.nextCursor}})}class Ff{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Ff(e,o)}async initialize(){var e,o,s,l;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var m=!0,y=(o=void 0,an(PR(v))),g;g=await y.next(),e=g.done,!e;m=!0){l=g.value,m=!1;const T=l;d.push(T);const S=T.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(T){o={error:T}}finally{try{!m&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),p1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await l.callTool({name:s.name,arguments:s.args},void 0,u);o.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OR(n,e,o){const s=new r1;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(s,l),e(s)}class HR{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=BR(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${m}`;let g=()=>{};const v=new Promise(z=>{g=z}),T=e.callbacks,S=function(){g({})},A=this.apiClient,R={onopen:S,onmessage:z=>{OR(A,T.onmessage,z)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(z){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(z){}},L=this.webSocketFactory.create(y,VR(d),R);L.connect(),await v;const K={setup:{model:Me(this.apiClient,e.model)}};return L.send(JSON.stringify(K)),new GR(L,this.apiClient)}}class GR{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=fw(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=cw(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Fo.PLAY)}pause(){this.sendPlaybackControl(Fo.PAUSE)}stop(){this.sendPlaybackControl(Fo.STOP)}resetContext(){this.sendPlaybackControl(Fo.RESET_CONTEXT)}close(){this.conn.close()}}function VR(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function BR(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qR(n,e,o){const s=new s1;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const u=JSON.parse(l);if(n.isVertexAI()){const d=pw(u);Object.assign(s,d)}else Object.assign(s,u);e(s)}class FR{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new HR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,l,u,d,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&x0(e.config.tools)&&b0(T);const S=XR(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const j=this.apiClient.getApiKey();let de="BidiGenerateContent",be="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",be="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${de}?${be}=${j}`}let A=()=>{};const R=new Promise(j=>{A=j}),L=e.callbacks,U=function(){var j;(j=L==null?void 0:L.onopen)===null||j===void 0||j.call(L),A({})},B=this.apiClient,K={onopen:U,onmessage:j=>{qR(B,L.onmessage,j)},onerror:(o=L==null?void 0:L.onerror)!==null&&o!==void 0?o:function(j){},onclose:(s=L==null?void 0:L.onclose)!==null&&s!==void 0?s:function(j){}},z=this.webSocketFactory.create(v,KR(S),K);z.connect(),await R;let q=Me(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const j=this.apiClient.getProject(),de=this.apiClient.getLocation();q=`projects/${j}/locations/${de}/`+q}let oe={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ta.AUDIO]}:e.config.responseModalities=[ta.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(m=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&m!==void 0?m:[],Y=[];for(const j of ne)if(this.isCallableTool(j)){const de=j;Y.push(await de.tool())}else Y.push(j);Y.length>0&&(e.config.tools=Y);const ue={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?oe=uw(this.apiClient,ue):oe=aw(this.apiClient,ue),delete oe.config,z.send(JSON.stringify(oe)),new YR(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const JR={turnComplete:!0};class YR{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Zt(o.turns),e.isVertexAI()||(s=s.map(l=>fa(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(zR)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},JR),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:hw(e)}:o={realtimeInput:dw(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function KR(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function XR(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yy=10;function Ky(n){var e,o,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Qo(d)){l=!0;break}if(!l)return!0;const u=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Qo(n){return"callTool"in n&&typeof n.callTool=="function"}function $R(n){var e,o,s;return(s=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>Qo(l)))!==null&&s!==void 0?s:!1}function Xy(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,l)=>{if(Qo(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(l)}),o}function $y(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QR extends Jn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,l,u,d,m;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!$R(o)||Ky(o.config))return await this.generateContentInternal(y);const g=Xy(o);if(g.length>0){const L=g.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let v,T;const S=Zt(y.contents),A=(u=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:Yy;let R=0;for(;R<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const L=v.candidates[0].content,U=[];for(const B of(m=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&m!==void 0?m:[])if(Qo(B)){const z=await B.callTool(v.functionCalls);U.push(...z)}R++,T={role:"user",parts:U},y.contents=Zt(y.contents),y.contents.push(L),y.contents.push(T),$y(y.config)&&(S.push(L),S.push(T))}return $y(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var s,l,u,d,m;if(this.maybeMoveToResponseJsonSchem(o),Ky(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=Xy(o);if(y.length>0){const T=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(l=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(m=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var l;let u;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let m;return u?m={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:m={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},m}),this.list=async o=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new eo(qn.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(d),d)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var s,l,u,d,m,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(u=o.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(m=o.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,l;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>Qo(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(m.config.tools=d,e.config&&e.config.tools&&x0(e.config.tools)){const y=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),b0(g),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return m}async initAfcToolsMap(e){var o,s,l;const u=new Map;for(const d of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Qo(d)){const m=d,y=await m.tool();for(const g of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,m)}}return u}async processAfcStream(e){var o,s,l;const u=(l=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:Yy;let d=!1,m=0;const y=await this.initAfcToolsMap(e);return(function(g,v,T){return ln(this,arguments,function*(){for(var S,A,R,L,U,B;m<u;){d&&(m++,d=!1);const oe=yield fe(g.processParamsMaybeAddMcpUsage(T)),ne=yield fe(g.generateContentStreamInternal(oe)),Y=[],ue=[];try{for(var K=!0,z=(A=void 0,an(ne)),q;q=yield fe(z.next()),S=q.done,!S;K=!0){L=q.value,K=!1;const j=L;if(yield yield fe(j),j.candidates&&(!((U=j.candidates[0])===null||U===void 0)&&U.content)){ue.push(j.candidates[0].content);for(const de of(B=j.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(m<u&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const be=yield fe(v.get(de.functionCall.name).callTool([de.functionCall]));Y.push(...be)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(j){A={error:j}}finally{try{!K&&!S&&(R=z.return)&&(yield fe(R.call(z)))}finally{if(A)throw A.error}}if(Y.length>0){d=!0;const j=new or;j.candidates=[{content:{role:"user",parts:Y}}],yield yield fe(j);const de=[];de.push(...ue),de.push({role:"user",parts:Y});const be=Zt(T.contents).concat(de);T.contents=be}else break}})})(this,y,e)}async generateContentInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=zy(this.apiClient,e);return m=Q("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Fy(v),S=new or;return Object.assign(S,T),S})}else{const g=By(this.apiClient,e);return m=Q("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=qy(v),S=new or;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=zy(this.apiClient,e);return m=Q("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(T){return ln(this,arguments,function*(){var S,A,R,L;try{for(var U=!0,B=an(T),K;K=yield fe(B.next()),S=K.done,!S;U=!0){L=K.value,U=!1;const z=L,q=Fy(yield fe(z.json()));q.sdkHttpResponse={headers:z.headers};const oe=new or;Object.assign(oe,q),yield yield fe(oe)}}catch(z){A={error:z}}finally{try{!U&&!S&&(R=B.return)&&(yield fe(R.call(B)))}finally{if(A)throw A.error}}})})}else{const g=By(this.apiClient,e);return m=Q("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(T){return ln(this,arguments,function*(){var S,A,R,L;try{for(var U=!0,B=an(T),K;K=yield fe(B.next()),S=K.done,!S;U=!0){L=K.value,U=!1;const z=L,q=qy(yield fe(z.json()));q.sdkHttpResponse={headers:z.headers};const oe=new or;Object.assign(oe,q),yield yield fe(oe)}}catch(z){A={error:z}}finally{try{!U&&!S&&(R=B.return)&&(yield fe(R.call(B)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Fw(this.apiClient,e);return m=Q("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Yw(v),S=new Ay;return Object.assign(S,T),S})}else{const g=qw(this.apiClient,e);return m=Q("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Jw(v),S=new Ay;return Object.assign(S,T),S})}}async generateImagesInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=iN(this.apiClient,e);return m=Q("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=sN(v),S=new xy;return Object.assign(S,T),S})}else{const g=nN(this.apiClient,e);return m=Q("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=oN(v),S=new xy;return Object.assign(S,T),S})}}async editImageInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const m=Gw(this.apiClient,e);return u=Q("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=Vw(y),v=new Xx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const m=iR(this.apiClient,e);return u=Q("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=oR(y),v=new $x;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const m=HN(this.apiClient,e);return u=Q("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=GN(y),v=new Qx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const m=JN(this.apiClient,e);return u=Q("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=YN(y),v=new Wx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=EN(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>pf(v))}else{const g=SN(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>hf(v))}}async listInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=MN(this.apiClient,e);return m=Q("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=UN(v),S=new by;return Object.assign(S,T),S})}else{const g=IN(this.apiClient,e);return m=Q("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=DN(v),S=new by;return Object.assign(S,T),S})}}async update(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=tR(this.apiClient,e);return m=Q("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>pf(v))}else{const g=eR(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>hf(v))}}async delete(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Lw(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Ow(v),S=new wy;return Object.assign(S,T),S})}else{const g=kw(this.apiClient,e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Pw(v),S=new wy;return Object.assign(S,T),S})}}async countTokens(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Mw(this.apiClient,e);return m=Q("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Uw(v),S=new Ny;return Object.assign(S,T),S})}else{const g=Iw(this.apiClient,e);return m=Q("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=Dw(v),S=new Ny;return Object.assign(S,T),S})}}async computeTokens(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const m=Cw(this.apiClient,e);return u=Q("{model}:computeTokens",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=Aw(y),v=new Zx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=fN(this.apiClient,e);return m=Q("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const T=uN(v),S=new na;return Object.assign(S,T),S})}else{const g=cN(this.apiClient,e);return m=Q("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const T=aN(v),S=new na;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WR extends Jn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=zx(e);return m=Q("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const g=Bx(e);return m=Q("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const m=kx(e);return u=Q("{resourceName}:fetchPredictOperation",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZR(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function jR(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>aI(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function eI(n,e,o){const s={},l=c(e,["expireTime"]);o!==void 0&&l!=null&&f(o,["expireTime"],l);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&f(o,["newSessionExpireTime"],u);const d=c(e,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const m=c(e,["liveConnectConstraints"]);o!==void 0&&m!=null&&f(o,["bidiGenerateContentSetup"],lI(n,m));const y=c(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),s}function tI(n,e){const o={},s=c(e,["config"]);return s!=null&&f(o,["config"],eI(n,s,o)),o}function nI(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function iI(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oI(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function sI(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function rI(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const m=c(n,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const T=c(n,["speechConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","speechConfig"],qf(T));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const R=c(n,["systemInstruction"]);e!==void 0&&R!=null&&f(e,["setup","systemInstruction"],jR(_t(R)));const L=c(n,["tools"]);if(e!==void 0&&L!=null){let ne=os(L);Array.isArray(ne)&&(ne=ne.map(Y=>cI(is(Y)))),f(e,["setup","tools"],ne)}const U=c(n,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],uI(U));const B=c(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","inputAudioTranscription"],B);const K=c(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&f(e,["setup","outputAudioTranscription"],K);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const q=c(n,["contextWindowCompression"]);e!==void 0&&q!=null&&f(e,["setup","contextWindowCompression"],q);const oe=c(n,["proactivity"]);if(e!==void 0&&oe!=null&&f(e,["setup","proactivity"],oe),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function lI(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],Me(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],rI(l,o)),o}function aI(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],nI(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],iI(d));const m=c(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],ZR(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const T=c(n,["thoughtSignature"]);T!=null&&f(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function uI(n){const e={},o=c(n,["handle"]);if(o!=null&&f(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cI(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],oI(m));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],sI(y));const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fI(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(u=>`${o}.${u}`);e.push(...l)}else e.push(o)}return e.join(",")}function dI(n,e){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,o=u):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(o){const u=fI(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];l.length>0&&(m=l.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),m.length>0&&y.push(...m),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class hI extends Jn{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=tI(this.apiClient,e);u=Q("auth_tokens",m._url),d=m._query,delete m.config,delete m._url,delete m._query;const y=dI(m,e.config);return l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pI(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function mI(n){const e={},o=c(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&pI(s,e),e}function gI(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function yI(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function vI(n){const e={},o=c(n,["parent"]);o!=null&&f(e,["_url","parent"],o);const s=c(n,["config"]);return s!=null&&yI(s,e),e}function _I(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TI extends Jn{constructor(e){super(),this.apiClient=e,this.list=async o=>new eo(qn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=gI(e);return u=Q("{name}",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mI(e);l=Q("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=vI(e);return u=Q("{parent}/documents",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=_I(y),v=new jx;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SI extends Jn{constructor(e,o=new TI(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new eo(qn.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fR(e);return u=Q("fileSearchStores",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=pR(e);return u=Q("{name}",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=hR(e);l=Q("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=TR(e);return u=Q("fileSearchStores",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=SR(y),v=new e1;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ER(e);return u=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=CR(y),v=new t1;return Object.assign(v,g),v})}}async importFile(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=yR(e);return u=Q("{file_search_store_name}:importFile",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=gR(y),v=new Hf;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let w0=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return w0=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const EI=()=>w0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gf(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const yf=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jt extends Error{}class At extends jt{constructor(e,o,s,l){super(`${At.makeMessage(e,o,s)}`),this.status=e,this.headers=l,this.error=o}static makeMessage(e,o,s){const l=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,o,s,l){if(!e||!l)return new pa({message:s,cause:yf(o)});const u=o;return e===400?new R0(e,u,s,l):e===401?new I0(e,u,s,l):e===403?new M0(e,u,s,l):e===404?new D0(e,u,s,l):e===409?new U0(e,u,s,l):e===422?new k0(e,u,s,l):e===429?new L0(e,u,s,l):e>=500?new P0(e,u,s,l):new At(e,u,s,l)}}class vf extends At{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class pa extends At{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class N0 extends pa{constructor({message:e}={}){super({message:e??"Request timed out."})}}class R0 extends At{}class I0 extends At{}class M0 extends At{}class D0 extends At{}class U0 extends At{}class k0 extends At{}class L0 extends At{}class P0 extends At{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CI=/^[a-z][a-z0-9+.-]*:/i,AI=n=>CI.test(n);let _f=n=>(_f=Array.isArray,_f(n));const xI=_f;let bI=xI;const Qy=bI;function wI(n){if(!n)return!0;for(const e in n)return!1;return!0}function NI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const RI=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new jt(`${n} must be an integer`);if(e<0)throw new jt(`${n} must be a positive integer`);return e},II=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MI=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const UI=()=>{var n,e,o,s,l;const u=DI();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":Zy(Deno.build.os),"X-Stainless-Arch":Wy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":Zy((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Wy((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const d=kI();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function kI(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const s=o.exec(navigator.userAgent);if(s){const l=s[1]||0,u=s[2]||0,d=s[3]||0;return{browser:e,version:`${l}.${u}.${d}`}}}return null}const Wy=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Zy=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Ll;const LI=()=>Ll??(Ll=UI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function O0(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function OI(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return O0({start(){},async pull(o){const{done:s,value:l}=await e.next();s?o.close():o.enqueue(l)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function H0(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function HI(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const s=n.getReader(),l=s.cancel();s.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GI=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G0=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kc(n,e,o){return G0(),new File(n,e??"unknown_file",o)}function VI(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const BI=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V0=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",zI=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&V0(n),qI=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function FI(n,e,o){if(G0(),n=await n,zI(n))return n instanceof File?n:Kc([await n.arrayBuffer()],n.name);if(qI(n)){const l=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Kc(await Tf(l),e,o)}const s=await Tf(n);if(e||(e=VI(n)),!(o!=null&&o.type)){const l=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(o=Object.assign(Object.assign({},o),{type:l}))}return Kc(s,e,o)}async function Tf(n){var e,o,s,l,u;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(V0(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(BI(n))try{for(var m=!0,y=an(n),g;g=await y.next(),e=g.done,!e;m=!0){l=g.value,m=!1;const v=l;d.push(...await Tf(v))}}catch(v){o={error:v}}finally{try{!m&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${JI(n)}`)}return d}function JI(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B0{constructor(e){this._client=e}}B0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z0(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const jy=Object.freeze(Object.create(null)),YI=(n=z0)=>(function(o,...s){if(o.length===1)return o[0];let l=!1;const u=[],d=o.reduce((v,T,S)=>{var A,R,L;/[?#]/.test(T)&&(l=!0);const U=s[S];let B=(l?encodeURIComponent:n)(""+U);return S!==s.length&&(U==null||typeof U=="object"&&U.toString===((L=Object.getPrototypeOf((R=Object.getPrototypeOf((A=U.hasOwnProperty)!==null&&A!==void 0?A:jy))!==null&&R!==void 0?R:jy))===null||L===void 0?void 0:L.toString))&&(B=U+"",u.push({start:v.length+T.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+T+(S===s.length?"":B)},""),m=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(m))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((v,T)=>v.start-T.start),u.length>0){let v=0;const T=u.reduce((S,A)=>{const R=" ".repeat(A.start-v),L="^".repeat(A.length);return v=A.start+A.length,S+R+L},"");throw new jt(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${d}
${T}`)}return d}),Pl=YI(z0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q0 extends B0{create(e,o){var s;const{api_version:l=this._client.apiVersion}=e,u=oa(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new jt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new jt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Pl`/${l}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.delete(Pl`/${l}/interactions/${e}`,s)}cancel(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.post(Pl`/${l}/interactions/${e}/cancel`,s)}get(e,o={},s){var l;const u=o??{},{api_version:d=this._client.apiVersion}=u,m=oa(u,["api_version"]);return this._client.get(Pl`/${d}/interactions/${e}`,Object.assign(Object.assign({query:m},s),{stream:(l=o==null?void 0:o.stream)!==null&&l!==void 0?l:!1}))}}q0._key=Object.freeze(["interactions"]);class F0 extends q0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KI(n){let e=0;for(const l of n)e+=l.length;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.length;return o}let Ol;function Jf(n){let e;return(Ol??(e=new globalThis.TextEncoder,Ol=e.encode.bind(e)))(n)}let Hl;function ev(n){let e;return(Hl??(e=new globalThis.TextDecoder,Hl=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ma{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Jf(e):e;this.buffer=KI([this.buffer,o]);const s=[];let l;for(;(l=XI(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){s.push(ev(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,d=ev(this.buffer.subarray(0,u));s.push(d),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}ma.NEWLINE_CHARS=new Set([`
`,"\r"]);ma.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function XI(n,e){for(let l=e??0;l<n.length;l++){if(n[l]===10)return{preceding:l,index:l+1,carriage:!1};if(n[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function $I(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sa={off:0,error:200,warn:300,info:400,debug:500},tv=(n,e,o)=>{if(n){if(NI(sa,n))return n;Et(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(sa))}`)}};function rr(){}function Gl(n,e,o){return!e||sa[n]>sa[o]?rr:e[n].bind(e)}const QI={error:rr,warn:rr,info:rr,debug:rr};let nv=new WeakMap;function Et(n){var e;const o=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return QI;const l=nv.get(o);if(l&&l[0]===s)return l[1];const u={error:Gl("error",o,s),warn:Gl("warn",o,s),info:Gl("info",o,s),debug:Gl("debug",o,s)};return nv.set(o,[s,u]),u}const $i=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jo{constructor(e,o,s){this.iterator=e,this.controller=o,this.client=s}static fromSSEResponse(e,o,s){let l=!1;const u=s?Et(s):console;function d(){return ln(this,arguments,function*(){var y,g,v,T;if(l)throw new jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var A=!0,R=an(WI(e,o)),L;L=yield fe(R.next()),y=L.done,!y;A=!0){T=L.value,A=!1;const U=T;if(!S)if(U.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield fe(JSON.parse(U.data))}catch(B){throw u.error("Could not parse message into JSON:",U.data),u.error("From chunk:",U.raw),B}}}catch(U){g={error:U}}finally{try{!A&&!y&&(v=R.return)&&(yield fe(v.call(R)))}finally{if(g)throw g.error}}S=!0}catch(U){if(gf(U))return yield fe(void 0);throw U}finally{S||o.abort()}})}return new Jo(d,o,s)}static fromReadableStream(e,o,s){let l=!1;function u(){return ln(this,arguments,function*(){var y,g,v,T;const S=new ma,A=H0(e);try{for(var R=!0,L=an(A),U;U=yield fe(L.next()),y=U.done,!y;R=!0){T=U.value,R=!1;const B=T;for(const K of S.decode(B))yield yield fe(K)}}catch(B){g={error:B}}finally{try{!R&&!y&&(v=L.return)&&(yield fe(v.call(L)))}finally{if(g)throw g.error}}for(const B of S.flush())yield yield fe(B)})}function d(){return ln(this,arguments,function*(){var y,g,v,T;if(l)throw new jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var A=!0,R=an(u()),L;L=yield fe(R.next()),y=L.done,!y;A=!0){T=L.value,A=!1;const U=T;S||U&&(yield yield fe(JSON.parse(U)))}}catch(U){g={error:U}}finally{try{!A&&!y&&(v=R.return)&&(yield fe(v.call(R)))}finally{if(g)throw g.error}}S=!0}catch(U){if(gf(U))return yield fe(void 0);throw U}finally{S||o.abort()}})}return new Jo(d,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],s=this.iterator(),l=u=>({next:()=>{if(u.length===0){const d=s.next();e.push(d),o.push(d)}return u.shift()}});return[new Jo(()=>l(e),this.controller,this.client),new Jo(()=>l(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return O0({async start(){o=e[Symbol.asyncIterator]()},async pull(s){try{const{value:l,done:u}=await o.next();if(u)return s.close();const d=Jf(JSON.stringify(l)+`
`);s.enqueue(d)}catch(l){s.error(l)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function WI(n,e){return ln(this,arguments,function*(){var s,l,u,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new jt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new jt("Attempted to iterate over a response with no body");const m=new jI,y=new ma,g=H0(n.body);try{for(var v=!0,T=an(ZI(g)),S;S=yield fe(T.next()),s=S.done,!s;v=!0){d=S.value,v=!1;const A=d;for(const R of y.decode(A)){const L=m.decode(R);L&&(yield yield fe(L))}}}catch(A){l={error:A}}finally{try{!v&&!s&&(u=T.return)&&(yield fe(u.call(T)))}finally{if(l)throw l.error}}for(const A of y.flush()){const R=m.decode(A);R&&(yield yield fe(R))}})}function ZI(n){return ln(this,arguments,function*(){var o,s,l,u;let d=new Uint8Array;try{for(var m=!0,y=an(n),g;g=yield fe(y.next()),o=g.done,!o;m=!0){u=g.value,m=!1;const v=u;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Jf(v):v;let S=new Uint8Array(d.length+T.length);S.set(d),S.set(T,d.length),d=S;let A;for(;(A=$I(d))!==-1;)yield yield fe(d.slice(0,A)),d=d.slice(A)}}catch(v){s={error:v}}finally{try{!m&&!o&&(l=y.return)&&(yield fe(l.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield fe(d))})}class jI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,s,l]=eM(e,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}function eM(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tM(n,e){const{response:o,requestLogID:s,retryOfRequestLogID:l,startTime:u}=e,d=await(async()=>{var m;if(e.options.stream)return Et(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):Jo.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),g=(m=y==null?void 0:y.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await o.json():await o.text()})();return Et(n).debug(`[${s}] response parsed`,$i({retryOfRequestLogID:l,url:o.url,status:o.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yf extends Promise{constructor(e,o,s=tM){super(l=>{l(null)}),this.responsePromise=o,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Yf(this.client,this.responsePromise,async(o,s)=>e(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J0=Symbol("brand.privateNullableHeaders");function*nM(n){if(!n)return;if(J0 in n){const{values:s,nulls:l}=n;yield*s.entries();for(const u of l)yield[u,null];return}let e=!1,o;n instanceof Headers?o=n.entries():Qy(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let s of o){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=Qy(s[1])?s[1]:[s[1]];let d=!1;for(const m of u)m!==void 0&&(e&&!d&&(d=!0,yield[l,null]),yield[l,m])}}const sr=n=>{const e=new Headers,o=new Set;for(const s of n){const l=new Set;for(const[u,d]of nM(s)){const m=u.toLowerCase();l.has(m)||(e.delete(u),l.add(m)),d===null?(e.delete(u),o.add(m)):(e.append(u,d),o.delete(m))}}return{[J0]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xc=n=>{var e,o,s,l,u,d;if(typeof globalThis.process<"u")return(s=(o=(e=Nx)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||u===void 0?void 0:u.call(l,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Y0;class ga{constructor(e){var o,s,l,u,d,m,y,{baseURL:g=Xc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Xc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=e,S=oa(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:T},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(s=A.timeout)!==null&&s!==void 0?s:ga.DEFAULT_TIMEOUT,this.logger=(l=A.logger)!==null&&l!==void 0?l:console;const R="warn";this.logLevel=R,this.logLevel=(d=(u=tv(A.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:tv(Xc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:R,this.fetchOptions=A.fetchOptions,this.maxRetries=(m=A.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:PI(),this.encoder=GI,this._options=A,this.apiKey=v,this.apiVersion=T,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=sr([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return sr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return sr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new jt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${qo}`}defaultIdempotencyKey(){return`stainless-node-retry-${EI()}`}makeStatusError(e,o,s,l){return At.generate(e,o,s,l)}buildURL(e,o,s){const l=!this.baseURLOverridden()&&s||this.baseURL,u=AI(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return wI(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:s}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,s){return this.request(Promise.resolve(s).then(l=>Object.assign({method:e,path:o},l)))}request(e,o=null){return new Yf(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,s){var l,u,d;const m=await e,y=(l=m.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o==null&&(o=y),await this.prepareOptions(m);const{req:g,url:v,timeout:T}=await this.buildRequest(m,{retryCount:y-o});await this.prepareRequest(g,{url:v,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=s===void 0?"":`, retryOf: ${s}`,R=Date.now();if(Et(this).debug(`[${S}] sending request`,$i({retryOfRequestLogID:s,method:m.method,url:v,options:m,headers:g.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new vf;const L=new AbortController,U=await this.fetchWithTimeout(v,g,T,L).catch(yf),B=Date.now();if(U instanceof globalThis.Error){const z=`retrying, ${o} attempts remaining`;if(!((d=m.signal)===null||d===void 0)&&d.aborted)throw new vf;const q=gf(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(o)return Et(this).info(`[${S}] connection ${q?"timed out":"failed"} - ${z}`),Et(this).debug(`[${S}] connection ${q?"timed out":"failed"} (${z})`,$i({retryOfRequestLogID:s,url:v,durationMs:B-R,message:U.message})),this.retryRequest(m,o,s??S);throw Et(this).info(`[${S}] connection ${q?"timed out":"failed"} - error; no more retries left`),Et(this).debug(`[${S}] connection ${q?"timed out":"failed"} (error; no more retries left)`,$i({retryOfRequestLogID:s,url:v,durationMs:B-R,message:U.message})),q?new N0:new pa({cause:U})}const K=`[${S}${A}] ${g.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${B-R}ms`;if(!U.ok){const z=await this.shouldRetry(U);if(o&&z){const j=`retrying, ${o} attempts remaining`;return await HI(U.body),Et(this).info(`${K} - ${j}`),Et(this).debug(`[${S}] response error (${j})`,$i({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:B-R})),this.retryRequest(m,o,s??S,U.headers)}const q=z?"error; no more retries left":"error; not retryable";Et(this).info(`${K} - ${q}`);const oe=await U.text().catch(j=>yf(j).message),ne=II(oe),Y=ne?void 0:oe;throw Et(this).debug(`[${S}] response error (${q})`,$i({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,message:Y,durationMs:Date.now()-R})),this.makeStatusError(U.status,ne,Y,U.headers)}return Et(this).info(K),Et(this).debug(`[${S}] response start`,$i({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:B-R})),{response:U,options:m,controller:L,requestLogID:S,retryOfRequestLogID:s,startTime:R}}async fetchWithTimeout(e,o,s,l){const u=o||{},{signal:d,method:m}=u,y=oa(u,["signal","method"]);d&&d.addEventListener("abort",()=>l.abort());const g=setTimeout(()=>l.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:l.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);m&&(T.method=m.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(g)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,s,l){var u;let d;const m=l==null?void 0:l.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(d=g)}const y=l==null?void 0:l.get("retry-after");if(y&&!d){const g=parseFloat(y);Number.isNaN(g)?d=Date.parse(y)-Date.now():d=g*1e3}if(!(d&&0<=d&&d<60*1e3)){const g=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,g)}return await MI(d),this.makeRequest(e,o-1,s)}calculateDefaultRetryTimeoutMillis(e,o){const u=o-e,d=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return d*m*1e3}async buildRequest(e,{retryCount:o=0}={}){var s,l,u;const d=Object.assign({},e),{method:m,path:y,query:g,defaultBaseURL:v}=d,T=this.buildURL(y,g,v);"timeout"in d&&RI("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:A}=this.buildBody({options:d}),R=await this.buildHeaders({options:e,method:m,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:R},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:d.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:s,retryCount:l}){let u={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let m=sr([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),LI()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(m),m.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=sr([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:OI(e)}:this.encoder({body:e,headers:s})}}ga.DEFAULT_TIMEOUT=6e4;class at extends ga{constructor(){super(...arguments),this.interactions=new F0(this)}}Y0=at;at.GeminiNextGenAPIClient=Y0;at.GeminiNextGenAPIClientError=jt;at.APIError=At;at.APIConnectionError=pa;at.APIConnectionTimeoutError=N0;at.APIUserAbortError=vf;at.NotFoundError=D0;at.ConflictError=U0;at.RateLimitError=L0;at.BadRequestError=R0;at.AuthenticationError=I0;at.InternalServerError=P0;at.PermissionDeniedError=M0;at.UnprocessableEntityError=k0;at.toFile=FI;at.Interactions=F0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iM(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function oM(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function sM(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function rM(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function lM(n,e,o){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&f(e,["displayName"],l),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=c(n,["batchSize"]);e!==void 0&&m!=null&&f(e,["tuningTask","hyperparameters","batchSize"],m);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function aM(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const A=c(n,["validationDataset"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec"],iv(A))}else if(l==="PREFERENCE_TUNING"){const A=c(n,["validationDataset"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec"],iv(A))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const A=c(n,["epochCount"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(m==="PREFERENCE_TUNING"){const A=c(n,["epochCount"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=c(n,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=c(n,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=c(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=c(n,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=c(n,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=c(n,["adapterSize"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=c(n,["adapterSize"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=c(n,["labels"]);e!==void 0&&T!=null&&f(e,["labels"],T);const S=c(n,["beta"]);return e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),s}function uM(n,e){const o={},s=c(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&TM(u);const d=c(n,["config"]);return d!=null&&lM(d,o),o}function cM(n,e){const o={},s=c(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&SM(u,o,e);const d=c(n,["config"]);return d!=null&&aM(d,o,e),o}function fM(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function dM(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function hM(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function pM(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function mM(n,e){const o={},s=c(n,["config"]);return s!=null&&hM(s,o),o}function gM(n,e){const o={},s=c(n,["config"]);return s!=null&&pM(s,o),o}function yM(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const u=c(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>K0(m))),f(o,["tuningJobs"],d)}return o}function vM(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const u=c(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Sf(m))),f(o,["tuningJobs"],d)}return o}function _M(n,e){const o={},s=c(n,["name"]);s!=null&&f(o,["model"],s);const l=c(n,["name"]);return l!=null&&f(o,["endpoint"],l),o}function TM(n,e){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(o,["examples","examples"],l)}return o}function SM(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(l==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function K0(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["state"]);u!=null&&f(o,["state"],u0(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const m=c(n,["tuningTask","startTime"]);m!=null&&f(o,["startTime"],m);const y=c(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=c(n,["description"]);v!=null&&f(o,["description"],v);const T=c(n,["baseModel"]);T!=null&&f(o,["baseModel"],T);const S=c(n,["_self"]);return S!=null&&f(o,["tunedModel"],_M(S)),o}function Sf(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["state"]);u!=null&&f(o,["state"],u0(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const m=c(n,["startTime"]);m!=null&&f(o,["startTime"],m);const y=c(n,["endTime"]);y!=null&&f(o,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=c(n,["error"]);v!=null&&f(o,["error"],v);const T=c(n,["description"]);T!=null&&f(o,["description"],T);const S=c(n,["baseModel"]);S!=null&&f(o,["baseModel"],S);const A=c(n,["tunedModel"]);A!=null&&f(o,["tunedModel"],A);const R=c(n,["preTunedModel"]);R!=null&&f(o,["preTunedModel"],R);const L=c(n,["supervisedTuningSpec"]);L!=null&&f(o,["supervisedTuningSpec"],L);const U=c(n,["preferenceOptimizationSpec"]);U!=null&&f(o,["preferenceOptimizationSpec"],U);const B=c(n,["tuningDataStats"]);B!=null&&f(o,["tuningDataStats"],B);const K=c(n,["encryptionSpec"]);K!=null&&f(o,["encryptionSpec"],K);const z=c(n,["partnerModelTuningSpec"]);z!=null&&f(o,["partnerModelTuningSpec"],z);const q=c(n,["customBaseModel"]);q!=null&&f(o,["customBaseModel"],q);const oe=c(n,["experiment"]);oe!=null&&f(o,["experiment"],oe);const ne=c(n,["labels"]);ne!=null&&f(o,["labels"],ne);const Y=c(n,["outputUri"]);Y!=null&&f(o,["outputUri"],Y);const ue=c(n,["pipelineJob"]);ue!=null&&f(o,["pipelineJob"],ue);const j=c(n,["serviceAccount"]);j!=null&&f(o,["serviceAccount"],j);const de=c(n,["tunedModelDisplayName"]);de!=null&&f(o,["tunedModelDisplayName"],de);const be=c(n,["veoTuningSpec"]);return be!=null&&f(o,["veoTuningSpec"],be),o}function EM(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(n,["done"]);d!=null&&f(o,["done"],d);const m=c(n,["error"]);return m!=null&&f(o,["error"],m),o}function iv(n,e){const o={},s=c(n,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const l=c(n,["vertexDatasetResource"]);return l!=null&&f(o,["validationDatasetUri"],l),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CM extends Jn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new eo(qn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),u=await this.tuneMldevInternal(l);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:uf.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=dM(e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Sf(v))}else{const g=fM(e);return m=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>K0(v))}}async listInternal(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=gM(e);return m=Q("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=vM(v),S=new Ry;return Object.assign(S,T),S})}else{const g=mM(e);return m=Q("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=yM(v),S=new Ry;return Object.assign(S,T),S})}}async cancel(e){var o,s,l,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=oM(e);return m=Q("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=rM(v),S=new Iy;return Object.assign(S,T),S})}else{const g=iM(e);return m=Q("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const T=sM(v),S=new Iy;return Object.assign(S,T),S})}}async tuneInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const m=cM(e,e);return u=Q("tuningJobs",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>Sf(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=uM(e);return u=Q("tunedModels",m._url),d=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>EM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AM{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xM=1024*1024*8,bM=3,wM=1e3,NM=2,ra="x-goog-upload-status";async function RM(n,e,o){var s;const l=await X0(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[ra])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function IM(n,e,o){var s;const l=await X0(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[ra])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=i0(u),m=new Gf;return Object.assign(m,d),m}async function X0(n,e,o){var s,l;let u=0,d=0,m=new cf(new Response),y="upload";for(u=n.size;d<u;){const g=Math.min(xM,u-d),v=n.slice(d,d+g);d+g>=u&&(y+=", finalize");let T=0,S=wM;for(;T<bM&&(m=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((s=m==null?void 0:m.headers)===null||s===void 0)&&s[ra]));)T++,await DM(S),S=S*NM;if(d+=g,((l=m==null?void 0:m.headers)===null||l===void 0?void 0:l[ra])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function MM(n){return{size:n.size,type:n.type}}function DM(n){return new Promise(e=>setTimeout(e,n))}class UM{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RM(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IM(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kM{create(e,o,s){return new LM(e,o,s)}}class LM{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ov="x-goog-api-key";class PM{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(ov)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ov,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OM="gl-node/";class HM{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new at({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=Dx(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new PM(this.apiKey);this.apiClient=new MR({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:OM+"web",uploader:new UM,downloader:new AM}),this.models=new QR(this.apiClient),this.live=new FR(this.apiClient,l,new kM),this.batches=new lb(this.apiClient),this.chats=new zb(this.models,this.apiClient),this.caches=new Gb(this.apiClient),this.files=new Zb(this.apiClient),this.operations=new WR(this.apiClient),this.authTokens=new hI(this.apiClient),this.tunings=new CM(this.apiClient),this.fileSearchStores=new SI(this.apiClient)}}const GM="AIzaSyDXig3KCpjmyz_4JMYLu5RkHteahFokU8w",$c=new HM({apiKey:GM}),sv={async getSuggestions(n,e){const o=Math.max(5,n.durationMinutes-10),s=`Context: ${n.durationMinutes} min free. Skills: ${JSON.stringify(e)}.
Task: Suggest 3 specific activities.
Guidelines:
- <30m: light tasks
- 3060m: practice
- >60m: deep study
- Match priorities
- Exactly one recommended:true
- Include youtubeSearchQuery around ${o}m
Output: JSON array.`;try{const l=await $c.models.generateContent({model:"gemini-3-flash-preview",contents:s,config:{temperature:.7,thinkingConfig:{thinkingBudget:0},responseMimeType:"application/json",responseSchema:{type:gt.ARRAY,items:{type:gt.OBJECT,properties:{title:{type:gt.STRING},description:{type:gt.STRING},duration:{type:gt.NUMBER},type:{type:gt.STRING},skill:{type:gt.STRING},recommended:{type:gt.BOOLEAN},youtubeSearchQuery:{type:gt.STRING}}}}}});return JSON.parse(l.text||"[]")}catch(l){return console.error("Failed to generate suggestions",l),[]}},async analyzeTimetableFile(n,e){const s=await $c.models.generateContent({model:"gemini-3-flash-preview",contents:[{inlineData:{data:n,mimeType:e}},{text:`Analyze timetable.
Extract busy/free slots (HH:mm).
Return JSON array.`}],config:{thinkingConfig:{thinkingBudget:0},responseMimeType:"application/json"}});return JSON.parse(s.text||"[]").map((u,d)=>({...u,id:`ai-${Date.now()}-${d}`}))},async chatAssistant(n,e,o=[]){return(await $c.chats.create({model:"gemini-3-flash-preview",history:o,config:{thinkingConfig:{thinkingBudget:0},systemInstruction:`You are SchedWise, a smart AI student planner. User profile: ${JSON.stringify(e)}`}}).sendMessage({message:n})).text||"I'm recalibrating. Try again."}},Qc={Academics:{"Medical Studies":["Biology","Human Physiology","Anatomy","Biochemistry","Microbiology","Biotechnology","Clinical Concepts","Medical Aptitude"],"Engineering & Technology":["Engineering Mathematics","Engineering Physics","Programming Fundamentals","Data Structures & Algorithms","Web Development","Database Management Systems","Operating Systems","Computer Networks"],"High School Studies":["Mathematics","Physics","Chemistry","Biology","Accountancy","Business Studies","Economics","English"],"Commerce & Management":["Accountancy","Economics","Business Studies","Financial Management","Marketing Fundamentals","Human Resource Management","Entrepreneurship","Business Analytics"],"Arts & Humanities":["History","Geography","Political Science","Sociology","Psychology","Philosophy","English Literature","Creative Writing"],"Exams & Career Prep":["NEET Preparation","JEE Preparation","GATE Preparation","CAT Preparation","UPSC Basics","GRE / GMAT","Coding Interviews","Placement Aptitude"]},Sports:{"Fitness & Conditioning":["Strength Training","Yoga","Endurance","Mobility"],"Team Sports":["Basketball","Football","Volleyball","Cricket"],"Individual Sports":["Tennis","Badminton","Swimming","Athletics"],"Sports Intelligence":["Game Strategy","Video Analysis","Sports Psychology","Tactical Theory"]},Music:{Instruments:["Piano","Guitar","Violin","Drums"],"Music Theory":["Composition","Notation","Ear Training","Harmony"],"Performance & Production":["Vocals","DAW Production","Sound Design","Mixing"]},Personal:{"Mental & Emotional":["Meditation","Journaling","Therapy Concepts","Stress Mgmt"],Communication:["Public Speaking","Debate","Technical Writing","Negotiation"],"Productivity & Life":["Time Management","Financial Literacy","Cooking","Organization"],"Career & Professional":["Resume Building","Networking","Interview Prep","Soft Skills"]}},VM=()=>{const[n,e]=ge.useState(null),[o,s]=ge.useState(!0),[l,u]=ge.useState("splash"),[d,m]=ge.useState({name:"Scholar",selectedCategories:[],skills:[],isCompletedOnboarding:!1}),[y,g]=ge.useState({}),[v,T]=ge.useState([]),[S,A]=ge.useState([]),[R,L]=ge.useState(null),[U,B]=ge.useState([]),[K,z]=ge.useState(!1),[q,oe]=ge.useState(null),[ne,Y]=ge.useState(null),[ue,j]=ge.useState(0),[de,be]=ge.useState(!1),[Ce,xe]=ge.useState(null),[Fe,st]=ge.useState([]),[P,J]=ge.useState(!1),[ie,Ne]=ge.useState([]),[we,w]=ge.useState(!1),[G,$]=ge.useState(""),[W,ce]=ge.useState(!1),[ye,ve]=ge.useState(""),[ut,Be]=ge.useState(!1),[wi,Ni]=ge.useState(!1),[to,rs]=ge.useState(""),cn=ge.useRef(null),no=ge.useRef(null);ge.useEffect(()=>{const X=localStorage.getItem("lumina_planner_data");if(X){const ee=JSON.parse(X);m(ee.profile),T(ee.schedule||[]),A(ee.freeSlots||[]),Ne(ee.completedSessions||[]),ee.activeTask&&(oe(ee.activeTask),Y(ee.activeSessionId),j(ee.timer||0),be(ee.isPaused||!1)),ee.activeYoutubeSession&&xe(ee.activeYoutubeSession),n&&ee.profile.isCompletedOnboarding&&u("home")}},[]),ge.useEffect(()=>{const X=BC(lf,ee=>{e(ee),s(!1),u(ee?d.isCompletedOnboarding?"home":"onboarding-l1":"splash")});return()=>X()},[]);const Ut=X=>{const le={...{profile:d,schedule:v,freeSlots:S,completedSessions:ie,activeTask:q,activeSessionId:ne,timer:ue,isPaused:de,activeYoutubeSession:Ce},...X};localStorage.setItem("lumina_planner_data",JSON.stringify(le))},fn=ge.useMemo(()=>{if(ie.length===0)return{totalFocusTime:"0h 0m",streak:0,score:0,mvpSkill:"No data yet",totalMinutes:0,skillMinutes:{}};const X=ie.reduce((Ye,kt)=>Ye+kt.duration,0),ee=Math.floor(X/60),le=X%60,Je={},ct={};ie.forEach(Ye=>{const kt=new Date(Ye.timestamp).toDateString();Je[kt]=(Je[kt]||0)+Ye.duration,ct[Ye.skillName]=(ct[Ye.skillName]||0)+Ye.duration});let yt=0;const F=new Date;for((Je[F.toDateString()]||0)<1&&F.setDate(F.getDate()-1);(Je[F.toDateString()]||0)>=1;)yt++,F.setDate(F.getDate()-1);const Ue=Date.now()-10080*60*1e3,Qe=ie.filter(Ye=>Ye.timestamp>=Ue),We={};Qe.forEach(Ye=>{We[Ye.skillName]=(We[Ye.skillName]||0)+Ye.duration});let Ri="No data yet",Xn=0;Object.entries(We).forEach(([Ye,kt])=>{kt>Xn&&(Xn=kt,Ri=Ye)});const Ea=Date.now()-336*60*60*1e3,_r=new Set(ie.filter(Ye=>Ye.timestamp>=Ea).map(Ye=>new Date(Ye.timestamp).toDateString())).size,ds=ie.reduce((Ye,kt)=>Ye+kt.duration,0)/ie.length,Ii=_r/14*40,Ca=Math.min(ds,60)/60*30,Tr=Math.min(X/60,100)/100*30,Sr=Math.round(Ii+Ca+Tr);return{totalFocusTime:`${ee}h ${le}m`,streak:yt,score:Sr,mvpSkill:Ri,totalMinutes:X,skillMinutes:ct}},[ie]),Kn=ge.useMemo(()=>{const ee={};return d.skills.forEach(le=>{const Je=fn.skillMinutes[le.name]||0;ee[le.name]=Math.min(Math.round(Je/300*100),100)}),ee},[d.skills,fn.skillMinutes]),ls=async X=>{z(!0),B([]);try{const ee=await sv.getSuggestions(X,d.skills);B(ee)}catch(ee){console.error("Suggestions fetch error",ee)}finally{z(!1)}},as=()=>{!q||!ne||Ne(X=>{const ee=X.findIndex(Je=>Je.id===ne);let le;return ee===-1?le=[...X,{id:ne,skillName:q.skill,duration:1,timestamp:Date.now(),type:"focus"}]:le=X.map((Je,ct)=>ct===ee?{...Je,duration:Je.duration+1}:Je),Ut({completedSessions:le,timer:Math.max(0,ue-1)}),le})};ge.useEffect(()=>{let X;return q&&ue>0&&!de&&(X=setInterval(()=>{j(ee=>ee>0?(as(),ee-1):0)},6e4)),()=>clearInterval(X)},[q,de,ne,ue>0]),ge.useEffect(()=>{(q||Ce)&&Ut({timer:ue,isPaused:de,activeTask:q,activeSessionId:ne,activeYoutubeSession:Ce})},[ue,de,q,ne,Ce]),ge.useEffect(()=>{l==="chat"&&cn.current&&cn.current.scrollIntoView({behavior:"smooth"})},[Fe,l]),ge.useEffect(()=>{$("")},[l]);const us=async()=>{await lf.signOut(),localStorage.clear(),e(null),u("splash")},ya=()=>{localStorage.clear(),window.location.reload()},va=async X=>{if(!X.trim())return;const ee={id:Date.now().toString(),role:"user",text:X,timestamp:Date.now()};st(le=>[...le,ee]),J(!0);try{const le=[...Fe.map(yt=>({role:yt.role,parts:[{text:yt.text}]})),{role:"user",parts:[{text:X}]}],Je=await sv.chatAssistant(X,d,le),ct={id:(Date.now()+1).toString(),role:"model",text:Je,timestamp:Date.now()};st(yt=>[...yt,ct])}catch(le){console.error("Chat error:",le),st(Je=>[...Je,{id:(Date.now()+1).toString(),role:"model",text:"My neural link is currently unstable. Please try again in a moment.",timestamp:Date.now()}])}finally{J(!1)}},Tt=X=>{const ee=`session-${Date.now()}`;oe(X),Y(ee),j(X.duration),be(!1),Ut({activeTask:X,activeSessionId:ee,timer:X.duration,isPaused:!1}),u("focus")},_a=X=>{const ee=encodeURIComponent(X.youtubeSearchQuery||X.title);window.open(`https://www.youtube.com/results?search_query=${ee}`,"_blank");const le={startTime:Date.now(),skill:X.skill,title:X.title};xe(le),Ut({activeYoutubeSession:le}),u("home")},cs=()=>{if(!Ce)return;const X=Math.max(1,Math.round((Date.now()-Ce.startTime)/6e4)),ee={id:`yt-${Date.now()}`,skillName:Ce.skill,duration:X,timestamp:Date.now(),type:"youtube"},le=[...ie,ee];Ne(le),Ut({completedSessions:le,activeYoutubeSession:null}),xe(null)},fs=X=>{u("home"),oe(null),Y(null),j(0),B([]),Ut({activeTask:null,activeSessionId:null,timer:0})},io=(X,ee,le)=>{const Je=d.skills.some(F=>F.name===X);let ct;Je?ct=d.skills.filter(F=>F.name!==X):ct=[...d.skills,{name:X,category:le,subCategory:ee,priority:"Medium"}];const yt={...d,skills:ct};m(yt),Ut({profile:yt})},Ta=async X=>{var Je;const ee=(Je=X.target.files)==null?void 0:Je[0];if(!ee)return;if(ee.type!=="application/pdf"){alert("Please upload a PDF file.");return}ce(!0),ve("Reading your timetable...");const le=new FileReader;le.onload=async ct=>{var F,Ue;const yt=((F=ct.target)==null?void 0:F.result).split(",")[1];try{ve("Neural engine decoding schedule...");const We=await Cx(xx,"parseTimetable")({pdfBase64:yt});if(!We.data.schedule.length){ve("No timetable detected. Please add manually."),Be(!0);return}T(We.data.schedule),A(We.data.freeSlots),Ut({schedule:We.data.schedule,freeSlots:We.data.freeSlots}),(Ue=We.data.warnings)!=null&&Ue.length&&console.warn("Timetable warnings:",We.data.warnings),ve(`Extracted ${We.data.schedule.length} classes  ${We.data.freeSlots.length} free slots`),Be(!0),setTimeout(()=>ve(""),5e3),setTimeout(()=>ve(""),5e3)}catch(Qe){console.error(Qe),ve("Tricky timetable detected. Try manual input.")}finally{ce(!1)}},le.readAsDataURL(ee)},yr=()=>{u("slot-review")},vr=X=>E.jsxs("div",{className:"relative group max-w-xl",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:E.jsx("svg",{className:"h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),E.jsx("input",{type:"text",placeholder:X,value:G,onChange:ee=>$(ee.target.value),className:"block w-full pl-11 pr-12 py-4 glass border border-border/50 rounded-2xl text-white placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary/50 transition-all text-sm"}),G&&E.jsx("button",{onClick:()=>$(""),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-muted-foreground hover:text-white",children:E.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),Sa=()=>{if(o)return E.jsx("div",{className:"flex items-center justify-center h-full",children:E.jsx("div",{className:"text-white font-black text-xl animate-pulse",children:"Initializing Secure Session..."})});switch(l){case"splash":return E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-8 max-w-2xl mx-auto",children:[E.jsx("div",{className:"w-24 h-24 bg-primary rounded-[2rem] flex items-center justify-center shadow-2xl animate-float",children:E.jsx("svg",{className:"w-12 h-12 text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h1",{className:"text-6xl font-black text-white tracking-tight",children:"SchedWise"}),E.jsx("p",{className:"text-3xl font-bold text-primary italic leading-tight",children:"We dont ask you to find time  we unlock it for you."}),E.jsx("p",{className:"text-xl text-muted-foreground",children:"AI-powered student planner"})]}),E.jsx("button",{onClick:()=>u("auth"),className:"px-12 py-5 bg-primary text-black font-black text-xl rounded-2xl shadow-lg shadow-primary/20 hover:scale-105 active:scale-95 transition-all",children:"Get Started"})]});case"auth":return E.jsxs("div",{className:"max-w-md mx-auto flex flex-col justify-center h-full space-y-10",children:[E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h2",{className:"text-4xl font-black text-white",children:"Unlock Your Day"}),E.jsx("p",{className:"text-muted-foreground",children:"Log in to sync your neural schedule."})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("button",{onClick:async()=>{try{await wx()}catch(F){console.error("Google login failed",F),alert("Google sign-in failed")}},className:"w-full py-4 bg-white text-black font-black rounded-2xl flex items-center justify-center gap-3 hover:bg-gray-100 transition-colors shadow-xl",children:[E.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),E.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-border"})}),E.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:E.jsx("span",{className:"bg-background px-4 text-muted-foreground",children:"Or"})})]}),E.jsx("input",{type:"email",placeholder:"Student Email",className:"w-full bg-card border border-border p-4 rounded-xl text-white focus:ring-2 focus:ring-primary outline-none"}),E.jsx("input",{type:"password",placeholder:"Password",className:"w-full bg-card border border-border p-4 rounded-xl text-white focus:ring-2 focus:ring-primary outline-none"}),E.jsx("button",{diabled:!0,className:"w-full py-4 bg-primary text-black font-black rounded-2xl shadow-lg shadow-primary/20 hover:brightness-110 active:scale-[0.99] transition-all",children:"Email login coming soon"})]}),E.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Your academic data is encrypted and private. "})]});case"onboarding-l1":return E.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h2",{className:"text-5xl font-black text-white",children:"What's the vibe?"}),E.jsx("p",{className:"text-xl text-muted-foreground",children:"Pick a main focus area to start exploring."})]}),E.jsx("div",{className:"grid grid-cols-2 gap-6",children:Object.keys(Qc).map(F=>E.jsxs("button",{onClick:()=>{g({category:F}),u("onboarding-l2")},className:"group glass p-8 rounded-[2.5rem] border-2 border-border hover:border-primary transition-all text-left space-y-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-2xl bg-muted group-hover:bg-primary transition-colors flex items-center justify-center",children:E.jsx("svg",{className:"w-6 h-6 text-white group-hover:text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),E.jsx("span",{className:"block text-2xl font-black text-white group-hover:text-primary",children:F})]},F))}),d.skills.length>0&&E.jsxs("button",{onClick:()=>u("schedule-input"),className:"w-full py-5 bg-white text-black font-black rounded-2xl",children:["Continue with ",d.skills.length," skills"]})]});case"onboarding-l2":const X=y.category;return X?E.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[E.jsxs("button",{onClick:()=>u("onboarding-l1"),className:"text-primary font-bold flex items-center gap-2 hover:underline",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})," Back to Categories"]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h2",{className:"text-4xl font-black text-white",children:X}),E.jsx("p",{className:"text-xl text-muted-foreground",children:"Choose a sub-category to refine your goals."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(Qc[X]).map(F=>E.jsxs("button",{onClick:()=>{g({...y,subCategory:F}),u("onboarding-l3")},className:"p-6 bg-card border border-border rounded-3xl text-left hover:border-primary transition-all flex items-center justify-between group",children:[E.jsx("span",{className:"text-lg font-bold text-white group-hover:text-primary",children:F}),E.jsx("svg",{className:"w-5 h-5 text-muted-foreground group-hover:text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]},F))})]}):null;case"onboarding-l3":const{category:ee,subCategory:le}=y;if(!ee||!le)return null;const ct=Qc[ee][le].filter(F=>F.toLowerCase().includes(G.toLowerCase()));return E.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 pb-32",children:[E.jsxs("button",{onClick:()=>u("onboarding-l2"),className:"text-primary font-bold flex items-center gap-2 hover:underline",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})," Back to ",ee]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h2",{className:"text-4xl font-black text-white",children:le}),E.jsx("p",{className:"text-xl text-muted-foreground",children:"Select your skills and set their priority."})]}),vr("Find specific skills..."),E.jsx("div",{className:"space-y-4",children:ct.map(F=>{const Ue=d.skills.some(Qe=>Qe.name===F);return E.jsx("div",{className:`glass p-6 rounded-3xl flex items-center justify-between transition-all ${Ue?"border-primary bg-primary/5":"border-border"}`,children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>io(F,le,ee),className:`w-8 h-8 rounded-xl flex items-center justify-center transition-all ${Ue?"bg-primary text-black":"bg-muted border border-border"}`,children:Ue&&E.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),E.jsx("span",{className:"text-lg font-bold text-white",children:F})]})},F)})}),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-8 glass-strong border-t border-border z-50",children:E.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[E.jsxs("p",{className:"text-white font-bold",children:[d.skills.length," Skills Selected"]}),E.jsx("button",{disabled:d.skills.length===0,onClick:()=>u("schedule-input"),className:"px-12 py-4 bg-primary text-black font-black rounded-2xl shadow-lg disabled:opacity-50",children:"Confirm Skills"})]})})]});case"schedule-input":return E.jsxs("div",{className:"max-w-3xl mx-auto space-y-12 pb-40",children:[E.jsxs("div",{className:"space-y-4 text-center",children:[E.jsx("h2",{className:"text-6xl font-black text-white tracking-tight",children:"Setup Your Timetable"}),E.jsx("p",{className:"text-xl text-muted-foreground italic",children:"Add your classes (Busy) and we'll unlock the gaps for focus."})]}),E.jsxs("div",{onClick:()=>{var F;return(F=no.current)==null?void 0:F.click()},className:`group glass border-4 border-dashed rounded-[3.5rem] p-12 flex flex-col items-center text-center space-y-6 cursor-pointer transition-all ${W?"border-accent bg-accent/5":"border-accent/40 hover:border-accent shadow-xl"}`,children:[E.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-accent/20 flex items-center justify-center text-accent shadow-2xl relative z-10",children:W?E.jsx("div",{className:"w-10 h-10 border-4 border-accent border-t-transparent rounded-full animate-spin"}):E.jsx("span",{className:"text-4xl",children:""})}),E.jsxs("div",{className:"relative z-10 space-y-2",children:[E.jsx("h3",{className:"text-3xl font-black text-white",children:"Magic Upload"}),E.jsx("p",{className:"text-base text-muted-foreground/80 font-medium italic",children:"We'll scan your PDF for busy slots automatically."})]}),E.jsx("input",{type:"file",ref:no,onChange:Ta,accept:".pdf",className:"hidden"}),E.jsx("button",{disabled:W,className:"px-10 py-4 bg-accent text-white font-black text-lg rounded-2xl shadow-lg shadow-accent/20 relative z-10 disabled:opacity-50",children:W?"Analyzing...":"Upload & Analyze"})]}),E.jsx("div",{className:"flex flex-col items-center space-y-8",children:ut?E.jsxs("div",{className:"w-full space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"flex items-center justify-between px-2",children:[E.jsx("h4",{className:"text-2xl font-black text-white",children:"Manual Timetable"}),E.jsx("button",{onClick:()=>T([]),className:"text-xs text-destructive font-black uppercase tracking-widest hover:underline px-4 py-2 rounded-xl bg-destructive/10",children:"Clear List"})]}),E.jsxs("div",{className:"space-y-4",children:[v.map(F=>E.jsxs("div",{className:"glass p-6 rounded-3xl flex flex-col md:flex-row gap-6 items-center border border-border/50 transition-all shadow-xl",children:[E.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-6 w-full",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-primary tracking-widest pl-1",children:"Start"}),E.jsx("input",{type:"time",value:F.from,onChange:Ue=>T(v.map(Qe=>Qe.id===F.id?{...Qe,from:Ue.target.value}:Qe)),className:"w-full bg-muted/50 p-4 rounded-2xl text-white outline-none font-bold"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-primary tracking-widest pl-1",children:"End"}),E.jsx("input",{type:"time",value:F.to,onChange:Ue=>T(v.map(Qe=>Qe.id===F.id?{...Qe,to:Ue.target.value}:Qe)),className:"w-full bg-muted/50 p-4 rounded-2xl text-white outline-none font-bold"})]})]}),E.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto pt-2 md:pt-0",children:[E.jsx("button",{onClick:()=>T(v.map(Ue=>Ue.id===F.id?{...Ue,status:Ue.status==="Busy"?"Free":"Busy"}:Ue)),className:`flex-1 md:w-28 py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all ${F.status==="Busy"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-primary/20 text-primary"}`,children:F.status}),E.jsx("button",{onClick:()=>T(v.filter(Ue=>Ue.id!==F.id)),className:"w-14 h-14 bg-destructive/10 text-destructive rounded-2xl flex items-center justify-center hover:bg-destructive hover:text-white transition-all",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},F.id)),E.jsxs("button",{onClick:()=>T([...v,{id:`manual-${Date.now()}`,from:"09:00",to:"10:00",status:"Busy"}]),className:"w-full py-8 border-2 border-dashed border-border rounded-3xl text-muted-foreground font-black hover:text-white transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})," Add Entry"]})]})]}):E.jsx("button",{onClick:()=>Be(!0),className:"px-10 py-4 glass border border-border rounded-2xl text-white font-black hover:bg-white/5 transition-all",children:"Manual Entry Mode"})}),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-8 glass-strong border-t border-border z-50",children:E.jsx("div",{className:"max-w-3xl mx-auto",children:E.jsx("button",{disabled:v.length===0||W,onClick:yr,className:"w-full py-6 bg-primary text-black font-black text-2xl rounded-2xl shadow-xl shadow-primary/20 transition-all disabled:opacity-50 active:scale-95",children:"Analyze & Reveal Potential"})})})]});case"slot-review":return E.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("h2",{className:"text-5xl font-black text-white tracking-tight leading-tight",children:"Timeline Unlocked."}),E.jsxs("p",{className:"text-xl text-muted-foreground font-medium",children:["We identified ",S.length," free periods for your growth profile."]})]}),E.jsx("div",{className:"space-y-6",children:S.map(F=>E.jsxs("div",{className:"glass p-8 rounded-[2.5rem] flex items-center justify-between border-l-8 border-primary shadow-xl animate-in fade-in slide-in-from-left-4",children:[E.jsxs("div",{children:[E.jsxs("p",{className:"text-3xl font-black text-white tabular-nums tracking-tighter",children:[F.from," - ",F.to]}),E.jsxs("p",{className:"text-primary font-black uppercase text-xs tracking-widest mt-1",children:[F.durationMinutes," Minutes Unlocked"]})]}),E.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:E.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]},F.id))}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-10",children:[E.jsx("button",{onClick:()=>u("schedule-input"),className:"flex-1 py-5 border-2 border-border text-white font-black rounded-2xl hover:bg-white/5 transition-all text-lg",children:"Adjust Timetable"}),E.jsx("button",{onClick:()=>{m({...d,isCompletedOnboarding:!0}),Ut({profile:{...d,isCompletedOnboarding:!0}}),u("home")},className:"flex-1 py-5 bg-primary text-black font-black text-xl rounded-2xl shadow-lg hover:scale-105 transition-all",children:"Confirm & Finalize"})]})]});case"home":const yt=v.filter(F=>F.status.toLowerCase().includes(G.toLowerCase()));return E.jsxs("div",{className:"space-y-12",children:[E.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:E.jsxs("div",{className:"space-y-4 w-full",children:[E.jsx("p",{className:"text-xs font-black uppercase text-primary tracking-widest",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),E.jsx("h2",{className:"text-5xl font-black text-white",children:"What can you do right now?"}),vr("Search schedule, skills, or status...")]})}),q&&E.jsxs("div",{className:"glass-strong p-8 rounded-[3rem] border-2 border-primary bg-primary/5 flex flex-col md:flex-row items-center justify-between gap-6 shadow-2xl animate-float",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("div",{className:"w-16 h-16 rounded-[2rem] bg-primary flex items-center justify-center animate-pulse",children:E.jsx("svg",{className:"w-8 h-8 text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("h3",{className:"text-2xl font-black text-white",children:"Focus Session Active"}),E.jsxs("p",{className:"text-primary font-bold",children:[q.title,"  ",ue,"m remaining"]})]})]}),E.jsx("button",{onClick:()=>u("focus"),className:"px-10 py-4 bg-primary text-black font-black rounded-2xl shadow-xl hover:scale-105 transition-all",children:"Resume Session"})]}),Ce&&!q&&E.jsxs("div",{className:"glass-strong p-8 rounded-[3rem] border-2 border-accent bg-accent/5 flex flex-col md:flex-row items-center justify-between gap-6 shadow-2xl animate-float",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("div",{className:"w-16 h-16 rounded-[2rem] bg-accent flex items-center justify-center",children:E.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("h3",{className:"text-2xl font-black text-white",children:"YouTube Session Active"}),E.jsxs("p",{className:"text-accent font-bold",children:["Learning ",Ce.title]})]})]}),E.jsx("button",{onClick:cs,className:"px-10 py-4 bg-accent text-white font-black rounded-2xl shadow-xl hover:scale-105 transition-all",children:"Finish Learning"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h3",{className:"text-2xl font-black text-white",children:"Daily Timeline"}),E.jsx("button",{onClick:()=>u("schedule-input"),className:"text-xs font-black text-primary uppercase tracking-widest bg-primary/10 px-4 py-2 rounded-xl",children:"Edit Day"})]}),E.jsx("div",{className:"relative pl-8 space-y-12 border-l-2 border-border/30 py-4",children:yt.map(F=>E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute -left-[41px] w-5 h-5 rounded-full border-4 border-background ${F.status==="Free"?"bg-primary shadow-[0_0_10px_rgba(162,240,126,0.5)]":"bg-muted"}`}),E.jsxs("div",{className:`glass p-6 rounded-3xl flex items-center justify-between border transition-all ${F.status==="Free"?"border-primary/30 hover:border-primary cursor-pointer":"border-border/50 opacity-60"}`,onClick:()=>{if(F.status==="Free"&&!q&&!Ce){const Ue=S.find(Qe=>Qe.from===F.from)||null;Ue&&(L(Ue),B([]),z(!0),u("suggestions"),ls(Ue))}else q&&u("focus")},children:[E.jsxs("div",{children:[E.jsxs("p",{className:"text-sm font-bold text-muted-foreground uppercase",children:[F.from," - ",F.to]}),E.jsx("h4",{className:"text-2xl font-black text-white",children:F.status==="Free"?"Unlocked Slot":"Busy Block"})]}),F.status==="Free"&&E.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:E.jsx("svg",{className:"w-5 h-5 text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]},F.id))})]}),E.jsxs("div",{className:"space-y-8",children:[E.jsx("h3",{className:"text-2xl font-black text-white",children:"Focus Mastery"}),E.jsx("div",{className:"glass p-8 rounded-[2.5rem] space-y-10 shadow-2xl",children:d.skills.map(F=>E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-black text-white",children:F.name}),E.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded ${F.priority==="High"?"bg-red-500/20 text-red-400":"bg-primary/20 text-primary"}`,children:F.priority})]}),E.jsxs("span",{className:"text-xl font-black text-white",children:[Kn[F.name]||0,"%"]})]}),E.jsx("div",{className:"h-2 w-full bg-muted rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-primary",style:{width:`${Kn[F.name]||0}%`,transition:"width 1s cubic-bezier(0.4, 0, 0.2, 1)"}})})]},F.name))})]})]})]});case"suggestions":return K||U.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] space-y-8 animate-in fade-in duration-500",children:[E.jsxs("div",{className:"relative w-20 h-20",children:[E.jsx("div",{className:"absolute inset-0 border-4 border-primary/20 rounded-full"}),E.jsx("div",{className:"absolute inset-0 border-4 border-primary border-t-transparent rounded-full animate-spin"})]}),E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h2",{className:"text-3xl font-black text-white",children:"Finding the best use of your time..."}),E.jsx("p",{className:"text-muted-foreground italic text-lg",children:"SchedWise is analyzing your growth profile."})]})]}):E.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("button",{onClick:()=>{u("home"),B([])},className:"p-4 bg-muted rounded-2xl text-white",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),E.jsx("h2",{className:"text-5xl font-black text-white tracking-tight",children:"Suggestions"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map((F,Ue)=>E.jsxs("div",{className:`glass p-8 rounded-[2.5rem] flex flex-col justify-between border-2 transition-all hover:scale-[1.03] relative ${F.recommended?"border-primary":"border-border/50"}`,children:[F.recommended&&E.jsx("div",{className:"absolute top-0 right-8 -translate-y-1/2 bg-primary text-black font-black px-4 py-1 rounded-full text-[10px] uppercase tracking-widest shadow-lg shadow-primary/20",children:"Recommended"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("span",{className:"text-[10px] font-black text-primary uppercase tracking-widest",children:[F.skill,"  ",F.duration,"m"]}),E.jsx("h4",{className:"text-2xl font-black text-white",children:F.title}),E.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-3",children:F.description})]}),E.jsxs("div",{className:"mt-8 flex flex-col gap-3",children:[E.jsx("button",{onClick:()=>Tt(F),className:"w-full py-4 bg-primary text-black font-black rounded-2xl shadow-lg hover:brightness-110",children:"Start Session"}),E.jsxs("button",{onClick:()=>_a(F),className:"w-full py-4 bg-muted text-white font-bold rounded-2xl hover:bg-white/10 flex items-center justify-center gap-2",children:[E.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})}),"Watch on YouTube"]})]})]},Ue))})]});case"focus":return E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 items-center gap-16 h-full max-w-5xl mx-auto px-6 animate-in fade-in duration-700",children:[E.jsxs("div",{className:"space-y-10 text-center lg:text-left",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3",children:[E.jsx("span",{className:"px-4 py-1.5 bg-primary/10 text-primary border border-primary/20 rounded-full text-[10px] font-black uppercase tracking-[0.25em]",children:q==null?void 0:q.skill}),E.jsx("span",{className:"text-muted-foreground font-bold text-xs tracking-widest uppercase opacity-40",children:"Session Active"})]}),E.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white leading-tight max-w-xl",children:q==null?void 0:q.title})]}),E.jsx("div",{className:"max-w-md glass p-7 rounded-3xl border border-border/40 shadow-xl mx-auto lg:mx-0",children:E.jsx("p",{className:"text-base text-muted-foreground italic leading-relaxed font-medium",children:"Excellence is not an act, but a habit. You are becoming what you repeatedly do."})}),E.jsxs("div",{className:"flex flex-col gap-4 max-w-md mx-auto lg:mx-0",children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:()=>fs(),className:"flex-[2] py-5 bg-primary text-black font-black text-lg rounded-2xl shadow-xl shadow-primary/20 transition-all",children:"Complete Session"}),E.jsx("button",{onClick:()=>be(!de),className:"flex-1 py-5 glass text-white/70 font-bold text-base rounded-2xl border border-border/50 hover:bg-white/5 active:scale-[0.98] transition-all",children:de?"Resume":"Pause"})]}),E.jsx("button",{onClick:()=>fs(),className:"text-muted-foreground/40 text-[9px] font-black uppercase tracking-[0.5em] hover:text-red-500 transition-colors pt-4",children:"Abandon Flow"})]})]}),E.jsx("div",{className:"flex justify-center lg:justify-end",children:E.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[E.jsxs("svg",{className:"absolute inset-0 w-full h-full transform -rotate-90",viewBox:"0 0 200 200",children:[E.jsx("circle",{cx:"100",cy:"100",r:"88",fill:"none",stroke:"currentColor",strokeWidth:"4",className:"text-muted/20"}),E.jsx("circle",{cx:"100",cy:"100",r:"88",fill:"none",stroke:"currentColor",strokeWidth:"6",strokeDasharray:2*Math.PI*88,strokeDashoffset:2*Math.PI*88-2*Math.PI*88*(ue/((q==null?void 0:q.duration)||1)),strokeLinecap:"round",className:"text-primary transition-all duration-700 ease-out"})]}),E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[E.jsxs("span",{className:"text-5xl font-black text-white tabular-nums tracking-tighter",children:[ue,E.jsx("span",{className:"text-xl font-bold text-muted-foreground ml-1",children:"m"})]}),E.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.3em] opacity-50 mt-1",children:"Remaining"})]})]})})]});case"progress":return E.jsxs("div",{className:"space-y-12",children:[E.jsx("h2",{className:"text-5xl font-black text-white",children:"Your Growth"}),ie.length===0?E.jsxs("div",{className:"py-24 text-center glass rounded-[3rem] border border-dashed border-border flex flex-col items-center gap-4",children:[E.jsx("h3",{className:"text-2xl font-black text-white",children:"No focus sessions yet"}),E.jsx("p",{className:"text-muted-foreground",children:"Complete your first session to see real-time metrics."}),E.jsx("button",{onClick:()=>u("home"),className:"mt-4 px-8 py-3 bg-primary text-black font-black rounded-xl",children:"Unlock My Time"})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[E.jsxs("div",{className:"glass p-8 rounded-[2.5rem] border border-primary/20 bg-primary/5 space-y-2",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-primary tracking-widest",children:"Current MVP Skill"}),E.jsx("h4",{className:"text-2xl font-black text-white",children:fn.mvpSkill})]}),E.jsxs("div",{className:"glass p-8 rounded-[2.5rem] border border-border space-y-2",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:"Total Focus Time"}),E.jsx("h4",{className:"text-2xl font-black text-white",children:fn.totalFocusTime})]}),E.jsxs("div",{className:"glass p-8 rounded-[2.5rem] border border-border space-y-2",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:"Deep Work Score"}),E.jsxs("h4",{className:"text-2xl font-black text-white",children:[fn.score," / 100"]})]}),E.jsxs("div",{className:"glass p-8 rounded-[2.5rem] border border-border space-y-2",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:"Daily Streak"}),E.jsxs("h4",{className:`text-2xl font-black ${fn.streak>0?"text-orange-400":"text-white"}`,children:[fn.streak," Days ",fn.streak>0&&""]})]})]}),E.jsx("div",{className:"glass p-10 rounded-[3rem] space-y-12",children:d.skills.map(F=>E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-end",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("h4",{className:"text-2xl font-black text-white",children:F.name}),E.jsx("p",{className:"text-xs font-black uppercase text-muted-foreground tracking-widest",children:F.category})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("span",{className:"block text-3xl font-black text-primary",children:[Kn[F.name]||0,"%"]}),E.jsxs("span",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:["Neural Level ",Math.floor((Kn[F.name]||0)/20)+1]})]})]}),E.jsx("div",{className:"h-6 w-full bg-muted rounded-2xl overflow-hidden p-1",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-primary/50 to-primary rounded-xl shadow-[0_0_15px_rgba(162,240,126,0.3)] transition-all duration-1000",style:{width:`${Kn[F.name]||0}%`}})})]},F.name))})]})]});case"chat":return E.jsx(_S,{messages:Fe,onSend:va,loading:P});case"settings":return E.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[E.jsx("h2",{className:"text-5xl font-black text-white",children:"Neural Settings"}),E.jsx("div",{className:"space-y-6",children:E.jsxs("div",{className:"glass p-10 rounded-[3rem] space-y-10 border border-border/50 shadow-2xl",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsx("h4",{className:"text-xs font-black uppercase text-primary tracking-widest",children:"Knowledge Profile"}),E.jsx("div",{onClick:()=>u("onboarding-l1"),className:"flex items-center justify-between p-6 bg-muted/30 rounded-[2rem] border border-border hover:border-primary transition-all cursor-pointer group",children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-2xl flex items-center justify-center group-hover:bg-primary transition-colors",children:E.jsx("svg",{className:"w-6 h-6 text-primary group-hover:text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),E.jsx("div",{children:E.jsx("p",{className:"text-white font-black text-lg",children:"Manage Skills & Priorities"})})]})}),E.jsx("div",{onClick:()=>u("schedule-input"),className:"flex items-center justify-between p-6 bg-muted/30 rounded-[2rem] border border-border hover:border-primary transition-all cursor-pointer group",children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-2xl flex items-center justify-center group-hover:bg-primary transition-colors",children:E.jsx("svg",{className:"w-6 h-6 text-primary group-hover:text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),E.jsx("div",{children:E.jsx("p",{className:"text-white font-black text-lg",children:"Recalibrate Daily Schedule"})})]})})]}),E.jsxs("div",{className:"space-y-10 pt-10 border-t border-border",children:[E.jsx("h4",{className:"text-xs font-black uppercase text-muted-foreground tracking-widest",children:"Environment"}),E.jsxs("div",{className:"p-6 rounded-2xl border border-border bg-white/[0.02] flex flex-col md:flex-row md:items-center justify-between gap-6",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("p",{className:"text-white font-black",children:"Log Out"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out of this device."})]}),E.jsx("button",{onClick:us,className:"px-6 py-2 border border-border text-muted-foreground hover:text-white rounded-lg text-sm font-bold",children:"Log Out"})]}),E.jsxs("div",{className:"p-6 rounded-2xl border border-red-500/20 bg-red-500/[0.02] flex flex-col md:flex-row md:items-center justify-between gap-6",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("p",{className:"text-red-400 font-black",children:"Delete Account & Wipe Data"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete sessions and progress."})]}),E.jsx("button",{onClick:()=>Ni(!0),className:"px-6 py-2 bg-red-500/20 text-red-400 rounded-lg text-sm font-bold",children:"Wipe Account"})]})]})]})})]});default:return null}},_n=["home","progress","chat","settings","suggestions","focus"].includes(l);return E.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden font-sans text-foreground",children:[q&&l!=="focus"&&E.jsx("div",{className:"fixed bottom-32 md:bottom-auto md:top-8 right-8 z-50 animate-bounce-subtle pointer-events-none",children:E.jsxs("button",{onClick:()=>u("focus"),className:"pointer-events-auto flex items-center gap-3 glass p-4 rounded-2xl border-2 border-primary shadow-2xl hover:scale-105 transition-all",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-primary animate-pulse"}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-primary tracking-widest leading-none mb-1",children:"In Focus"}),E.jsxs("p",{className:"text-sm font-bold text-white leading-tight",children:[ue,"m left"]})]})]})}),Ce&&!q&&E.jsx("div",{className:"fixed bottom-32 md:bottom-auto md:top-8 right-8 z-50 animate-bounce-subtle pointer-events-none",children:E.jsxs("button",{onClick:cs,className:"pointer-events-auto flex items-center gap-3 glass p-4 rounded-2xl border-2 border-accent shadow-2xl hover:scale-105 transition-all",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-accent animate-pulse"}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-accent tracking-widest leading-none mb-1",children:"Learning"}),E.jsx("p",{className:"text-sm font-bold text-white leading-tight",children:"Finish Session"})]})]})}),wi&&E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:E.jsxs("div",{className:"glass max-w-md w-full p-8 rounded-3xl border border-red-500/30 shadow-2xl space-y-6",children:[E.jsx("h3",{className:"text-2xl font-black text-white",children:"Are you absolutely sure?"}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("p",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest",children:"Type DELETE to confirm"}),E.jsx("input",{type:"text",value:to,onChange:X=>rs(X.target.value),placeholder:"DELETE",className:"w-full bg-black/40 border border-red-500/20 rounded-xl px-4 py-3 text-red-400 font-black focus:outline-none focus:ring-2 focus:ring-red-500/50"})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:()=>{Ni(!1),rs("")},className:"flex-1 py-3 glass rounded-xl text-white font-bold text-sm",children:"Cancel"}),E.jsx("button",{disabled:to!=="DELETE",onClick:ya,className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-black text-sm disabled:opacity-30 shadow-lg shadow-red-500/20",children:"Purge All Data"})]})]})}),_n&&E.jsx("div",{className:`hidden lg:block transition-all duration-300 ${we?"w-24":"w-72"} h-full z-20`,children:E.jsxs("aside",{className:"h-full border-r border-border bg-card/50 flex flex-col relative",children:[E.jsxs("div",{className:"p-8 flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 bg-primary rounded-2xl flex items-center justify-center shadow-lg shadow-primary/20 shrink-0",children:E.jsx("svg",{className:"w-6 h-6 text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),!we&&E.jsx("span",{className:"text-2xl font-black text-white tracking-tight",children:"SchedWise"})]}),E.jsx("nav",{className:"flex-1 px-4 space-y-3 mt-8 overflow-y-auto hide-scrollbar",children:[{id:"home",label:"Dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{id:"progress",label:"Growth Tree",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},{id:"chat",label:"Intelligence",icon:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"},{id:"settings",label:"Control",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}].map(X=>E.jsxs("button",{onClick:()=>u(X.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all group ${l===X.id?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-white/5 hover:text-white"}`,children:[E.jsx("svg",{className:"w-6 h-6 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:X.icon})}),!we&&E.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest whitespace-nowrap",children:X.label})]},X.id))}),E.jsx("button",{onClick:()=>w(!we),className:"absolute top-1/2 -right-3 w-6 h-6 bg-border border border-muted rounded-full flex items-center justify-center text-white hover:bg-primary transition-colors z-30",children:E.jsx("svg",{className:`w-4 h-4 transition-transform ${we?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})})]})}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-full relative z-10",children:[E.jsx("main",{className:`flex-1 overflow-y-auto p-6 md:p-16 lg:p-24 transition-all duration-500 ${_n?"pb-32 lg:pb-24":""}`,children:E.jsx("div",{className:"max-w-7xl mx-auto h-full",children:Sa()})}),_n&&E.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 glass-strong border-t border-border px-8 py-5 flex justify-around items-center z-50 safe-bottom",children:[{id:"home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{id:"progress",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},{id:"chat",icon:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"},{id:"settings",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}].map(X=>E.jsx("button",{onClick:()=>u(X.id),className:`p-3 rounded-2xl transition-all ${l===X.id?"bg-primary/20 text-primary shadow-xl scale-110":"text-muted-foreground"}`,children:E.jsx("svg",{className:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:X.icon})})},X.id))}),E.jsx("div",{className:"fixed bottom-[-15%] right-[-10%] w-[60%] h-[60%] bg-primary/10 rounded-full blur-[160px] pointer-events-none -z-10"}),E.jsx("div",{className:"fixed top-[-10%] left-[-10%] w-[40%] h-[40%] bg-accent/5 rounded-full blur-[120px] pointer-events-none -z-10"})]})]})},$0=document.getElementById("root");if(!$0)throw new Error("Could not find root element to mount to");const BM=vS.createRoot($0);BM.render(E.jsx(cS.StrictMode,{children:E.jsx(VM,{})}));
